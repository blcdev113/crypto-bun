(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();function mm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rc={exports:{}},Er={},lc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zi=Symbol.for("react.element"),pm=Symbol.for("react.portal"),vm=Symbol.for("react.fragment"),gm=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),wm=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),Sm=Symbol.for("react.suspense"),Nm=Symbol.for("react.memo"),Cm=Symbol.for("react.lazy"),Za=Symbol.iterator;function Em(t){return t===null||typeof t!="object"?null:(t=Za&&t[Za]||t["@@iterator"],typeof t=="function"?t:null)}var oc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ac=Object.assign,uc={};function Js(t,e,s){this.props=t,this.context=e,this.refs=uc,this.updater=s||oc}Js.prototype.isReactComponent={};Js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hc(){}hc.prototype=Js.prototype;function Uo(t,e,s){this.props=t,this.context=e,this.refs=uc,this.updater=s||oc}var Vo=Uo.prototype=new hc;Vo.constructor=Uo;ac(Vo,Js.prototype);Vo.isPureReactComponent=!0;var eu=Array.isArray,cc=Object.prototype.hasOwnProperty,Wo={current:null},dc={key:!0,ref:!0,__self:!0,__source:!0};function fc(t,e,s){var i,n={},r=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(r=""+e.key),e)cc.call(e,i)&&!dc.hasOwnProperty(i)&&(n[i]=e[i]);var a=arguments.length-2;if(a===1)n.children=s;else if(1<a){for(var o=Array(a),h=0;h<a;h++)o[h]=arguments[h+2];n.children=o}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)n[i]===void 0&&(n[i]=a[i]);return{$$typeof:Zi,type:t,key:r,ref:l,props:n,_owner:Wo.current}}function jm(t,e){return{$$typeof:Zi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ho(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zi}function km(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var tu=/\/+/g;function Gr(t,e){return typeof t=="object"&&t!==null&&t.key!=null?km(""+t.key):e.toString(36)}function On(t,e,s,i,n){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Zi:case pm:l=!0}}if(l)return l=t,n=n(l),t=i===""?"."+Gr(l,0):i,eu(n)?(s="",t!=null&&(s=t.replace(tu,"$&/")+"/"),On(n,e,s,"",function(h){return h})):n!=null&&(Ho(n)&&(n=jm(n,s+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(tu,"$&/")+"/")+t)),e.push(n)),1;if(l=0,i=i===""?".":i+":",eu(t))for(var a=0;a<t.length;a++){r=t[a];var o=i+Gr(r,a);l+=On(r,e,s,o,n)}else if(o=Em(t),typeof o=="function")for(t=o.call(t),a=0;!(r=t.next()).done;)r=r.value,o=i+Gr(r,a++),l+=On(r,e,s,o,n);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function hn(t,e,s){if(t==null)return t;var i=[],n=0;return On(t,i,"","",function(r){return e.call(s,r,n++)}),i}function _m(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},Fn={transition:null},Mm={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:Fn,ReactCurrentOwner:Wo};function mc(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:hn,forEach:function(t,e,s){hn(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return hn(t,function(){e++}),e},toArray:function(t){return hn(t,function(e){return e})||[]},only:function(t){if(!Ho(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Js;U.Fragment=vm;U.Profiler=xm;U.PureComponent=Uo;U.StrictMode=gm;U.Suspense=Sm;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm;U.act=mc;U.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=ac({},t.props),n=t.key,r=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,l=Wo.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)cc.call(e,o)&&!dc.hasOwnProperty(o)&&(i[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)i.children=s;else if(1<o){a=Array(o);for(var h=0;h<o;h++)a[h]=arguments[h+2];i.children=a}return{$$typeof:Zi,type:t.type,key:n,ref:r,props:i,_owner:l}};U.createContext=function(t){return t={$$typeof:wm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ym,_context:t},t.Consumer=t};U.createElement=fc;U.createFactory=function(t){var e=fc.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:bm,render:t}};U.isValidElement=Ho;U.lazy=function(t){return{$$typeof:Cm,_payload:{_status:-1,_result:t},_init:_m}};U.memo=function(t,e){return{$$typeof:Nm,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Fn.transition;Fn.transition={};try{t()}finally{Fn.transition=e}};U.unstable_act=mc;U.useCallback=function(t,e){return Me.current.useCallback(t,e)};U.useContext=function(t){return Me.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};U.useEffect=function(t,e){return Me.current.useEffect(t,e)};U.useId=function(){return Me.current.useId()};U.useImperativeHandle=function(t,e,s){return Me.current.useImperativeHandle(t,e,s)};U.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Me.current.useMemo(t,e)};U.useReducer=function(t,e,s){return Me.current.useReducer(t,e,s)};U.useRef=function(t){return Me.current.useRef(t)};U.useState=function(t){return Me.current.useState(t)};U.useSyncExternalStore=function(t,e,s){return Me.current.useSyncExternalStore(t,e,s)};U.useTransition=function(){return Me.current.useTransition()};U.version="18.3.1";lc.exports=U;var N=lc.exports;const re=mm(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=N,zm=Symbol.for("react.element"),Pm=Symbol.for("react.fragment"),Lm=Object.prototype.hasOwnProperty,Dm=Tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rm={key:!0,ref:!0,__self:!0,__source:!0};function pc(t,e,s){var i,n={},r=null,l=null;s!==void 0&&(r=""+s),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)Lm.call(e,i)&&!Rm.hasOwnProperty(i)&&(n[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:zm,type:t,key:r,ref:l,props:n,_owner:Dm.current}}Er.Fragment=Pm;Er.jsx=pc;Er.jsxs=pc;rc.exports=Er;var u=rc.exports,vc={exports:{}},Ie={},gc={exports:{}},xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,R){var O=T.length;T.push(R);e:for(;0<O;){var B=O-1>>>1,X=T[B];if(0<n(X,R))T[B]=R,T[O]=X,O=B;else break e}}function s(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var R=T[0],O=T.pop();if(O!==R){T[0]=O;e:for(var B=0,X=T.length,jt=X>>>1;B<jt;){var Ye=2*(B+1)-1,M=T[Ye],I=Ye+1,L=T[I];if(0>n(M,O))I<X&&0>n(L,M)?(T[B]=L,T[I]=O,B=I):(T[B]=M,T[Ye]=O,B=Ye);else if(I<X&&0>n(L,O))T[B]=L,T[I]=O,B=I;else break e}}return R}function n(T,R){var O=T.sortIndex-R.sortIndex;return O!==0?O:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var o=[],h=[],c=1,d=null,f=3,g=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var R=s(h);R!==null;){if(R.callback===null)i(h);else if(R.startTime<=T)i(h),R.sortIndex=R.expirationTime,e(o,R);else break;R=s(h)}}function w(T){if(y=!1,v(T),!x)if(s(o)!==null)x=!0,he(S);else{var R=s(h);R!==null&&pe(w,R.startTime-T)}}function S(T,R){x=!1,y&&(y=!1,m(_),_=-1),g=!0;var O=f;try{for(v(R),d=s(o);d!==null&&(!(d.expirationTime>R)||T&&!A());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var X=B(d.expirationTime<=R);R=t.unstable_now(),typeof X=="function"?d.callback=X:d===s(o)&&i(o),v(R)}else i(o);d=s(o)}if(d!==null)var jt=!0;else{var Ye=s(h);Ye!==null&&pe(w,Ye.startTime-R),jt=!1}return jt}finally{d=null,f=O,g=!1}}var E=!1,C=null,_=-1,F=5,z=-1;function A(){return!(t.unstable_now()-z<F)}function D(){if(C!==null){var T=t.unstable_now();z=T;var R=!0;try{R=C(!0,T)}finally{R?$():(E=!1,C=null)}}else E=!1}var $;if(typeof p=="function")$=function(){p(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ue=W.port2;W.port1.onmessage=D,$=function(){ue.postMessage(null)}}else $=function(){b(D,0)};function he(T){C=T,E||(E=!0,$())}function pe(T,R){_=b(function(){T(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,he(S))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return s(o)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var O=f;f=R;try{return T()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var O=f;f=T;try{return R()}finally{f=O}},t.unstable_scheduleCallback=function(T,R,O){var B=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?B+O:B):O=B,T){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=O+X,T={id:c++,callback:R,priorityLevel:T,startTime:O,expirationTime:X,sortIndex:-1},O>B?(T.sortIndex=O,e(h,T),s(o)===null&&T===s(h)&&(y?(m(_),_=-1):y=!0,pe(w,O-B))):(T.sortIndex=X,e(o,T),x||g||(x=!0,he(S))),T},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(T){var R=f;return function(){var O=f;f=R;try{return T.apply(this,arguments)}finally{f=O}}}})(xc);gc.exports=xc;var $m=gc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om=N,Be=$m;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yc=new Set,Ti={};function ps(t,e){Is(t,e),Is(t+"Capture",e)}function Is(t,e){for(Ti[t]=e,t=0;t<e.length;t++)yc.add(e[t])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,Fm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,su={},iu={};function Am(t){return Bl.call(iu,t)?!0:Bl.call(su,t)?!1:Fm.test(t)?iu[t]=!0:(su[t]=!0,!1)}function Bm(t,e,s,i){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Im(t,e,s,i){if(e===null||typeof e>"u"||Bm(t,e,s,i))return!0;if(i)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,s,i,n,r,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=l}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ko=/[\-:]([a-z])/g;function Xo(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ko,Xo);ye[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ko,Xo);ye[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ko,Xo);ye[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qo(t,e,s,i){var n=ye.hasOwnProperty(e)?ye[e]:null;(n!==null?n.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Im(e,s,n,i)&&(s=null),i||n===null?Am(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):n.mustUseProperty?t[n.propertyName]=s===null?n.type===3?!1:"":s:(e=n.attributeName,i=n.attributeNamespace,s===null?t.removeAttribute(e):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,i?t.setAttributeNS(i,e,s):t.setAttribute(e,s))))}var Et=Om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cn=Symbol.for("react.element"),ys=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),Go=Symbol.for("react.strict_mode"),Il=Symbol.for("react.profiler"),wc=Symbol.for("react.provider"),bc=Symbol.for("react.context"),Yo=Symbol.for("react.forward_ref"),Ul=Symbol.for("react.suspense"),Vl=Symbol.for("react.suspense_list"),Jo=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),Sc=Symbol.for("react.offscreen"),nu=Symbol.iterator;function si(t){return t===null||typeof t!="object"?null:(t=nu&&t[nu]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,Yr;function fi(t){if(Yr===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Yr=e&&e[1]||""}return`
`+Yr+t}var Jr=!1;function qr(t,e){if(!t||Jr)return"";Jr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){i=h}t.call(e.prototype)}else{try{throw Error()}catch(h){i=h}t()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var n=h.stack.split(`
`),r=i.stack.split(`
`),l=n.length-1,a=r.length-1;1<=l&&0<=a&&n[l]!==r[a];)a--;for(;1<=l&&0<=a;l--,a--)if(n[l]!==r[a]){if(l!==1||a!==1)do if(l--,a--,0>a||n[l]!==r[a]){var o=`
`+n[l].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=l&&0<=a);break}}}finally{Jr=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?fi(t):""}function Um(t){switch(t.tag){case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 2:case 15:return t=qr(t.type,!1),t;case 11:return t=qr(t.type.render,!1),t;case 1:return t=qr(t.type,!0),t;default:return""}}function Wl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case ys:return"Portal";case Il:return"Profiler";case Go:return"StrictMode";case Ul:return"Suspense";case Vl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bc:return(t.displayName||"Context")+".Consumer";case wc:return(t._context.displayName||"Context")+".Provider";case Yo:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jo:return e=t.displayName||null,e!==null?e:Wl(t.type)||"Memo";case Mt:e=t._payload,t=t._init;try{return Wl(t(e))}catch{}}return null}function Vm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wl(e);case 8:return e===Go?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wm(t){var e=Nc(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,r=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(l){i=""+l,r.call(this,l)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dn(t){t._valueTracker||(t._valueTracker=Wm(t))}function Cc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),i="";return t&&(i=Nc(t)?t.checked?"true":"false":t.value),t=i,t!==s?(e.setValue(t),!0):!1}function Yn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hl(t,e){var s=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function ru(t,e){var s=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;s=Vt(e.value!=null?e.value:s),t._wrapperState={initialChecked:i,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ec(t,e){e=e.checked,e!=null&&Qo(t,"checked",e,!1)}function Kl(t,e){Ec(t,e);var s=Vt(e.value),i=e.type;if(s!=null)i==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xl(t,e.type,s):e.hasOwnProperty("defaultValue")&&Xl(t,e.type,Vt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lu(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Xl(t,e,s){(e!=="number"||Yn(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var mi=Array.isArray;function Ds(t,e,s,i){if(t=t.options,e){e={};for(var n=0;n<s.length;n++)e["$"+s[n]]=!0;for(s=0;s<t.length;s++)n=e.hasOwnProperty("$"+t[s].value),t[s].selected!==n&&(t[s].selected=n),n&&i&&(t[s].defaultSelected=!0)}else{for(s=""+Vt(s),e=null,n=0;n<t.length;n++){if(t[n].value===s){t[n].selected=!0,i&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function Ql(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ou(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(k(92));if(mi(s)){if(1<s.length)throw Error(k(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:Vt(s)}}function jc(t,e){var s=Vt(e.value),i=Vt(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),i!=null&&(t.defaultValue=""+i)}function au(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fn,_c=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,i,n){MSApp.execUnsafeLocalFunction(function(){return t(e,s,i,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fn=fn||document.createElement("div"),fn.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zi(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hm=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(t){Hm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gi[e]=gi[t]})});function Mc(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||gi.hasOwnProperty(t)&&gi[t]?(""+e).trim():e+"px"}function Tc(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var i=s.indexOf("--")===0,n=Mc(s,e[s],i);s==="float"&&(s="cssFloat"),i?t.setProperty(s,n):t[s]=n}}var Km=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(t,e){if(e){if(Km[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function Jl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=null;function qo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zl=null,Rs=null,$s=null;function uu(t){if(t=sn(t)){if(typeof Zl!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Tr(e),Zl(t.stateNode,t.type,e))}}function zc(t){Rs?$s?$s.push(t):$s=[t]:Rs=t}function Pc(){if(Rs){var t=Rs,e=$s;if($s=Rs=null,uu(t),e)for(t=0;t<e.length;t++)uu(e[t])}}function Lc(t,e){return t(e)}function Dc(){}var Zr=!1;function Rc(t,e,s){if(Zr)return t(e,s);Zr=!0;try{return Lc(t,e,s)}finally{Zr=!1,(Rs!==null||$s!==null)&&(Dc(),Pc())}}function Pi(t,e){var s=t.stateNode;if(s===null)return null;var i=Tr(s);if(i===null)return null;s=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(k(231,e,typeof s));return s}var eo=!1;if(bt)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){eo=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{eo=!1}function Xm(t,e,s,i,n,r,l,a,o){var h=Array.prototype.slice.call(arguments,3);try{e.apply(s,h)}catch(c){this.onError(c)}}var xi=!1,Jn=null,qn=!1,to=null,Qm={onError:function(t){xi=!0,Jn=t}};function Gm(t,e,s,i,n,r,l,a,o){xi=!1,Jn=null,Xm.apply(Qm,arguments)}function Ym(t,e,s,i,n,r,l,a,o){if(Gm.apply(this,arguments),xi){if(xi){var h=Jn;xi=!1,Jn=null}else throw Error(k(198));qn||(qn=!0,to=h)}}function vs(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function $c(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hu(t){if(vs(t)!==t)throw Error(k(188))}function Jm(t){var e=t.alternate;if(!e){if(e=vs(t),e===null)throw Error(k(188));return e!==t?null:t}for(var s=t,i=e;;){var n=s.return;if(n===null)break;var r=n.alternate;if(r===null){if(i=n.return,i!==null){s=i;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===s)return hu(n),t;if(r===i)return hu(n),e;r=r.sibling}throw Error(k(188))}if(s.return!==i.return)s=n,i=r;else{for(var l=!1,a=n.child;a;){if(a===s){l=!0,s=n,i=r;break}if(a===i){l=!0,i=n,s=r;break}a=a.sibling}if(!l){for(a=r.child;a;){if(a===s){l=!0,s=r,i=n;break}if(a===i){l=!0,i=r,s=n;break}a=a.sibling}if(!l)throw Error(k(189))}}if(s.alternate!==i)throw Error(k(190))}if(s.tag!==3)throw Error(k(188));return s.stateNode.current===s?t:e}function Oc(t){return t=Jm(t),t!==null?Fc(t):null}function Fc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fc(t);if(e!==null)return e;t=t.sibling}return null}var Ac=Be.unstable_scheduleCallback,cu=Be.unstable_cancelCallback,qm=Be.unstable_shouldYield,Zm=Be.unstable_requestPaint,le=Be.unstable_now,ep=Be.unstable_getCurrentPriorityLevel,Zo=Be.unstable_ImmediatePriority,Bc=Be.unstable_UserBlockingPriority,Zn=Be.unstable_NormalPriority,tp=Be.unstable_LowPriority,Ic=Be.unstable_IdlePriority,jr=null,dt=null;function sp(t){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(jr,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:rp,ip=Math.log,np=Math.LN2;function rp(t){return t>>>=0,t===0?32:31-(ip(t)/np|0)|0}var mn=64,pn=4194304;function pi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function er(t,e){var s=t.pendingLanes;if(s===0)return 0;var i=0,n=t.suspendedLanes,r=t.pingedLanes,l=s&268435455;if(l!==0){var a=l&~n;a!==0?i=pi(a):(r&=l,r!==0&&(i=pi(r)))}else l=s&~n,l!==0?i=pi(l):r!==0&&(i=pi(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&n)&&(n=i&-i,r=e&-e,n>=r||n===16&&(r&4194240)!==0))return e;if(i&4&&(i|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)s=31-tt(e),n=1<<s,i|=t[s],e&=~n;return i}function lp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function op(t,e){for(var s=t.suspendedLanes,i=t.pingedLanes,n=t.expirationTimes,r=t.pendingLanes;0<r;){var l=31-tt(r),a=1<<l,o=n[l];o===-1?(!(a&s)||a&i)&&(n[l]=lp(a,e)):o<=e&&(t.expiredLanes|=a),r&=~a}}function so(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uc(){var t=mn;return mn<<=1,!(mn&4194240)&&(mn=64),t}function el(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function en(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=s}function ap(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<s;){var n=31-tt(s),r=1<<n;e[n]=0,i[n]=-1,t[n]=-1,s&=~r}}function ea(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var i=31-tt(s),n=1<<i;n&e|t[i]&e&&(t[i]|=e),s&=~n}}var H=0;function Vc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wc,ta,Hc,Kc,Xc,io=!1,vn=[],Rt=null,$t=null,Ot=null,Li=new Map,Di=new Map,zt=[],up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(t,e){switch(t){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Li.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(e.pointerId)}}function ni(t,e,s,i,n,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:s,eventSystemFlags:i,nativeEvent:r,targetContainers:[n]},e!==null&&(e=sn(e),e!==null&&ta(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function hp(t,e,s,i,n){switch(e){case"focusin":return Rt=ni(Rt,t,e,s,i,n),!0;case"dragenter":return $t=ni($t,t,e,s,i,n),!0;case"mouseover":return Ot=ni(Ot,t,e,s,i,n),!0;case"pointerover":var r=n.pointerId;return Li.set(r,ni(Li.get(r)||null,t,e,s,i,n)),!0;case"gotpointercapture":return r=n.pointerId,Di.set(r,ni(Di.get(r)||null,t,e,s,i,n)),!0}return!1}function Qc(t){var e=Zt(t.target);if(e!==null){var s=vs(e);if(s!==null){if(e=s.tag,e===13){if(e=$c(s),e!==null){t.blockedOn=e,Xc(t.priority,function(){Hc(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function An(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=no(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var i=new s.constructor(s.type,s);ql=i,s.target.dispatchEvent(i),ql=null}else return e=sn(s),e!==null&&ta(e),t.blockedOn=s,!1;e.shift()}return!0}function fu(t,e,s){An(t)&&s.delete(e)}function cp(){io=!1,Rt!==null&&An(Rt)&&(Rt=null),$t!==null&&An($t)&&($t=null),Ot!==null&&An(Ot)&&(Ot=null),Li.forEach(fu),Di.forEach(fu)}function ri(t,e){t.blockedOn===e&&(t.blockedOn=null,io||(io=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,cp)))}function Ri(t){function e(n){return ri(n,t)}if(0<vn.length){ri(vn[0],t);for(var s=1;s<vn.length;s++){var i=vn[s];i.blockedOn===t&&(i.blockedOn=null)}}for(Rt!==null&&ri(Rt,t),$t!==null&&ri($t,t),Ot!==null&&ri(Ot,t),Li.forEach(e),Di.forEach(e),s=0;s<zt.length;s++)i=zt[s],i.blockedOn===t&&(i.blockedOn=null);for(;0<zt.length&&(s=zt[0],s.blockedOn===null);)Qc(s),s.blockedOn===null&&zt.shift()}var Os=Et.ReactCurrentBatchConfig,tr=!0;function dp(t,e,s,i){var n=H,r=Os.transition;Os.transition=null;try{H=1,sa(t,e,s,i)}finally{H=n,Os.transition=r}}function fp(t,e,s,i){var n=H,r=Os.transition;Os.transition=null;try{H=4,sa(t,e,s,i)}finally{H=n,Os.transition=r}}function sa(t,e,s,i){if(tr){var n=no(t,e,s,i);if(n===null)hl(t,e,i,sr,s),du(t,i);else if(hp(n,t,e,s,i))i.stopPropagation();else if(du(t,i),e&4&&-1<up.indexOf(t)){for(;n!==null;){var r=sn(n);if(r!==null&&Wc(r),r=no(t,e,s,i),r===null&&hl(t,e,i,sr,s),r===n)break;n=r}n!==null&&i.stopPropagation()}else hl(t,e,i,null,s)}}var sr=null;function no(t,e,s,i){if(sr=null,t=qo(i),t=Zt(t),t!==null)if(e=vs(t),e===null)t=null;else if(s=e.tag,s===13){if(t=$c(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sr=t,null}function Gc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ep()){case Zo:return 1;case Bc:return 4;case Zn:case tp:return 16;case Ic:return 536870912;default:return 16}default:return 16}}var Lt=null,ia=null,Bn=null;function Yc(){if(Bn)return Bn;var t,e=ia,s=e.length,i,n="value"in Lt?Lt.value:Lt.textContent,r=n.length;for(t=0;t<s&&e[t]===n[t];t++);var l=s-t;for(i=1;i<=l&&e[s-i]===n[r-i];i++);return Bn=n.slice(t,1<i?1-i:void 0)}function In(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gn(){return!0}function mu(){return!1}function Ue(t){function e(s,i,n,r,l){this._reactName=s,this._targetInst=n,this.type=i,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(s=t[a],this[a]=s?s(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?gn:mu,this.isPropagationStopped=mu,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gn)},persist:function(){},isPersistent:gn}),e}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Ue(qs),tn=ie({},qs,{view:0,detail:0}),mp=Ue(tn),tl,sl,li,kr=ie({},tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(tl=t.screenX-li.screenX,sl=t.screenY-li.screenY):sl=tl=0,li=t),tl)},movementY:function(t){return"movementY"in t?t.movementY:sl}}),pu=Ue(kr),pp=ie({},kr,{dataTransfer:0}),vp=Ue(pp),gp=ie({},tn,{relatedTarget:0}),il=Ue(gp),xp=ie({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),yp=Ue(xp),wp=ie({},qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bp=Ue(wp),Sp=ie({},qs,{data:0}),vu=Ue(Sp),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ep[t])?!!e[t]:!1}function ra(){return jp}var kp=ie({},tn,{key:function(t){if(t.key){var e=Np[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=In(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(t){return t.type==="keypress"?In(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?In(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_p=Ue(kp),Mp=ie({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=Ue(Mp),Tp=ie({},tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),zp=Ue(Tp),Pp=ie({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lp=Ue(Pp),Dp=ie({},kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rp=Ue(Dp),$p=[9,13,27,32],la=bt&&"CompositionEvent"in window,yi=null;bt&&"documentMode"in document&&(yi=document.documentMode);var Op=bt&&"TextEvent"in window&&!yi,Jc=bt&&(!la||yi&&8<yi&&11>=yi),xu=" ",yu=!1;function qc(t,e){switch(t){case"keyup":return $p.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bs=!1;function Fp(t,e){switch(t){case"compositionend":return Zc(e);case"keypress":return e.which!==32?null:(yu=!0,xu);case"textInput":return t=e.data,t===xu&&yu?null:t;default:return null}}function Ap(t,e){if(bs)return t==="compositionend"||!la&&qc(t,e)?(t=Yc(),Bn=ia=Lt=null,bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jc&&e.locale!=="ko"?null:e.data;default:return null}}var Bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bp[t.type]:e==="textarea"}function ed(t,e,s,i){zc(i),e=ir(e,"onChange"),0<e.length&&(s=new na("onChange","change",null,s,i),t.push({event:s,listeners:e}))}var wi=null,$i=null;function Ip(t){cd(t,0)}function _r(t){var e=Cs(t);if(Cc(e))return t}function Up(t,e){if(t==="change")return e}var td=!1;if(bt){var nl;if(bt){var rl="oninput"in document;if(!rl){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),rl=typeof bu.oninput=="function"}nl=rl}else nl=!1;td=nl&&(!document.documentMode||9<document.documentMode)}function Su(){wi&&(wi.detachEvent("onpropertychange",sd),$i=wi=null)}function sd(t){if(t.propertyName==="value"&&_r($i)){var e=[];ed(e,$i,t,qo(t)),Rc(Ip,e)}}function Vp(t,e,s){t==="focusin"?(Su(),wi=e,$i=s,wi.attachEvent("onpropertychange",sd)):t==="focusout"&&Su()}function Wp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _r($i)}function Hp(t,e){if(t==="click")return _r(e)}function Kp(t,e){if(t==="input"||t==="change")return _r(e)}function Xp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var it=typeof Object.is=="function"?Object.is:Xp;function Oi(t,e){if(it(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),i=Object.keys(e);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var n=s[i];if(!Bl.call(e,n)||!it(t[n],e[n]))return!1}return!0}function Nu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cu(t,e){var s=Nu(t);t=0;for(var i;s;){if(s.nodeType===3){if(i=t+s.textContent.length,t<=e&&i>=e)return{node:s,offset:e-t};t=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Nu(s)}}function id(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?id(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nd(){for(var t=window,e=Yn();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Yn(t.document)}return e}function oa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qp(t){var e=nd(),s=t.focusedElem,i=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&id(s.ownerDocument.documentElement,s)){if(i!==null&&oa(s)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=s.textContent.length,r=Math.min(i.start,n);i=i.end===void 0?r:Math.min(i.end,n),!t.extend&&r>i&&(n=i,i=r,r=n),n=Cu(s,r);var l=Cu(s,i);n&&l&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gp=bt&&"documentMode"in document&&11>=document.documentMode,Ss=null,ro=null,bi=null,lo=!1;function Eu(t,e,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;lo||Ss==null||Ss!==Yn(i)||(i=Ss,"selectionStart"in i&&oa(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),bi&&Oi(bi,i)||(bi=i,i=ir(ro,"onSelect"),0<i.length&&(e=new na("onSelect","select",null,e,s),t.push({event:e,listeners:i}),e.target=Ss)))}function xn(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var Ns={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionend:xn("Transition","TransitionEnd")},ll={},rd={};bt&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Mr(t){if(ll[t])return ll[t];if(!Ns[t])return t;var e=Ns[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in rd)return ll[t]=e[s];return t}var ld=Mr("animationend"),od=Mr("animationiteration"),ad=Mr("animationstart"),ud=Mr("transitionend"),hd=new Map,ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(t,e){hd.set(t,e),ps(e,[t])}for(var ol=0;ol<ju.length;ol++){var al=ju[ol],Yp=al.toLowerCase(),Jp=al[0].toUpperCase()+al.slice(1);Kt(Yp,"on"+Jp)}Kt(ld,"onAnimationEnd");Kt(od,"onAnimationIteration");Kt(ad,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(ud,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qp=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function ku(t,e,s){var i=t.type||"unknown-event";t.currentTarget=s,Ym(i,e,void 0,t),t.currentTarget=null}function cd(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var i=t[s],n=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var l=i.length-1;0<=l;l--){var a=i[l],o=a.instance,h=a.currentTarget;if(a=a.listener,o!==r&&n.isPropagationStopped())break e;ku(n,a,h),r=o}else for(l=0;l<i.length;l++){if(a=i[l],o=a.instance,h=a.currentTarget,a=a.listener,o!==r&&n.isPropagationStopped())break e;ku(n,a,h),r=o}}}if(qn)throw t=to,qn=!1,to=null,t}function Y(t,e){var s=e[co];s===void 0&&(s=e[co]=new Set);var i=t+"__bubble";s.has(i)||(dd(e,t,2,!1),s.add(i))}function ul(t,e,s){var i=0;e&&(i|=4),dd(s,t,i,e)}var yn="_reactListening"+Math.random().toString(36).slice(2);function Fi(t){if(!t[yn]){t[yn]=!0,yc.forEach(function(s){s!=="selectionchange"&&(qp.has(s)||ul(s,!1,t),ul(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yn]||(e[yn]=!0,ul("selectionchange",!1,e))}}function dd(t,e,s,i){switch(Gc(e)){case 1:var n=dp;break;case 4:n=fp;break;default:n=sa}s=n.bind(null,e,s,t),n=void 0,!eo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),i?n!==void 0?t.addEventListener(e,s,{capture:!0,passive:n}):t.addEventListener(e,s,!0):n!==void 0?t.addEventListener(e,s,{passive:n}):t.addEventListener(e,s,!1)}function hl(t,e,s,i,n){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var a=i.stateNode.containerInfo;if(a===n||a.nodeType===8&&a.parentNode===n)break;if(l===4)for(l=i.return;l!==null;){var o=l.tag;if((o===3||o===4)&&(o=l.stateNode.containerInfo,o===n||o.nodeType===8&&o.parentNode===n))return;l=l.return}for(;a!==null;){if(l=Zt(a),l===null)return;if(o=l.tag,o===5||o===6){i=r=l;continue e}a=a.parentNode}}i=i.return}Rc(function(){var h=r,c=qo(s),d=[];e:{var f=hd.get(t);if(f!==void 0){var g=na,x=t;switch(t){case"keypress":if(In(s)===0)break e;case"keydown":case"keyup":g=_p;break;case"focusin":x="focus",g=il;break;case"focusout":x="blur",g=il;break;case"beforeblur":case"afterblur":g=il;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zp;break;case ld:case od:case ad:g=yp;break;case ud:g=Lp;break;case"scroll":g=mp;break;case"wheel":g=Rp;break;case"copy":case"cut":case"paste":g=bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=gu}var y=(e&4)!==0,b=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=h,v;p!==null;){v=p;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,m!==null&&(w=Pi(p,m),w!=null&&y.push(Ai(p,w,v)))),b)break;p=p.return}0<y.length&&(f=new g(f,x,null,s,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&s!==ql&&(x=s.relatedTarget||s.fromElement)&&(Zt(x)||x[St]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=s.relatedTarget||s.toElement,g=h,x=x?Zt(x):null,x!==null&&(b=vs(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=h),g!==x)){if(y=pu,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=gu,w="onPointerLeave",m="onPointerEnter",p="pointer"),b=g==null?f:Cs(g),v=x==null?f:Cs(x),f=new y(w,p+"leave",g,s,c),f.target=b,f.relatedTarget=v,w=null,Zt(c)===h&&(y=new y(m,p+"enter",x,s,c),y.target=v,y.relatedTarget=b,w=y),b=w,g&&x)t:{for(y=g,m=x,p=0,v=y;v;v=gs(v))p++;for(v=0,w=m;w;w=gs(w))v++;for(;0<p-v;)y=gs(y),p--;for(;0<v-p;)m=gs(m),v--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=gs(y),m=gs(m)}y=null}else y=null;g!==null&&_u(d,f,g,y,!1),x!==null&&b!==null&&_u(d,b,x,y,!0)}}e:{if(f=h?Cs(h):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=Up;else if(wu(f))if(td)S=Kp;else{S=Wp;var E=Vp}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Hp);if(S&&(S=S(t,h))){ed(d,S,s,c);break e}E&&E(t,f,h),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Xl(f,"number",f.value)}switch(E=h?Cs(h):window,t){case"focusin":(wu(E)||E.contentEditable==="true")&&(Ss=E,ro=h,bi=null);break;case"focusout":bi=ro=Ss=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,Eu(d,s,c);break;case"selectionchange":if(Gp)break;case"keydown":case"keyup":Eu(d,s,c)}var C;if(la)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else bs?qc(t,s)&&(_="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_="onCompositionStart");_&&(Jc&&s.locale!=="ko"&&(bs||_!=="onCompositionStart"?_==="onCompositionEnd"&&bs&&(C=Yc()):(Lt=c,ia="value"in Lt?Lt.value:Lt.textContent,bs=!0)),E=ir(h,_),0<E.length&&(_=new vu(_,t,null,s,c),d.push({event:_,listeners:E}),C?_.data=C:(C=Zc(s),C!==null&&(_.data=C)))),(C=Op?Fp(t,s):Ap(t,s))&&(h=ir(h,"onBeforeInput"),0<h.length&&(c=new vu("onBeforeInput","beforeinput",null,s,c),d.push({event:c,listeners:h}),c.data=C))}cd(d,e)})}function Ai(t,e,s){return{instance:t,listener:e,currentTarget:s}}function ir(t,e){for(var s=e+"Capture",i=[];t!==null;){var n=t,r=n.stateNode;n.tag===5&&r!==null&&(n=r,r=Pi(t,s),r!=null&&i.unshift(Ai(t,r,n)),r=Pi(t,e),r!=null&&i.push(Ai(t,r,n))),t=t.return}return i}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _u(t,e,s,i,n){for(var r=e._reactName,l=[];s!==null&&s!==i;){var a=s,o=a.alternate,h=a.stateNode;if(o!==null&&o===i)break;a.tag===5&&h!==null&&(a=h,n?(o=Pi(s,r),o!=null&&l.unshift(Ai(s,o,a))):n||(o=Pi(s,r),o!=null&&l.push(Ai(s,o,a)))),s=s.return}l.length!==0&&t.push({event:e,listeners:l})}var Zp=/\r\n?/g,e0=/\u0000|\uFFFD/g;function Mu(t){return(typeof t=="string"?t:""+t).replace(Zp,`
`).replace(e0,"")}function wn(t,e,s){if(e=Mu(e),Mu(t)!==e&&s)throw Error(k(425))}function nr(){}var oo=null,ao=null;function uo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ho=typeof setTimeout=="function"?setTimeout:void 0,t0=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,s0=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(t){return Tu.resolve(null).then(t).catch(i0)}:ho;function i0(t){setTimeout(function(){throw t})}function cl(t,e){var s=e,i=0;do{var n=s.nextSibling;if(t.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){t.removeChild(n),Ri(e);return}i--}else s!=="$"&&s!=="$?"&&s!=="$!"||i++;s=n}while(s);Ri(e)}function Ft(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),ht="__reactFiber$"+Zs,Bi="__reactProps$"+Zs,St="__reactContainer$"+Zs,co="__reactEvents$"+Zs,n0="__reactListeners$"+Zs,r0="__reactHandles$"+Zs;function Zt(t){var e=t[ht];if(e)return e;for(var s=t.parentNode;s;){if(e=s[St]||s[ht]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=zu(t);t!==null;){if(s=t[ht])return s;t=zu(t)}return e}t=s,s=t.parentNode}return null}function sn(t){return t=t[ht]||t[St],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Tr(t){return t[Bi]||null}var fo=[],Es=-1;function Xt(t){return{current:t}}function q(t){0>Es||(t.current=fo[Es],fo[Es]=null,Es--)}function G(t,e){Es++,fo[Es]=t.current,t.current=e}var Wt={},Ce=Xt(Wt),Le=Xt(!1),rs=Wt;function Us(t,e){var s=t.type.contextTypes;if(!s)return Wt;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var n={},r;for(r in s)n[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function De(t){return t=t.childContextTypes,t!=null}function rr(){q(Le),q(Ce)}function Pu(t,e,s){if(Ce.current!==Wt)throw Error(k(168));G(Ce,e),G(Le,s)}function fd(t,e,s){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return s;i=i.getChildContext();for(var n in i)if(!(n in e))throw Error(k(108,Vm(t)||"Unknown",n));return ie({},s,i)}function lr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wt,rs=Ce.current,G(Ce,t),G(Le,Le.current),!0}function Lu(t,e,s){var i=t.stateNode;if(!i)throw Error(k(169));s?(t=fd(t,e,rs),i.__reactInternalMemoizedMergedChildContext=t,q(Le),q(Ce),G(Ce,t)):q(Le),G(Le,s)}var pt=null,zr=!1,dl=!1;function md(t){pt===null?pt=[t]:pt.push(t)}function l0(t){zr=!0,md(t)}function Qt(){if(!dl&&pt!==null){dl=!0;var t=0,e=H;try{var s=pt;for(H=1;t<s.length;t++){var i=s[t];do i=i(!0);while(i!==null)}pt=null,zr=!1}catch(n){throw pt!==null&&(pt=pt.slice(t+1)),Ac(Zo,Qt),n}finally{H=e,dl=!1}}return null}var js=[],ks=0,or=null,ar=0,We=[],He=0,ls=null,vt=1,gt="";function Jt(t,e){js[ks++]=ar,js[ks++]=or,or=t,ar=e}function pd(t,e,s){We[He++]=vt,We[He++]=gt,We[He++]=ls,ls=t;var i=vt;t=gt;var n=32-tt(i)-1;i&=~(1<<n),s+=1;var r=32-tt(e)+n;if(30<r){var l=n-n%5;r=(i&(1<<l)-1).toString(32),i>>=l,n-=l,vt=1<<32-tt(e)+n|s<<n|i,gt=r+t}else vt=1<<r|s<<n|i,gt=t}function aa(t){t.return!==null&&(Jt(t,1),pd(t,1,0))}function ua(t){for(;t===or;)or=js[--ks],js[ks]=null,ar=js[--ks],js[ks]=null;for(;t===ls;)ls=We[--He],We[He]=null,gt=We[--He],We[He]=null,vt=We[--He],We[He]=null}var Ae=null,Fe=null,ee=!1,et=null;function vd(t,e){var s=Ke(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function Du(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ae=t,Fe=Ft(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ae=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=ls!==null?{id:vt,overflow:gt}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Ke(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,Ae=t,Fe=null,!0):!1;default:return!1}}function mo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function po(t){if(ee){var e=Fe;if(e){var s=e;if(!Du(t,e)){if(mo(t))throw Error(k(418));e=Ft(s.nextSibling);var i=Ae;e&&Du(t,e)?vd(i,s):(t.flags=t.flags&-4097|2,ee=!1,Ae=t)}}else{if(mo(t))throw Error(k(418));t.flags=t.flags&-4097|2,ee=!1,Ae=t}}}function Ru(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ae=t}function bn(t){if(t!==Ae)return!1;if(!ee)return Ru(t),ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uo(t.type,t.memoizedProps)),e&&(e=Fe)){if(mo(t))throw gd(),Error(k(418));for(;e;)vd(t,e),e=Ft(e.nextSibling)}if(Ru(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){Fe=Ft(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=Ae?Ft(t.stateNode.nextSibling):null;return!0}function gd(){for(var t=Fe;t;)t=Ft(t.nextSibling)}function Vs(){Fe=Ae=null,ee=!1}function ha(t){et===null?et=[t]:et.push(t)}var o0=Et.ReactCurrentBatchConfig;function oi(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(k(309));var i=s.stateNode}if(!i)throw Error(k(147,t));var n=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(l){var a=n.refs;l===null?delete a[r]:a[r]=l},e._stringRef=r,e)}if(typeof t!="string")throw Error(k(284));if(!s._owner)throw Error(k(290,t))}return t}function Sn(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $u(t){var e=t._init;return e(t._payload)}function xd(t){function e(m,p){if(t){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function s(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function i(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function n(m,p){return m=Ut(m,p),m.index=0,m.sibling=null,m}function r(m,p,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function l(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,v,w){return p===null||p.tag!==6?(p=yl(v,m.mode,w),p.return=m,p):(p=n(p,v),p.return=m,p)}function o(m,p,v,w){var S=v.type;return S===ws?c(m,p,v.props.children,w,v.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mt&&$u(S)===p.type)?(w=n(p,v.props),w.ref=oi(m,p,v),w.return=m,w):(w=Qn(v.type,v.key,v.props,null,m.mode,w),w.ref=oi(m,p,v),w.return=m,w)}function h(m,p,v,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=wl(v,m.mode,w),p.return=m,p):(p=n(p,v.children||[]),p.return=m,p)}function c(m,p,v,w,S){return p===null||p.tag!==7?(p=is(v,m.mode,w,S),p.return=m,p):(p=n(p,v),p.return=m,p)}function d(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=yl(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case cn:return v=Qn(p.type,p.key,p.props,null,m.mode,v),v.ref=oi(m,null,p),v.return=m,v;case ys:return p=wl(p,m.mode,v),p.return=m,p;case Mt:var w=p._init;return d(m,w(p._payload),v)}if(mi(p)||si(p))return p=is(p,m.mode,v,null),p.return=m,p;Sn(m,p)}return null}function f(m,p,v,w){var S=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,p,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case cn:return v.key===S?o(m,p,v,w):null;case ys:return v.key===S?h(m,p,v,w):null;case Mt:return S=v._init,f(m,p,S(v._payload),w)}if(mi(v)||si(v))return S!==null?null:c(m,p,v,w,null);Sn(m,v)}return null}function g(m,p,v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(v)||null,a(p,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cn:return m=m.get(w.key===null?v:w.key)||null,o(p,m,w,S);case ys:return m=m.get(w.key===null?v:w.key)||null,h(p,m,w,S);case Mt:var E=w._init;return g(m,p,v,E(w._payload),S)}if(mi(w)||si(w))return m=m.get(v)||null,c(p,m,w,S,null);Sn(p,w)}return null}function x(m,p,v,w){for(var S=null,E=null,C=p,_=p=0,F=null;C!==null&&_<v.length;_++){C.index>_?(F=C,C=null):F=C.sibling;var z=f(m,C,v[_],w);if(z===null){C===null&&(C=F);break}t&&C&&z.alternate===null&&e(m,C),p=r(z,p,_),E===null?S=z:E.sibling=z,E=z,C=F}if(_===v.length)return s(m,C),ee&&Jt(m,_),S;if(C===null){for(;_<v.length;_++)C=d(m,v[_],w),C!==null&&(p=r(C,p,_),E===null?S=C:E.sibling=C,E=C);return ee&&Jt(m,_),S}for(C=i(m,C);_<v.length;_++)F=g(C,m,_,v[_],w),F!==null&&(t&&F.alternate!==null&&C.delete(F.key===null?_:F.key),p=r(F,p,_),E===null?S=F:E.sibling=F,E=F);return t&&C.forEach(function(A){return e(m,A)}),ee&&Jt(m,_),S}function y(m,p,v,w){var S=si(v);if(typeof S!="function")throw Error(k(150));if(v=S.call(v),v==null)throw Error(k(151));for(var E=S=null,C=p,_=p=0,F=null,z=v.next();C!==null&&!z.done;_++,z=v.next()){C.index>_?(F=C,C=null):F=C.sibling;var A=f(m,C,z.value,w);if(A===null){C===null&&(C=F);break}t&&C&&A.alternate===null&&e(m,C),p=r(A,p,_),E===null?S=A:E.sibling=A,E=A,C=F}if(z.done)return s(m,C),ee&&Jt(m,_),S;if(C===null){for(;!z.done;_++,z=v.next())z=d(m,z.value,w),z!==null&&(p=r(z,p,_),E===null?S=z:E.sibling=z,E=z);return ee&&Jt(m,_),S}for(C=i(m,C);!z.done;_++,z=v.next())z=g(C,m,_,z.value,w),z!==null&&(t&&z.alternate!==null&&C.delete(z.key===null?_:z.key),p=r(z,p,_),E===null?S=z:E.sibling=z,E=z);return t&&C.forEach(function(D){return e(m,D)}),ee&&Jt(m,_),S}function b(m,p,v,w){if(typeof v=="object"&&v!==null&&v.type===ws&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case cn:e:{for(var S=v.key,E=p;E!==null;){if(E.key===S){if(S=v.type,S===ws){if(E.tag===7){s(m,E.sibling),p=n(E,v.props.children),p.return=m,m=p;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mt&&$u(S)===E.type){s(m,E.sibling),p=n(E,v.props),p.ref=oi(m,E,v),p.return=m,m=p;break e}s(m,E);break}else e(m,E);E=E.sibling}v.type===ws?(p=is(v.props.children,m.mode,w,v.key),p.return=m,m=p):(w=Qn(v.type,v.key,v.props,null,m.mode,w),w.ref=oi(m,p,v),w.return=m,m=w)}return l(m);case ys:e:{for(E=v.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){s(m,p.sibling),p=n(p,v.children||[]),p.return=m,m=p;break e}else{s(m,p);break}else e(m,p);p=p.sibling}p=wl(v,m.mode,w),p.return=m,m=p}return l(m);case Mt:return E=v._init,b(m,p,E(v._payload),w)}if(mi(v))return x(m,p,v,w);if(si(v))return y(m,p,v,w);Sn(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(s(m,p.sibling),p=n(p,v),p.return=m,m=p):(s(m,p),p=yl(v,m.mode,w),p.return=m,m=p),l(m)):s(m,p)}return b}var Ws=xd(!0),yd=xd(!1),ur=Xt(null),hr=null,_s=null,ca=null;function da(){ca=_s=hr=null}function fa(t){var e=ur.current;q(ur),t._currentValue=e}function vo(t,e,s){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===s)break;t=t.return}}function Fs(t,e){hr=t,ca=_s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function Qe(t){var e=t._currentValue;if(ca!==t)if(t={context:t,memoizedValue:e,next:null},_s===null){if(hr===null)throw Error(k(308));_s=t,hr.dependencies={lanes:0,firstContext:t}}else _s=_s.next=t;return e}var es=null;function ma(t){es===null?es=[t]:es.push(t)}function wd(t,e,s,i){var n=e.interleaved;return n===null?(s.next=s,ma(e)):(s.next=n.next,n.next=s),e.interleaved=s,Nt(t,i)}function Nt(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Tt=!1;function pa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function At(t,e,s){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,V&2){var n=i.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),i.pending=e,Nt(t,s)}return n=i.interleaved,n===null?(e.next=e,ma(i)):(e.next=n.next,n.next=e),i.interleaved=e,Nt(t,s)}function Un(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,s|=i,e.lanes=s,ea(t,s)}}function Ou(t,e){var s=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var n=null,r=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};r===null?n=r=l:r=r.next=l,s=s.next}while(s!==null);r===null?n=r=e:r=r.next=e}else n=r=e;s={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function cr(t,e,s,i){var n=t.updateQueue;Tt=!1;var r=n.firstBaseUpdate,l=n.lastBaseUpdate,a=n.shared.pending;if(a!==null){n.shared.pending=null;var o=a,h=o.next;o.next=null,l===null?r=h:l.next=h,l=o;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==l&&(a===null?c.firstBaseUpdate=h:a.next=h,c.lastBaseUpdate=o))}if(r!==null){var d=n.baseState;l=0,c=h=o=null,a=r;do{var f=a.lane,g=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(f=e,g=s,y.tag){case 1:if(x=y.payload,typeof x=="function"){d=x.call(g,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(g,d,f):x,f==null)break e;d=ie({},d,f);break e;case 2:Tt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=n.effects,f===null?n.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(h=c=g,o=d):c=c.next=g,l|=f;if(a=a.next,a===null){if(a=n.shared.pending,a===null)break;f=a,a=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);if(c===null&&(o=d),n.baseState=o,n.firstBaseUpdate=h,n.lastBaseUpdate=c,e=n.shared.interleaved,e!==null){n=e;do l|=n.lane,n=n.next;while(n!==e)}else r===null&&(n.shared.lanes=0);as|=l,t.lanes=l,t.memoizedState=d}}function Fu(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],n=i.callback;if(n!==null){if(i.callback=null,i=s,typeof n!="function")throw Error(k(191,n));n.call(i)}}}var nn={},ft=Xt(nn),Ii=Xt(nn),Ui=Xt(nn);function ts(t){if(t===nn)throw Error(k(174));return t}function va(t,e){switch(G(Ui,e),G(Ii,t),G(ft,nn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gl(e,t)}q(ft),G(ft,e)}function Hs(){q(ft),q(Ii),q(Ui)}function Sd(t){ts(Ui.current);var e=ts(ft.current),s=Gl(e,t.type);e!==s&&(G(Ii,t),G(ft,s))}function ga(t){Ii.current===t&&(q(ft),q(Ii))}var te=Xt(0);function dr(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fl=[];function xa(){for(var t=0;t<fl.length;t++)fl[t]._workInProgressVersionPrimary=null;fl.length=0}var Vn=Et.ReactCurrentDispatcher,ml=Et.ReactCurrentBatchConfig,os=0,se=null,ce=null,fe=null,fr=!1,Si=!1,Vi=0,a0=0;function we(){throw Error(k(321))}function ya(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!it(t[s],e[s]))return!1;return!0}function wa(t,e,s,i,n,r){if(os=r,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vn.current=t===null||t.memoizedState===null?d0:f0,t=s(i,n),Si){r=0;do{if(Si=!1,Vi=0,25<=r)throw Error(k(301));r+=1,fe=ce=null,e.updateQueue=null,Vn.current=m0,t=s(i,n)}while(Si)}if(Vn.current=mr,e=ce!==null&&ce.next!==null,os=0,fe=ce=se=null,fr=!1,e)throw Error(k(300));return t}function ba(){var t=Vi!==0;return Vi=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?se.memoizedState=fe=t:fe=fe.next=t,fe}function Ge(){if(ce===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=fe===null?se.memoizedState:fe.next;if(e!==null)fe=e,ce=t;else{if(t===null)throw Error(k(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},fe===null?se.memoizedState=fe=t:fe=fe.next=t}return fe}function Wi(t,e){return typeof e=="function"?e(t):e}function pl(t){var e=Ge(),s=e.queue;if(s===null)throw Error(k(311));s.lastRenderedReducer=t;var i=ce,n=i.baseQueue,r=s.pending;if(r!==null){if(n!==null){var l=n.next;n.next=r.next,r.next=l}i.baseQueue=n=r,s.pending=null}if(n!==null){r=n.next,i=i.baseState;var a=l=null,o=null,h=r;do{var c=h.lane;if((os&c)===c)o!==null&&(o=o.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:t(i,h.action);else{var d={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};o===null?(a=o=d,l=i):o=o.next=d,se.lanes|=c,as|=c}h=h.next}while(h!==null&&h!==r);o===null?l=i:o.next=a,it(i,e.memoizedState)||(Pe=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=o,s.lastRenderedState=i}if(t=s.interleaved,t!==null){n=t;do r=n.lane,se.lanes|=r,as|=r,n=n.next;while(n!==t)}else n===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function vl(t){var e=Ge(),s=e.queue;if(s===null)throw Error(k(311));s.lastRenderedReducer=t;var i=s.dispatch,n=s.pending,r=e.memoizedState;if(n!==null){s.pending=null;var l=n=n.next;do r=t(r,l.action),l=l.next;while(l!==n);it(r,e.memoizedState)||(Pe=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),s.lastRenderedState=r}return[r,i]}function Nd(){}function Cd(t,e){var s=se,i=Ge(),n=e(),r=!it(i.memoizedState,n);if(r&&(i.memoizedState=n,Pe=!0),i=i.queue,Sa(kd.bind(null,s,i,t),[t]),i.getSnapshot!==e||r||fe!==null&&fe.memoizedState.tag&1){if(s.flags|=2048,Hi(9,jd.bind(null,s,i,n,e),void 0,null),me===null)throw Error(k(349));os&30||Ed(s,e,n)}return n}function Ed(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function jd(t,e,s,i){e.value=s,e.getSnapshot=i,_d(e)&&Md(t)}function kd(t,e,s){return s(function(){_d(e)&&Md(t)})}function _d(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!it(t,s)}catch{return!0}}function Md(t){var e=Nt(t,1);e!==null&&st(e,t,1,-1)}function Au(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},e.queue=t,t=t.dispatch=c0.bind(null,se,t),[e.memoizedState,t]}function Hi(t,e,s,i){return t={tag:t,create:e,destroy:s,deps:i,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(i=s.next,s.next=t,t.next=i,e.lastEffect=t)),t}function Td(){return Ge().memoizedState}function Wn(t,e,s,i){var n=ut();se.flags|=t,n.memoizedState=Hi(1|e,s,void 0,i===void 0?null:i)}function Pr(t,e,s,i){var n=Ge();i=i===void 0?null:i;var r=void 0;if(ce!==null){var l=ce.memoizedState;if(r=l.destroy,i!==null&&ya(i,l.deps)){n.memoizedState=Hi(e,s,r,i);return}}se.flags|=t,n.memoizedState=Hi(1|e,s,r,i)}function Bu(t,e){return Wn(8390656,8,t,e)}function Sa(t,e){return Pr(2048,8,t,e)}function zd(t,e){return Pr(4,2,t,e)}function Pd(t,e){return Pr(4,4,t,e)}function Ld(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dd(t,e,s){return s=s!=null?s.concat([t]):null,Pr(4,4,Ld.bind(null,e,t),s)}function Na(){}function Rd(t,e){var s=Ge();e=e===void 0?null:e;var i=s.memoizedState;return i!==null&&e!==null&&ya(e,i[1])?i[0]:(s.memoizedState=[t,e],t)}function $d(t,e){var s=Ge();e=e===void 0?null:e;var i=s.memoizedState;return i!==null&&e!==null&&ya(e,i[1])?i[0]:(t=t(),s.memoizedState=[t,e],t)}function Od(t,e,s){return os&21?(it(s,e)||(s=Uc(),se.lanes|=s,as|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=s)}function u0(t,e){var s=H;H=s!==0&&4>s?s:4,t(!0);var i=ml.transition;ml.transition={};try{t(!1),e()}finally{H=s,ml.transition=i}}function Fd(){return Ge().memoizedState}function h0(t,e,s){var i=It(t);if(s={lane:i,action:s,hasEagerState:!1,eagerState:null,next:null},Ad(t))Bd(e,s);else if(s=wd(t,e,s,i),s!==null){var n=ke();st(s,t,i,n),Id(s,e,i)}}function c0(t,e,s){var i=It(t),n={lane:i,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ad(t))Bd(e,n);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var l=e.lastRenderedState,a=r(l,s);if(n.hasEagerState=!0,n.eagerState=a,it(a,l)){var o=e.interleaved;o===null?(n.next=n,ma(e)):(n.next=o.next,o.next=n),e.interleaved=n;return}}catch{}finally{}s=wd(t,e,n,i),s!==null&&(n=ke(),st(s,t,i,n),Id(s,e,i))}}function Ad(t){var e=t.alternate;return t===se||e!==null&&e===se}function Bd(t,e){Si=fr=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function Id(t,e,s){if(s&4194240){var i=e.lanes;i&=t.pendingLanes,s|=i,e.lanes=s,ea(t,s)}}var mr={readContext:Qe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},d0={readContext:Qe,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:Bu,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,Wn(4194308,4,Ld.bind(null,e,t),s)},useLayoutEffect:function(t,e){return Wn(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wn(4,2,t,e)},useMemo:function(t,e){var s=ut();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var i=ut();return e=s!==void 0?s(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=h0.bind(null,se,t),[i.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:Au,useDebugValue:Na,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=Au(!1),e=t[0];return t=u0.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var i=se,n=ut();if(ee){if(s===void 0)throw Error(k(407));s=s()}else{if(s=e(),me===null)throw Error(k(349));os&30||Ed(i,e,s)}n.memoizedState=s;var r={value:s,getSnapshot:e};return n.queue=r,Bu(kd.bind(null,i,r,t),[t]),i.flags|=2048,Hi(9,jd.bind(null,i,r,s,e),void 0,null),s},useId:function(){var t=ut(),e=me.identifierPrefix;if(ee){var s=gt,i=vt;s=(i&~(1<<32-tt(i)-1)).toString(32)+s,e=":"+e+"R"+s,s=Vi++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=a0++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f0={readContext:Qe,useCallback:Rd,useContext:Qe,useEffect:Sa,useImperativeHandle:Dd,useInsertionEffect:zd,useLayoutEffect:Pd,useMemo:$d,useReducer:pl,useRef:Td,useState:function(){return pl(Wi)},useDebugValue:Na,useDeferredValue:function(t){var e=Ge();return Od(e,ce.memoizedState,t)},useTransition:function(){var t=pl(Wi)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Nd,useSyncExternalStore:Cd,useId:Fd,unstable_isNewReconciler:!1},m0={readContext:Qe,useCallback:Rd,useContext:Qe,useEffect:Sa,useImperativeHandle:Dd,useInsertionEffect:zd,useLayoutEffect:Pd,useMemo:$d,useReducer:vl,useRef:Td,useState:function(){return vl(Wi)},useDebugValue:Na,useDeferredValue:function(t){var e=Ge();return ce===null?e.memoizedState=t:Od(e,ce.memoizedState,t)},useTransition:function(){var t=vl(Wi)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Nd,useSyncExternalStore:Cd,useId:Fd,unstable_isNewReconciler:!1};function qe(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function go(t,e,s,i){e=t.memoizedState,s=s(i,e),s=s==null?e:ie({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Lr={isMounted:function(t){return(t=t._reactInternals)?vs(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var i=ke(),n=It(t),r=wt(i,n);r.payload=e,s!=null&&(r.callback=s),e=At(t,r,n),e!==null&&(st(e,t,n,i),Un(e,t,n))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var i=ke(),n=It(t),r=wt(i,n);r.tag=1,r.payload=e,s!=null&&(r.callback=s),e=At(t,r,n),e!==null&&(st(e,t,n,i),Un(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=ke(),i=It(t),n=wt(s,i);n.tag=2,e!=null&&(n.callback=e),e=At(t,n,i),e!==null&&(st(e,t,i,s),Un(e,t,i))}};function Iu(t,e,s,i,n,r,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,l):e.prototype&&e.prototype.isPureReactComponent?!Oi(s,i)||!Oi(n,r):!0}function Ud(t,e,s){var i=!1,n=Wt,r=e.contextType;return typeof r=="object"&&r!==null?r=Qe(r):(n=De(e)?rs:Ce.current,i=e.contextTypes,r=(i=i!=null)?Us(t,n):Wt),e=new e(s,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lr,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=r),e}function Uu(t,e,s,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,i),e.state!==t&&Lr.enqueueReplaceState(e,e.state,null)}function xo(t,e,s,i){var n=t.stateNode;n.props=s,n.state=t.memoizedState,n.refs={},pa(t);var r=e.contextType;typeof r=="object"&&r!==null?n.context=Qe(r):(r=De(e)?rs:Ce.current,n.context=Us(t,r)),n.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(go(t,e,r,s),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Lr.enqueueReplaceState(n,n.state,null),cr(t,s,n,i),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function Ks(t,e){try{var s="",i=e;do s+=Um(i),i=i.return;while(i);var n=s}catch(r){n=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:n,digest:null}}function gl(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function yo(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var p0=typeof WeakMap=="function"?WeakMap:Map;function Vd(t,e,s){s=wt(-1,s),s.tag=3,s.payload={element:null};var i=e.value;return s.callback=function(){vr||(vr=!0,Mo=i),yo(t,e)},s}function Wd(t,e,s){s=wt(-1,s),s.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var n=e.value;s.payload=function(){return i(n)},s.callback=function(){yo(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(s.callback=function(){yo(t,e),typeof i!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),s}function Vu(t,e,s){var i=t.pingCache;if(i===null){i=t.pingCache=new p0;var n=new Set;i.set(e,n)}else n=i.get(e),n===void 0&&(n=new Set,i.set(e,n));n.has(s)||(n.add(s),t=M0.bind(null,t,e,s),e.then(t,t))}function Wu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hu(t,e,s,i,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=wt(-1,1),e.tag=2,At(s,e,1))),s.lanes|=1),t)}var v0=Et.ReactCurrentOwner,Pe=!1;function je(t,e,s,i){e.child=t===null?yd(e,null,s,i):Ws(e,t.child,s,i)}function Ku(t,e,s,i,n){s=s.render;var r=e.ref;return Fs(e,n),i=wa(t,e,s,i,r,n),s=ba(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,Ct(t,e,n)):(ee&&s&&aa(e),e.flags|=1,je(t,e,i,n),e.child)}function Xu(t,e,s,i,n){if(t===null){var r=s.type;return typeof r=="function"&&!za(r)&&r.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=r,Hd(t,e,r,i,n)):(t=Qn(s.type,null,i,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&n)){var l=r.memoizedProps;if(s=s.compare,s=s!==null?s:Oi,s(l,i)&&t.ref===e.ref)return Ct(t,e,n)}return e.flags|=1,t=Ut(r,i),t.ref=e.ref,t.return=e,e.child=t}function Hd(t,e,s,i,n){if(t!==null){var r=t.memoizedProps;if(Oi(r,i)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=i=r,(t.lanes&n)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,Ct(t,e,n)}return wo(t,e,s,i,n)}function Kd(t,e,s){var i=e.pendingProps,n=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Ts,Oe),Oe|=s;else{if(!(s&1073741824))return t=r!==null?r.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,G(Ts,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:s,G(Ts,Oe),Oe|=i}else r!==null?(i=r.baseLanes|s,e.memoizedState=null):i=s,G(Ts,Oe),Oe|=i;return je(t,e,n,s),e.child}function Xd(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function wo(t,e,s,i,n){var r=De(s)?rs:Ce.current;return r=Us(e,r),Fs(e,n),s=wa(t,e,s,i,r,n),i=ba(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,Ct(t,e,n)):(ee&&i&&aa(e),e.flags|=1,je(t,e,s,n),e.child)}function Qu(t,e,s,i,n){if(De(s)){var r=!0;lr(e)}else r=!1;if(Fs(e,n),e.stateNode===null)Hn(t,e),Ud(e,s,i),xo(e,s,i,n),i=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var o=l.context,h=s.contextType;typeof h=="object"&&h!==null?h=Qe(h):(h=De(s)?rs:Ce.current,h=Us(e,h));var c=s.getDerivedStateFromProps,d=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==i||o!==h)&&Uu(e,l,i,h),Tt=!1;var f=e.memoizedState;l.state=f,cr(e,i,l,n),o=e.memoizedState,a!==i||f!==o||Le.current||Tt?(typeof c=="function"&&(go(e,s,c,i),o=e.memoizedState),(a=Tt||Iu(e,s,a,i,f,o,h))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=o),l.props=i,l.state=o,l.context=h,i=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,bd(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:qe(e.type,a),l.props=h,d=e.pendingProps,f=l.context,o=s.contextType,typeof o=="object"&&o!==null?o=Qe(o):(o=De(s)?rs:Ce.current,o=Us(e,o));var g=s.getDerivedStateFromProps;(c=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==d||f!==o)&&Uu(e,l,i,o),Tt=!1,f=e.memoizedState,l.state=f,cr(e,i,l,n);var x=e.memoizedState;a!==d||f!==x||Le.current||Tt?(typeof g=="function"&&(go(e,s,g,i),x=e.memoizedState),(h=Tt||Iu(e,s,h,i,f,x,o)||!1)?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,x,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,x,o)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),l.props=i,l.state=x,l.context=o,i=h):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return bo(t,e,s,i,r,n)}function bo(t,e,s,i,n,r){Xd(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return n&&Lu(e,s,!1),Ct(t,e,r);i=e.stateNode,v0.current=e;var a=l&&typeof s.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Ws(e,t.child,null,r),e.child=Ws(e,null,a,r)):je(t,e,a,r),e.memoizedState=i.state,n&&Lu(e,s,!0),e.child}function Qd(t){var e=t.stateNode;e.pendingContext?Pu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pu(t,e.context,!1),va(t,e.containerInfo)}function Gu(t,e,s,i,n){return Vs(),ha(n),e.flags|=256,je(t,e,s,i),e.child}var So={dehydrated:null,treeContext:null,retryLane:0};function No(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gd(t,e,s){var i=e.pendingProps,n=te.current,r=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(n&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),G(te,n&1),t===null)return po(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,r?(i=e.mode,r=e.child,l={mode:"hidden",children:l},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=l):r=$r(l,i,0,null),t=is(t,i,s,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=No(s),e.memoizedState=So,t):Ca(e,l));if(n=t.memoizedState,n!==null&&(a=n.dehydrated,a!==null))return g0(t,e,l,i,a,n,s);if(r){r=i.fallback,l=e.mode,n=t.child,a=n.sibling;var o={mode:"hidden",children:i.children};return!(l&1)&&e.child!==n?(i=e.child,i.childLanes=0,i.pendingProps=o,e.deletions=null):(i=Ut(n,o),i.subtreeFlags=n.subtreeFlags&14680064),a!==null?r=Ut(a,r):(r=is(r,l,s,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,l=t.child.memoizedState,l=l===null?No(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},r.memoizedState=l,r.childLanes=t.childLanes&~s,e.memoizedState=So,i}return r=t.child,t=r.sibling,i=Ut(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=s),i.return=e,i.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=i,e.memoizedState=null,i}function Ca(t,e){return e=$r({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nn(t,e,s,i){return i!==null&&ha(i),Ws(e,t.child,null,s),t=Ca(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g0(t,e,s,i,n,r,l){if(s)return e.flags&256?(e.flags&=-257,i=gl(Error(k(422))),Nn(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,n=e.mode,i=$r({mode:"visible",children:i.children},n,0,null),r=is(r,n,l,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Ws(e,t.child,null,l),e.child.memoizedState=No(l),e.memoizedState=So,r);if(!(e.mode&1))return Nn(t,e,l,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(k(419)),i=gl(r,i,void 0),Nn(t,e,l,i)}if(a=(l&t.childLanes)!==0,Pe||a){if(i=me,i!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|l)?0:n,n!==0&&n!==r.retryLane&&(r.retryLane=n,Nt(t,n),st(i,t,n,-1))}return Ta(),i=gl(Error(k(421))),Nn(t,e,l,i)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=T0.bind(null,t),n._reactRetry=e,null):(t=r.treeContext,Fe=Ft(n.nextSibling),Ae=e,ee=!0,et=null,t!==null&&(We[He++]=vt,We[He++]=gt,We[He++]=ls,vt=t.id,gt=t.overflow,ls=e),e=Ca(e,i.children),e.flags|=4096,e)}function Yu(t,e,s){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),vo(t.return,e,s)}function xl(t,e,s,i,n){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:n}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=s,r.tailMode=n)}function Yd(t,e,s){var i=e.pendingProps,n=i.revealOrder,r=i.tail;if(je(t,e,i.children,s),i=te.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yu(t,s,e);else if(t.tag===19)Yu(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(G(te,i),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(s=e.child,n=null;s!==null;)t=s.alternate,t!==null&&dr(t)===null&&(n=s),s=s.sibling;s=n,s===null?(n=e.child,e.child=null):(n=s.sibling,s.sibling=null),xl(e,!1,n,s,r);break;case"backwards":for(s=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&dr(t)===null){e.child=n;break}t=n.sibling,n.sibling=s,s=n,n=t}xl(e,!0,s,null,r);break;case"together":xl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hn(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ct(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),as|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,s=Ut(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Ut(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function x0(t,e,s){switch(e.tag){case 3:Qd(e),Vs();break;case 5:Sd(e);break;case 1:De(e.type)&&lr(e);break;case 4:va(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,n=e.memoizedProps.value;G(ur,i._currentValue),i._currentValue=n;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(G(te,te.current&1),e.flags|=128,null):s&e.child.childLanes?Gd(t,e,s):(G(te,te.current&1),t=Ct(t,e,s),t!==null?t.sibling:null);G(te,te.current&1);break;case 19:if(i=(s&e.childLanes)!==0,t.flags&128){if(i)return Yd(t,e,s);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),G(te,te.current),i)break;return null;case 22:case 23:return e.lanes=0,Kd(t,e,s)}return Ct(t,e,s)}var Jd,Co,qd,Zd;Jd=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Co=function(){};qd=function(t,e,s,i){var n=t.memoizedProps;if(n!==i){t=e.stateNode,ts(ft.current);var r=null;switch(s){case"input":n=Hl(t,n),i=Hl(t,i),r=[];break;case"select":n=ie({},n,{value:void 0}),i=ie({},i,{value:void 0}),r=[];break;case"textarea":n=Ql(t,n),i=Ql(t,i),r=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=nr)}Yl(s,i);var l;s=null;for(h in n)if(!i.hasOwnProperty(h)&&n.hasOwnProperty(h)&&n[h]!=null)if(h==="style"){var a=n[h];for(l in a)a.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ti.hasOwnProperty(h)?r||(r=[]):(r=r||[]).push(h,null));for(h in i){var o=i[h];if(a=n!=null?n[h]:void 0,i.hasOwnProperty(h)&&o!==a&&(o!=null||a!=null))if(h==="style")if(a){for(l in a)!a.hasOwnProperty(l)||o&&o.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in o)o.hasOwnProperty(l)&&a[l]!==o[l]&&(s||(s={}),s[l]=o[l])}else s||(r||(r=[]),r.push(h,s)),s=o;else h==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(r=r||[]).push(h,o)):h==="children"?typeof o!="string"&&typeof o!="number"||(r=r||[]).push(h,""+o):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(h)?(o!=null&&h==="onScroll"&&Y("scroll",t),r||a===o||(r=[])):(r=r||[]).push(h,o))}s&&(r=r||[]).push("style",s);var h=r;(e.updateQueue=h)&&(e.flags|=4)}};Zd=function(t,e,s,i){s!==i&&(e.flags|=4)};function ai(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,i=0;if(e)for(var n=t.child;n!==null;)s|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)s|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=i,t.childLanes=s,e}function y0(t,e,s){var i=e.pendingProps;switch(ua(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return De(e.type)&&rr(),be(e),null;case 3:return i=e.stateNode,Hs(),q(Le),q(Ce),xa(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(bn(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(Po(et),et=null))),Co(t,e),be(e),null;case 5:ga(e);var n=ts(Ui.current);if(s=e.type,t!==null&&e.stateNode!=null)qd(t,e,s,i,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(k(166));return be(e),null}if(t=ts(ft.current),bn(e)){i=e.stateNode,s=e.type;var r=e.memoizedProps;switch(i[ht]=e,i[Bi]=r,t=(e.mode&1)!==0,s){case"dialog":Y("cancel",i),Y("close",i);break;case"iframe":case"object":case"embed":Y("load",i);break;case"video":case"audio":for(n=0;n<vi.length;n++)Y(vi[n],i);break;case"source":Y("error",i);break;case"img":case"image":case"link":Y("error",i),Y("load",i);break;case"details":Y("toggle",i);break;case"input":ru(i,r),Y("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Y("invalid",i);break;case"textarea":ou(i,r),Y("invalid",i)}Yl(s,r),n=null;for(var l in r)if(r.hasOwnProperty(l)){var a=r[l];l==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&wn(i.textContent,a,t),n=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&wn(i.textContent,a,t),n=["children",""+a]):Ti.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&Y("scroll",i)}switch(s){case"input":dn(i),lu(i,r,!0);break;case"textarea":dn(i),au(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=nr)}i=n,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kc(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(s,{is:i.is}):(t=l.createElement(s),s==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,s),t[ht]=e,t[Bi]=i,Jd(t,e,!1,!1),e.stateNode=t;e:{switch(l=Jl(s,i),s){case"dialog":Y("cancel",t),Y("close",t),n=i;break;case"iframe":case"object":case"embed":Y("load",t),n=i;break;case"video":case"audio":for(n=0;n<vi.length;n++)Y(vi[n],t);n=i;break;case"source":Y("error",t),n=i;break;case"img":case"image":case"link":Y("error",t),Y("load",t),n=i;break;case"details":Y("toggle",t),n=i;break;case"input":ru(t,i),n=Hl(t,i),Y("invalid",t);break;case"option":n=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},n=ie({},i,{value:void 0}),Y("invalid",t);break;case"textarea":ou(t,i),n=Ql(t,i),Y("invalid",t);break;default:n=i}Yl(s,n),a=n;for(r in a)if(a.hasOwnProperty(r)){var o=a[r];r==="style"?Tc(t,o):r==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&_c(t,o)):r==="children"?typeof o=="string"?(s!=="textarea"||o!=="")&&zi(t,o):typeof o=="number"&&zi(t,""+o):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Ti.hasOwnProperty(r)?o!=null&&r==="onScroll"&&Y("scroll",t):o!=null&&Qo(t,r,o,l))}switch(s){case"input":dn(t),lu(t,i,!1);break;case"textarea":dn(t),au(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Vt(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Ds(t,!!i.multiple,r,!1):i.defaultValue!=null&&Ds(t,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=nr)}switch(s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)Zd(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(k(166));if(s=ts(Ui.current),ts(ft.current),bn(e)){if(i=e.stateNode,s=e.memoizedProps,i[ht]=e,(r=i.nodeValue!==s)&&(t=Ae,t!==null))switch(t.tag){case 3:wn(i.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wn(i.nodeValue,s,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(s.nodeType===9?s:s.ownerDocument).createTextNode(i),i[ht]=e,e.stateNode=i}return be(e),null;case 13:if(q(te),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ee&&Fe!==null&&e.mode&1&&!(e.flags&128))gd(),Vs(),e.flags|=98560,r=!1;else if(r=bn(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(k(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(k(317));r[ht]=e}else Vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),r=!1}else et!==null&&(Po(et),et=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||te.current&1?de===0&&(de=3):Ta())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return Hs(),Co(t,e),t===null&&Fi(e.stateNode.containerInfo),be(e),null;case 10:return fa(e.type._context),be(e),null;case 17:return De(e.type)&&rr(),be(e),null;case 19:if(q(te),r=e.memoizedState,r===null)return be(e),null;if(i=(e.flags&128)!==0,l=r.rendering,l===null)if(i)ai(r,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=dr(t),l!==null){for(e.flags|=128,ai(r,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=s,s=e.child;s!==null;)r=s,t=i,r.flags&=14680066,l=r.alternate,l===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return G(te,te.current&1|2),e.child}t=t.sibling}r.tail!==null&&le()>Xs&&(e.flags|=128,i=!0,ai(r,!1),e.lanes=4194304)}else{if(!i)if(t=dr(l),t!==null){if(e.flags|=128,i=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),ai(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!ee)return be(e),null}else 2*le()-r.renderingStartTime>Xs&&s!==1073741824&&(e.flags|=128,i=!0,ai(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(s=r.last,s!==null?s.sibling=l:e.child=l,r.last=l)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,s=te.current,G(te,i?s&1|2:s&1),e):(be(e),null);case 22:case 23:return Ma(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Oe&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function w0(t,e){switch(ua(e),e.tag){case 1:return De(e.type)&&rr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hs(),q(Le),q(Ce),xa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ga(e),null;case 13:if(q(te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(te),null;case 4:return Hs(),null;case 10:return fa(e.type._context),null;case 22:case 23:return Ma(),null;case 24:return null;default:return null}}var Cn=!1,Se=!1,b0=typeof WeakSet=="function"?WeakSet:Set,P=null;function Ms(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(i){ne(t,e,i)}else s.current=null}function Eo(t,e,s){try{s()}catch(i){ne(t,e,i)}}var Ju=!1;function S0(t,e){if(oo=tr,t=nd(),oa(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var n=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{s.nodeType,r.nodeType}catch{s=null;break e}var l=0,a=-1,o=-1,h=0,c=0,d=t,f=null;t:for(;;){for(var g;d!==s||n!==0&&d.nodeType!==3||(a=l+n),d!==r||i!==0&&d.nodeType!==3||(o=l+i),d.nodeType===3&&(l+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===s&&++h===n&&(a=l),f===r&&++c===i&&(o=l),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}s=a===-1||o===-1?null:{start:a,end:o}}else s=null}s=s||{start:0,end:0}}else s=null;for(ao={focusedElem:t,selectionRange:s},tr=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,b=x.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:qe(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(w){ne(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return x=Ju,Ju=!1,x}function Ni(t,e,s){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,r!==void 0&&Eo(e,s,r)}n=n.next}while(n!==i)}}function Dr(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var i=s.create;s.destroy=i()}s=s.next}while(s!==e)}}function jo(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function ef(t){var e=t.alternate;e!==null&&(t.alternate=null,ef(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ht],delete e[Bi],delete e[co],delete e[n0],delete e[r0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tf(t){return t.tag===5||t.tag===3||t.tag===4}function qu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ko(t,e,s){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=nr));else if(i!==4&&(t=t.child,t!==null))for(ko(t,e,s),t=t.sibling;t!==null;)ko(t,e,s),t=t.sibling}function _o(t,e,s){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(_o(t,e,s),t=t.sibling;t!==null;)_o(t,e,s),t=t.sibling}var ve=null,Ze=!1;function kt(t,e,s){for(s=s.child;s!==null;)sf(t,e,s),s=s.sibling}function sf(t,e,s){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(jr,s)}catch{}switch(s.tag){case 5:Se||Ms(s,e);case 6:var i=ve,n=Ze;ve=null,kt(t,e,s),ve=i,Ze=n,ve!==null&&(Ze?(t=ve,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):ve.removeChild(s.stateNode));break;case 18:ve!==null&&(Ze?(t=ve,s=s.stateNode,t.nodeType===8?cl(t.parentNode,s):t.nodeType===1&&cl(t,s),Ri(t)):cl(ve,s.stateNode));break;case 4:i=ve,n=Ze,ve=s.stateNode.containerInfo,Ze=!0,kt(t,e,s),ve=i,Ze=n;break;case 0:case 11:case 14:case 15:if(!Se&&(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var r=n,l=r.destroy;r=r.tag,l!==void 0&&(r&2||r&4)&&Eo(s,e,l),n=n.next}while(n!==i)}kt(t,e,s);break;case 1:if(!Se&&(Ms(s,e),i=s.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(a){ne(s,e,a)}kt(t,e,s);break;case 21:kt(t,e,s);break;case 22:s.mode&1?(Se=(i=Se)||s.memoizedState!==null,kt(t,e,s),Se=i):kt(t,e,s);break;default:kt(t,e,s)}}function Zu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new b0),e.forEach(function(i){var n=z0.bind(null,t,i);s.has(i)||(s.add(i),i.then(n,n))})}}function Je(t,e){var s=e.deletions;if(s!==null)for(var i=0;i<s.length;i++){var n=s[i];try{var r=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:ve=a.stateNode,Ze=!1;break e;case 3:ve=a.stateNode.containerInfo,Ze=!0;break e;case 4:ve=a.stateNode.containerInfo,Ze=!0;break e}a=a.return}if(ve===null)throw Error(k(160));sf(r,l,n),ve=null,Ze=!1;var o=n.alternate;o!==null&&(o.return=null),n.return=null}catch(h){ne(n,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nf(e,t),e=e.sibling}function nf(t,e){var s=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Je(e,t),ot(t),i&4){try{Ni(3,t,t.return),Dr(3,t)}catch(y){ne(t,t.return,y)}try{Ni(5,t,t.return)}catch(y){ne(t,t.return,y)}}break;case 1:Je(e,t),ot(t),i&512&&s!==null&&Ms(s,s.return);break;case 5:if(Je(e,t),ot(t),i&512&&s!==null&&Ms(s,s.return),t.flags&32){var n=t.stateNode;try{zi(n,"")}catch(y){ne(t,t.return,y)}}if(i&4&&(n=t.stateNode,n!=null)){var r=t.memoizedProps,l=s!==null?s.memoizedProps:r,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Ec(n,r),Jl(a,l);var h=Jl(a,r);for(l=0;l<o.length;l+=2){var c=o[l],d=o[l+1];c==="style"?Tc(n,d):c==="dangerouslySetInnerHTML"?_c(n,d):c==="children"?zi(n,d):Qo(n,c,d,h)}switch(a){case"input":Kl(n,r);break;case"textarea":jc(n,r);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?Ds(n,!!r.multiple,g,!1):f!==!!r.multiple&&(r.defaultValue!=null?Ds(n,!!r.multiple,r.defaultValue,!0):Ds(n,!!r.multiple,r.multiple?[]:"",!1))}n[Bi]=r}catch(y){ne(t,t.return,y)}}break;case 6:if(Je(e,t),ot(t),i&4){if(t.stateNode===null)throw Error(k(162));n=t.stateNode,r=t.memoizedProps;try{n.nodeValue=r}catch(y){ne(t,t.return,y)}}break;case 3:if(Je(e,t),ot(t),i&4&&s!==null&&s.memoizedState.isDehydrated)try{Ri(e.containerInfo)}catch(y){ne(t,t.return,y)}break;case 4:Je(e,t),ot(t);break;case 13:Je(e,t),ot(t),n=t.child,n.flags&8192&&(r=n.memoizedState!==null,n.stateNode.isHidden=r,!r||n.alternate!==null&&n.alternate.memoizedState!==null||(ka=le())),i&4&&Zu(t);break;case 22:if(c=s!==null&&s.memoizedState!==null,t.mode&1?(Se=(h=Se)||c,Je(e,t),Se=h):Je(e,t),ot(t),i&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!c&&t.mode&1)for(P=t,c=t.child;c!==null;){for(d=P=c;P!==null;){switch(f=P,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ni(4,f,f.return);break;case 1:Ms(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){i=f,s=f.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){ne(i,s,y)}}break;case 5:Ms(f,f.return);break;case 22:if(f.memoizedState!==null){th(d);continue}}g!==null?(g.return=f,P=g):th(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{n=d.stateNode,h?(r=n.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,o=d.memoizedProps.style,l=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=Mc("display",l))}catch(y){ne(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(y){ne(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Je(e,t),ot(t),i&4&&Zu(t);break;case 21:break;default:Je(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(tf(s)){var i=s;break e}s=s.return}throw Error(k(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(zi(n,""),i.flags&=-33);var r=qu(t);_o(t,r,n);break;case 3:case 4:var l=i.stateNode.containerInfo,a=qu(t);ko(t,a,l);break;default:throw Error(k(161))}}catch(o){ne(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N0(t,e,s){P=t,rf(t)}function rf(t,e,s){for(var i=(t.mode&1)!==0;P!==null;){var n=P,r=n.child;if(n.tag===22&&i){var l=n.memoizedState!==null||Cn;if(!l){var a=n.alternate,o=a!==null&&a.memoizedState!==null||Se;a=Cn;var h=Se;if(Cn=l,(Se=o)&&!h)for(P=n;P!==null;)l=P,o=l.child,l.tag===22&&l.memoizedState!==null?sh(n):o!==null?(o.return=l,P=o):sh(n);for(;r!==null;)P=r,rf(r),r=r.sibling;P=n,Cn=a,Se=h}eh(t)}else n.subtreeFlags&8772&&r!==null?(r.return=n,P=r):eh(t)}}function eh(t){for(;P!==null;){var e=P;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Se||Dr(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Se)if(s===null)i.componentDidMount();else{var n=e.elementType===e.type?s.memoizedProps:qe(e.type,s.memoizedProps);i.componentDidUpdate(n,s.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Fu(e,r,i);break;case 3:var l=e.updateQueue;if(l!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}Fu(e,l,s)}break;case 5:var a=e.stateNode;if(s===null&&e.flags&4){s=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break;case"img":o.src&&(s.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var c=h.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ri(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Se||e.flags&512&&jo(e)}catch(f){ne(e,e.return,f)}}if(e===t){P=null;break}if(s=e.sibling,s!==null){s.return=e.return,P=s;break}P=e.return}}function th(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var s=e.sibling;if(s!==null){s.return=e.return,P=s;break}P=e.return}}function sh(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Dr(4,e)}catch(o){ne(e,s,o)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var n=e.return;try{i.componentDidMount()}catch(o){ne(e,n,o)}}var r=e.return;try{jo(e)}catch(o){ne(e,r,o)}break;case 5:var l=e.return;try{jo(e)}catch(o){ne(e,l,o)}}}catch(o){ne(e,e.return,o)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var C0=Math.ceil,pr=Et.ReactCurrentDispatcher,Ea=Et.ReactCurrentOwner,Xe=Et.ReactCurrentBatchConfig,V=0,me=null,ae=null,xe=0,Oe=0,Ts=Xt(0),de=0,Ki=null,as=0,Rr=0,ja=0,Ci=null,ze=null,ka=0,Xs=1/0,mt=null,vr=!1,Mo=null,Bt=null,En=!1,Dt=null,gr=0,Ei=0,To=null,Kn=-1,Xn=0;function ke(){return V&6?le():Kn!==-1?Kn:Kn=le()}function It(t){return t.mode&1?V&2&&xe!==0?xe&-xe:o0.transition!==null?(Xn===0&&(Xn=Uc()),Xn):(t=H,t!==0||(t=window.event,t=t===void 0?16:Gc(t.type)),t):1}function st(t,e,s,i){if(50<Ei)throw Ei=0,To=null,Error(k(185));en(t,s,i),(!(V&2)||t!==me)&&(t===me&&(!(V&2)&&(Rr|=s),de===4&&Pt(t,xe)),Re(t,i),s===1&&V===0&&!(e.mode&1)&&(Xs=le()+500,zr&&Qt()))}function Re(t,e){var s=t.callbackNode;op(t,e);var i=er(t,t===me?xe:0);if(i===0)s!==null&&cu(s),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(s!=null&&cu(s),e===1)t.tag===0?l0(ih.bind(null,t)):md(ih.bind(null,t)),s0(function(){!(V&6)&&Qt()}),s=null;else{switch(Vc(i)){case 1:s=Zo;break;case 4:s=Bc;break;case 16:s=Zn;break;case 536870912:s=Ic;break;default:s=Zn}s=ff(s,lf.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function lf(t,e){if(Kn=-1,Xn=0,V&6)throw Error(k(327));var s=t.callbackNode;if(As()&&t.callbackNode!==s)return null;var i=er(t,t===me?xe:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=xr(t,i);else{e=i;var n=V;V|=2;var r=af();(me!==t||xe!==e)&&(mt=null,Xs=le()+500,ss(t,e));do try{k0();break}catch(a){of(t,a)}while(!0);da(),pr.current=r,V=n,ae!==null?e=0:(me=null,xe=0,e=de)}if(e!==0){if(e===2&&(n=so(t),n!==0&&(i=n,e=zo(t,n))),e===1)throw s=Ki,ss(t,0),Pt(t,i),Re(t,le()),s;if(e===6)Pt(t,i);else{if(n=t.current.alternate,!(i&30)&&!E0(n)&&(e=xr(t,i),e===2&&(r=so(t),r!==0&&(i=r,e=zo(t,r))),e===1))throw s=Ki,ss(t,0),Pt(t,i),Re(t,le()),s;switch(t.finishedWork=n,t.finishedLanes=i,e){case 0:case 1:throw Error(k(345));case 2:qt(t,ze,mt);break;case 3:if(Pt(t,i),(i&130023424)===i&&(e=ka+500-le(),10<e)){if(er(t,0)!==0)break;if(n=t.suspendedLanes,(n&i)!==i){ke(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=ho(qt.bind(null,t,ze,mt),e);break}qt(t,ze,mt);break;case 4:if(Pt(t,i),(i&4194240)===i)break;for(e=t.eventTimes,n=-1;0<i;){var l=31-tt(i);r=1<<l,l=e[l],l>n&&(n=l),i&=~r}if(i=n,i=le()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*C0(i/1960))-i,10<i){t.timeoutHandle=ho(qt.bind(null,t,ze,mt),i);break}qt(t,ze,mt);break;case 5:qt(t,ze,mt);break;default:throw Error(k(329))}}}return Re(t,le()),t.callbackNode===s?lf.bind(null,t):null}function zo(t,e){var s=Ci;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=xr(t,e),t!==2&&(e=ze,ze=s,e!==null&&Po(e)),t}function Po(t){ze===null?ze=t:ze.push.apply(ze,t)}function E0(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var i=0;i<s.length;i++){var n=s[i],r=n.getSnapshot;n=n.value;try{if(!it(r(),n))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~ja,e&=~Rr,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-tt(e),i=1<<s;t[s]=-1,e&=~i}}function ih(t){if(V&6)throw Error(k(327));As();var e=er(t,0);if(!(e&1))return Re(t,le()),null;var s=xr(t,e);if(t.tag!==0&&s===2){var i=so(t);i!==0&&(e=i,s=zo(t,i))}if(s===1)throw s=Ki,ss(t,0),Pt(t,e),Re(t,le()),s;if(s===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qt(t,ze,mt),Re(t,le()),null}function _a(t,e){var s=V;V|=1;try{return t(e)}finally{V=s,V===0&&(Xs=le()+500,zr&&Qt())}}function us(t){Dt!==null&&Dt.tag===0&&!(V&6)&&As();var e=V;V|=1;var s=Xe.transition,i=H;try{if(Xe.transition=null,H=1,t)return t()}finally{H=i,Xe.transition=s,V=e,!(V&6)&&Qt()}}function Ma(){Oe=Ts.current,q(Ts)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,t0(s)),ae!==null)for(s=ae.return;s!==null;){var i=s;switch(ua(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&rr();break;case 3:Hs(),q(Le),q(Ce),xa();break;case 5:ga(i);break;case 4:Hs();break;case 13:q(te);break;case 19:q(te);break;case 10:fa(i.type._context);break;case 22:case 23:Ma()}s=s.return}if(me=t,ae=t=Ut(t.current,null),xe=Oe=e,de=0,Ki=null,ja=Rr=as=0,ze=Ci=null,es!==null){for(e=0;e<es.length;e++)if(s=es[e],i=s.interleaved,i!==null){s.interleaved=null;var n=i.next,r=s.pending;if(r!==null){var l=r.next;r.next=n,i.next=l}s.pending=i}es=null}return t}function of(t,e){do{var s=ae;try{if(da(),Vn.current=mr,fr){for(var i=se.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}fr=!1}if(os=0,fe=ce=se=null,Si=!1,Vi=0,Ea.current=null,s===null||s.return===null){de=1,Ki=e,ae=null;break}e:{var r=t,l=s.return,a=s,o=e;if(e=xe,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=o,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Wu(l);if(g!==null){g.flags&=-257,Hu(g,l,a,r,e),g.mode&1&&Vu(r,h,e),e=g,o=h;var x=e.updateQueue;if(x===null){var y=new Set;y.add(o),e.updateQueue=y}else x.add(o);break e}else{if(!(e&1)){Vu(r,h,e),Ta();break e}o=Error(k(426))}}else if(ee&&a.mode&1){var b=Wu(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Hu(b,l,a,r,e),ha(Ks(o,a));break e}}r=o=Ks(o,a),de!==4&&(de=2),Ci===null?Ci=[r]:Ci.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var m=Vd(r,o,e);Ou(r,m);break e;case 1:a=o;var p=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Bt===null||!Bt.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=Wd(r,a,e);Ou(r,w);break e}}r=r.return}while(r!==null)}hf(s)}catch(S){e=S,ae===s&&s!==null&&(ae=s=s.return);continue}break}while(!0)}function af(){var t=pr.current;return pr.current=mr,t===null?mr:t}function Ta(){(de===0||de===3||de===2)&&(de=4),me===null||!(as&268435455)&&!(Rr&268435455)||Pt(me,xe)}function xr(t,e){var s=V;V|=2;var i=af();(me!==t||xe!==e)&&(mt=null,ss(t,e));do try{j0();break}catch(n){of(t,n)}while(!0);if(da(),V=s,pr.current=i,ae!==null)throw Error(k(261));return me=null,xe=0,de}function j0(){for(;ae!==null;)uf(ae)}function k0(){for(;ae!==null&&!qm();)uf(ae)}function uf(t){var e=df(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?hf(t):ae=e,Ea.current=null}function hf(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=w0(s,e),s!==null){s.flags&=32767,ae=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,ae=null;return}}else if(s=y0(s,e,Oe),s!==null){ae=s;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);de===0&&(de=5)}function qt(t,e,s){var i=H,n=Xe.transition;try{Xe.transition=null,H=1,_0(t,e,s,i)}finally{Xe.transition=n,H=i}return null}function _0(t,e,s,i){do As();while(Dt!==null);if(V&6)throw Error(k(327));s=t.finishedWork;var n=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var r=s.lanes|s.childLanes;if(ap(t,r),t===me&&(ae=me=null,xe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||En||(En=!0,ff(Zn,function(){return As(),null})),r=(s.flags&15990)!==0,s.subtreeFlags&15990||r){r=Xe.transition,Xe.transition=null;var l=H;H=1;var a=V;V|=4,Ea.current=null,S0(t,s),nf(s,t),Qp(ao),tr=!!oo,ao=oo=null,t.current=s,N0(s),Zm(),V=a,H=l,Xe.transition=r}else t.current=s;if(En&&(En=!1,Dt=t,gr=n),r=t.pendingLanes,r===0&&(Bt=null),sp(s.stateNode),Re(t,le()),e!==null)for(i=t.onRecoverableError,s=0;s<e.length;s++)n=e[s],i(n.value,{componentStack:n.stack,digest:n.digest});if(vr)throw vr=!1,t=Mo,Mo=null,t;return gr&1&&t.tag!==0&&As(),r=t.pendingLanes,r&1?t===To?Ei++:(Ei=0,To=t):Ei=0,Qt(),null}function As(){if(Dt!==null){var t=Vc(gr),e=Xe.transition,s=H;try{if(Xe.transition=null,H=16>t?16:t,Dt===null)var i=!1;else{if(t=Dt,Dt=null,gr=0,V&6)throw Error(k(331));var n=V;for(V|=4,P=t.current;P!==null;){var r=P,l=r.child;if(P.flags&16){var a=r.deletions;if(a!==null){for(var o=0;o<a.length;o++){var h=a[o];for(P=h;P!==null;){var c=P;switch(c.tag){case 0:case 11:case 15:Ni(8,c,r)}var d=c.child;if(d!==null)d.return=c,P=d;else for(;P!==null;){c=P;var f=c.sibling,g=c.return;if(ef(c),c===h){P=null;break}if(f!==null){f.return=g,P=f;break}P=g}}}var x=r.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}P=r}}if(r.subtreeFlags&2064&&l!==null)l.return=r,P=l;else e:for(;P!==null;){if(r=P,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ni(9,r,r.return)}var m=r.sibling;if(m!==null){m.return=r.return,P=m;break e}P=r.return}}var p=t.current;for(P=p;P!==null;){l=P;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,P=v;else e:for(l=p;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dr(9,a)}}catch(S){ne(a,a.return,S)}if(a===l){P=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,P=w;break e}P=a.return}}if(V=n,Qt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(jr,t)}catch{}i=!0}return i}finally{H=s,Xe.transition=e}}return!1}function nh(t,e,s){e=Ks(s,e),e=Vd(t,e,1),t=At(t,e,1),e=ke(),t!==null&&(en(t,1,e),Re(t,e))}function ne(t,e,s){if(t.tag===3)nh(t,t,s);else for(;e!==null;){if(e.tag===3){nh(e,t,s);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bt===null||!Bt.has(i))){t=Ks(s,t),t=Wd(e,t,1),e=At(e,t,1),t=ke(),e!==null&&(en(e,1,t),Re(e,t));break}}e=e.return}}function M0(t,e,s){var i=t.pingCache;i!==null&&i.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&s,me===t&&(xe&s)===s&&(de===4||de===3&&(xe&130023424)===xe&&500>le()-ka?ss(t,0):ja|=s),Re(t,e)}function cf(t,e){e===0&&(t.mode&1?(e=pn,pn<<=1,!(pn&130023424)&&(pn=4194304)):e=1);var s=ke();t=Nt(t,e),t!==null&&(en(t,e,s),Re(t,s))}function T0(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),cf(t,s)}function z0(t,e){var s=0;switch(t.tag){case 13:var i=t.stateNode,n=t.memoizedState;n!==null&&(s=n.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(k(314))}i!==null&&i.delete(e),cf(t,s)}var df;df=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||Le.current)Pe=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return Pe=!1,x0(t,e,s);Pe=!!(t.flags&131072)}else Pe=!1,ee&&e.flags&1048576&&pd(e,ar,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Hn(t,e),t=e.pendingProps;var n=Us(e,Ce.current);Fs(e,s),n=wa(null,e,i,t,n,s);var r=ba();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,De(i)?(r=!0,lr(e)):r=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,pa(e),n.updater=Lr,e.stateNode=n,n._reactInternals=e,xo(e,i,t,s),e=bo(null,e,i,!0,r,s)):(e.tag=0,ee&&r&&aa(e),je(null,e,n,s),e=e.child),e;case 16:i=e.elementType;e:{switch(Hn(t,e),t=e.pendingProps,n=i._init,i=n(i._payload),e.type=i,n=e.tag=L0(i),t=qe(i,t),n){case 0:e=wo(null,e,i,t,s);break e;case 1:e=Qu(null,e,i,t,s);break e;case 11:e=Ku(null,e,i,t,s);break e;case 14:e=Xu(null,e,i,qe(i.type,t),s);break e}throw Error(k(306,i,""))}return e;case 0:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:qe(i,n),wo(t,e,i,n,s);case 1:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:qe(i,n),Qu(t,e,i,n,s);case 3:e:{if(Qd(e),t===null)throw Error(k(387));i=e.pendingProps,r=e.memoizedState,n=r.element,bd(t,e),cr(e,i,null,s);var l=e.memoizedState;if(i=l.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){n=Ks(Error(k(423)),e),e=Gu(t,e,i,s,n);break e}else if(i!==n){n=Ks(Error(k(424)),e),e=Gu(t,e,i,s,n);break e}else for(Fe=Ft(e.stateNode.containerInfo.firstChild),Ae=e,ee=!0,et=null,s=yd(e,null,i,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Vs(),i===n){e=Ct(t,e,s);break e}je(t,e,i,s)}e=e.child}return e;case 5:return Sd(e),t===null&&po(e),i=e.type,n=e.pendingProps,r=t!==null?t.memoizedProps:null,l=n.children,uo(i,n)?l=null:r!==null&&uo(i,r)&&(e.flags|=32),Xd(t,e),je(t,e,l,s),e.child;case 6:return t===null&&po(e),null;case 13:return Gd(t,e,s);case 4:return va(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ws(e,null,i,s):je(t,e,i,s),e.child;case 11:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:qe(i,n),Ku(t,e,i,n,s);case 7:return je(t,e,e.pendingProps,s),e.child;case 8:return je(t,e,e.pendingProps.children,s),e.child;case 12:return je(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(i=e.type._context,n=e.pendingProps,r=e.memoizedProps,l=n.value,G(ur,i._currentValue),i._currentValue=l,r!==null)if(it(r.value,l)){if(r.children===n.children&&!Le.current){e=Ct(t,e,s);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){l=r.child;for(var o=a.firstContext;o!==null;){if(o.context===i){if(r.tag===1){o=wt(-1,s&-s),o.tag=2;var h=r.updateQueue;if(h!==null){h=h.shared;var c=h.pending;c===null?o.next=o:(o.next=c.next,c.next=o),h.pending=o}}r.lanes|=s,o=r.alternate,o!==null&&(o.lanes|=s),vo(r.return,s,e),a.lanes|=s;break}o=o.next}}else if(r.tag===10)l=r.type===e.type?null:r.child;else if(r.tag===18){if(l=r.return,l===null)throw Error(k(341));l.lanes|=s,a=l.alternate,a!==null&&(a.lanes|=s),vo(l,s,e),l=r.sibling}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}je(t,e,n.children,s),e=e.child}return e;case 9:return n=e.type,i=e.pendingProps.children,Fs(e,s),n=Qe(n),i=i(n),e.flags|=1,je(t,e,i,s),e.child;case 14:return i=e.type,n=qe(i,e.pendingProps),n=qe(i.type,n),Xu(t,e,i,n,s);case 15:return Hd(t,e,e.type,e.pendingProps,s);case 17:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:qe(i,n),Hn(t,e),e.tag=1,De(i)?(t=!0,lr(e)):t=!1,Fs(e,s),Ud(e,i,n),xo(e,i,n,s),bo(null,e,i,!0,t,s);case 19:return Yd(t,e,s);case 22:return Kd(t,e,s)}throw Error(k(156,e.tag))};function ff(t,e){return Ac(t,e)}function P0(t,e,s,i){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,s,i){return new P0(t,e,s,i)}function za(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L0(t){if(typeof t=="function")return za(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yo)return 11;if(t===Jo)return 14}return 2}function Ut(t,e){var s=t.alternate;return s===null?(s=Ke(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Qn(t,e,s,i,n,r){var l=2;if(i=t,typeof t=="function")za(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case ws:return is(s.children,n,r,e);case Go:l=8,n|=8;break;case Il:return t=Ke(12,s,e,n|2),t.elementType=Il,t.lanes=r,t;case Ul:return t=Ke(13,s,e,n),t.elementType=Ul,t.lanes=r,t;case Vl:return t=Ke(19,s,e,n),t.elementType=Vl,t.lanes=r,t;case Sc:return $r(s,n,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wc:l=10;break e;case bc:l=9;break e;case Yo:l=11;break e;case Jo:l=14;break e;case Mt:l=16,i=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Ke(l,s,e,n),e.elementType=t,e.type=i,e.lanes=r,e}function is(t,e,s,i){return t=Ke(7,t,i,e),t.lanes=s,t}function $r(t,e,s,i){return t=Ke(22,t,i,e),t.elementType=Sc,t.lanes=s,t.stateNode={isHidden:!1},t}function yl(t,e,s){return t=Ke(6,t,null,e),t.lanes=s,t}function wl(t,e,s){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function D0(t,e,s,i,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Pa(t,e,s,i,n,r,l,a,o){return t=new D0(t,e,s,a,o),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Ke(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},pa(r),t}function R0(t,e,s){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:i==null?null:""+i,children:t,containerInfo:e,implementation:s}}function mf(t){if(!t)return Wt;t=t._reactInternals;e:{if(vs(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(De(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var s=t.type;if(De(s))return fd(t,s,e)}return e}function pf(t,e,s,i,n,r,l,a,o){return t=Pa(s,i,!0,t,n,r,l,a,o),t.context=mf(null),s=t.current,i=ke(),n=It(s),r=wt(i,n),r.callback=e??null,At(s,r,n),t.current.lanes=n,en(t,n,i),Re(t,i),t}function Or(t,e,s,i){var n=e.current,r=ke(),l=It(n);return s=mf(s),e.context===null?e.context=s:e.pendingContext=s,e=wt(r,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=At(n,e,l),t!==null&&(st(t,n,l,r),Un(t,n,l)),l}function yr(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function La(t,e){rh(t,e),(t=t.alternate)&&rh(t,e)}function $0(){return null}var vf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Da(t){this._internalRoot=t}Fr.prototype.render=Da.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));Or(t,e,null,null)};Fr.prototype.unmount=Da.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){Or(null,t,null,null)}),e[St]=null}};function Fr(t){this._internalRoot=t}Fr.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kc();t={blockedOn:null,target:t,priority:e};for(var s=0;s<zt.length&&e!==0&&e<zt[s].priority;s++);zt.splice(s,0,t),s===0&&Qc(t)}};function Ra(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ar(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lh(){}function O0(t,e,s,i,n){if(n){if(typeof i=="function"){var r=i;i=function(){var h=yr(l);r.call(h)}}var l=pf(e,i,t,0,null,!1,!1,"",lh);return t._reactRootContainer=l,t[St]=l.current,Fi(t.nodeType===8?t.parentNode:t),us(),l}for(;n=t.lastChild;)t.removeChild(n);if(typeof i=="function"){var a=i;i=function(){var h=yr(o);a.call(h)}}var o=Pa(t,0,!1,null,null,!1,!1,"",lh);return t._reactRootContainer=o,t[St]=o.current,Fi(t.nodeType===8?t.parentNode:t),us(function(){Or(e,o,s,i)}),o}function Br(t,e,s,i,n){var r=s._reactRootContainer;if(r){var l=r;if(typeof n=="function"){var a=n;n=function(){var o=yr(l);a.call(o)}}Or(e,l,t,n)}else l=O0(s,e,t,n,i);return yr(l)}Wc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=pi(e.pendingLanes);s!==0&&(ea(e,s|1),Re(e,le()),!(V&6)&&(Xs=le()+500,Qt()))}break;case 13:us(function(){var i=Nt(t,1);if(i!==null){var n=ke();st(i,t,1,n)}}),La(t,1)}};ta=function(t){if(t.tag===13){var e=Nt(t,134217728);if(e!==null){var s=ke();st(e,t,134217728,s)}La(t,134217728)}};Hc=function(t){if(t.tag===13){var e=It(t),s=Nt(t,e);if(s!==null){var i=ke();st(s,t,e,i)}La(t,e)}};Kc=function(){return H};Xc=function(t,e){var s=H;try{return H=t,e()}finally{H=s}};Zl=function(t,e,s){switch(e){case"input":if(Kl(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var i=s[e];if(i!==t&&i.form===t.form){var n=Tr(i);if(!n)throw Error(k(90));Cc(i),Kl(i,n)}}}break;case"textarea":jc(t,s);break;case"select":e=s.value,e!=null&&Ds(t,!!s.multiple,e,!1)}};Lc=_a;Dc=us;var F0={usingClientEntryPoint:!1,Events:[sn,Cs,Tr,zc,Pc,_a]},ui={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A0={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Oc(t),t===null?null:t.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||$0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jn.isDisabled&&jn.supportsFiber)try{jr=jn.inject(A0),dt=jn}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0;Ie.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ra(e))throw Error(k(200));return R0(t,e,null,s)};Ie.createRoot=function(t,e){if(!Ra(t))throw Error(k(299));var s=!1,i="",n=vf;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=Pa(t,1,!1,null,null,s,!1,i,n),t[St]=e.current,Fi(t.nodeType===8?t.parentNode:t),new Da(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Oc(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return us(t)};Ie.hydrate=function(t,e,s){if(!Ar(e))throw Error(k(200));return Br(null,t,e,!0,s)};Ie.hydrateRoot=function(t,e,s){if(!Ra(t))throw Error(k(405));var i=s!=null&&s.hydratedSources||null,n=!1,r="",l=vf;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),e=pf(e,null,t,1,s??null,n,!1,r,l),t[St]=e.current,Fi(t),i)for(t=0;t<i.length;t++)s=i[t],n=s._getVersion,n=n(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,n]:e.mutableSourceEagerHydrationData.push(s,n);return new Fr(e)};Ie.render=function(t,e,s){if(!Ar(e))throw Error(k(200));return Br(null,t,e,!1,s)};Ie.unmountComponentAtNode=function(t){if(!Ar(t))throw Error(k(40));return t._reactRootContainer?(us(function(){Br(null,null,t,!1,function(){t._reactRootContainer=null,t[St]=null})}),!0):!1};Ie.unstable_batchedUpdates=_a;Ie.unstable_renderSubtreeIntoContainer=function(t,e,s,i){if(!Ar(s))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Br(t,e,s,!1,i)};Ie.version="18.3.1-next-f1338f8080-20240426";function gf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gf)}catch(t){console.error(t)}}gf(),vc.exports=Ie;var B0=vc.exports,xf,oh=B0;xf=oh.createRoot,oh.hydrateRoot;const yf=N.createContext(void 0),wf=()=>{const t=N.useContext(yf);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},I0=({children:t})=>{const[e,s]=N.useState("dark"),i=()=>{s(n=>n==="dark"?"light":"dark")};return u.jsx(yf.Provider,{value:{theme:e,toggleTheme:i},children:t})},bf=N.createContext(void 0),ei=()=>{const t=N.useContext(bf);if(t===void 0)throw new Error("useToken must be used within a TokenProvider");return t},U0=({children:t})=>{const[e,s]=N.useState("BTCUSDT");return u.jsx(bf.Provider,{value:{selectedToken:e,setSelectedToken:s},children:t})},V0="wss://stream.binance.com:9443/ws",W0="https://api.binance.com/api/v3/ticker/24hr",hi=5,H0=1e3,K0=3e4;class X0{constructor(){this.ws=null,this.priceSubscribers=[],this.orderBookSubscribers=[],this.tokenData=new Map,this.orderBookData=new Map,this.reconnectAttempts=0,this.fetchRetryAttempts=0,this.symbols=["BTCUSDT","ETHUSDT","SOLUSDT","BNBUSDT","XRPUSDT","ADAUSDT","DOGEUSDT","MATICUSDT","DOTUSDT","LINKUSDT","AVAXUSDT","SHIBUSDT","LTCUSDT","UNIUSDT","ATOMUSDT","NEARUSDT","ALGOUSDT","ICPUSDT","FTMUSDT","TRXUSDT"],this.connect(),this.fetch24hData(),this.tokenData.set("USDT",{symbol:"USDT",price:1,priceChange:0,volume:0})}calculateRetryDelay(e){return Math.min(H0*Math.pow(2,e),K0)+Math.random()*1e3}async fetch24hData(){try{const e=new AbortController,s=setTimeout(()=>e.abort(),5e3),i=await fetch(W0,{signal:e.signal,headers:{Accept:"application/json"}});if(clearTimeout(s),!i.ok)throw new Error(`HTTP error! status: ${i.status}`);(await i.json()).forEach(r=>{if(this.symbols.includes(r.symbol)){const l=this.tokenData.get(r.symbol);l?this.tokenData.set(r.symbol,{...l,priceChange:parseFloat(r.priceChangePercent)}):this.tokenData.set(r.symbol,{symbol:r.symbol,price:parseFloat(r.lastPrice),priceChange:parseFloat(r.priceChangePercent),volume:parseFloat(r.volume)})}}),this.notifyPriceSubscribers(),this.fetchRetryAttempts=0}catch(e){if(console.error("Failed to fetch 24h data:",e),this.fetchRetryAttempts<hi){const s=this.calculateRetryDelay(this.fetchRetryAttempts);this.fetchRetryAttempts++,console.log(`Retrying 24h data fetch in ${s}ms (attempt ${this.fetchRetryAttempts}/${hi})`),setTimeout(()=>this.fetch24hData(),s)}else console.error("Max retry attempts reached for 24h data fetch")}}connect(){var e;try{if(((e=this.ws)==null?void 0:e.readyState)===WebSocket.OPEN){console.log("WebSocket already connected");return}this.ws=new WebSocket(V0),this.ws.onopen=()=>{console.log("Connected to Binance WebSocket"),this.reconnectAttempts=0,this.subscribe()},this.ws.onmessage=s=>{try{const i=JSON.parse(s.data);if(i.e==="24hrMiniTicker"){const n=i.s,r=parseFloat(i.c),l=parseFloat(i.v),a=this.tokenData.get(n);this.tokenData.set(n,{symbol:n,price:r,priceChange:(a==null?void 0:a.priceChange)||0,volume:l}),this.notifyPriceSubscribers()}else i.e==="depthUpdate"&&(this.updateOrderBook(i.s,i),this.notifyOrderBookSubscribers(i.s))}catch(i){console.error("Error processing WebSocket message:",i)}},this.ws.onclose=s=>{if(console.log(`WebSocket connection closed (code: ${s.code}, reason: ${s.reason})`),this.reconnectAttempts<hi){const i=this.calculateRetryDelay(this.reconnectAttempts);this.reconnectAttempts++,console.log(`Reconnecting WebSocket in ${i}ms (attempt ${this.reconnectAttempts}/${hi})`),setTimeout(()=>this.connect(),i)}else console.error("Max reconnection attempts reached")},this.ws.onerror=s=>{console.error("WebSocket error:",s)}}catch(s){if(console.error("Failed to connect to WebSocket:",s),this.reconnectAttempts<hi){const i=this.calculateRetryDelay(this.reconnectAttempts);this.reconnectAttempts++,setTimeout(()=>this.connect(),i)}}}subscribe(){var e,s;if(((e=this.ws)==null?void 0:e.readyState)===WebSocket.OPEN)try{const i={method:"SUBSCRIBE",params:this.symbols.map(r=>`${r.toLowerCase()}@miniTicker`),id:1};this.ws.send(JSON.stringify(i));const n={method:"SUBSCRIBE",params:this.symbols.map(r=>`${r.toLowerCase()}@depth@100ms`),id:2};this.ws.send(JSON.stringify(n))}catch(i){console.error("Error subscribing to WebSocket feeds:",i),(s=this.ws)==null||s.close()}}updateOrderBook(e,s){try{const i=s.b.map((r,l)=>({price:parseFloat(r[0]),amount:parseFloat(r[1]),total:parseFloat(r[0])*parseFloat(r[1]),depth:1-l/s.b.length})),n=s.a.map((r,l)=>({price:parseFloat(r[0]),amount:parseFloat(r[1]),total:parseFloat(r[0])*parseFloat(r[1]),depth:1-l/s.a.length}));this.orderBookData.set(e,{symbol:e,bids:i,asks:n})}catch(i){console.error("Error updating order book:",i)}}notifyPriceSubscribers(){const e=Array.from(this.tokenData.values());this.priceSubscribers.forEach(s=>{try{s(e)}catch(i){console.error("Error in price subscriber callback:",i)}})}notifyOrderBookSubscribers(e){const s=this.orderBookData.get(e);s&&this.orderBookSubscribers.forEach(i=>{try{i(s)}catch(n){console.error("Error in order book subscriber callback:",n)}})}onPriceUpdate(e){return this.priceSubscribers.push(e),e(Array.from(this.tokenData.values())),()=>{this.priceSubscribers=this.priceSubscribers.filter(s=>s!==e)}}onOrderBookUpdate(e){return this.orderBookSubscribers.push(e),()=>{this.orderBookSubscribers=this.orderBookSubscribers.filter(s=>s!==e)}}disconnect(){this.ws&&(this.ws.close(),this.ws=null)}}const Gt=new X0,Sf=N.createContext(void 0),Ir=()=>{const t=N.useContext(Sf);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},Q0=({children:t})=>{const[e,s]=N.useState({id:"demo-user",email:"demo@cryptox.com"}),[i,n]=N.useState(!1),r=async(o,h)=>{n(!0);try{await new Promise(c=>setTimeout(c,1e3)),s({id:Math.random().toString(36).substring(7),email:o})}catch{throw new Error("Login failed")}finally{n(!1)}},l=async(o,h)=>{n(!0);try{await new Promise(c=>setTimeout(c,1e3)),s({id:Math.random().toString(36).substring(7),email:o})}catch{throw new Error("Registration failed")}finally{n(!1)}},a=()=>{s(null)};return u.jsx(Sf.Provider,{value:{user:e,loading:i,login:r,register:l,logout:a},children:t})},Nf=N.createContext(void 0),rn=()=>{const t=N.useContext(Nf);if(!t)throw new Error("usePositions must be used within a PositionProvider");return t},G0=({children:t})=>{const{user:e}=Ir(),[s,i]=N.useState([]),[n,r]=N.useState(1e4),[l,a]=N.useState([{symbol:"USDT",balance:1e4},{symbol:"BTC",balance:0},{symbol:"ETH",balance:0},{symbol:"SOL",balance:0},{symbol:"BNB",balance:0},{symbol:"XRP",balance:0},{symbol:"ADA",balance:0},{symbol:"DOGE",balance:0},{symbol:"MATIC",balance:0},{symbol:"DOT",balance:0}]),[o,h]=N.useState(new Map);N.useEffect(()=>{e&&(r(1e4),a([{symbol:"USDT",balance:1e4},{symbol:"BTC",balance:0},{symbol:"ETH",balance:0},{symbol:"SOL",balance:0},{symbol:"BNB",balance:0},{symbol:"XRP",balance:0},{symbol:"ADA",balance:0},{symbol:"DOGE",balance:0},{symbol:"MATIC",balance:0},{symbol:"DOT",balance:0}]),i([]))},[e]),N.useEffect(()=>{const x=Gt.onPriceUpdate(y=>{const b=new Map;y.forEach(m=>b.set(m.symbol,m.price)),h(b),i(m=>m.map(p=>{if(p.status==="closed")return p;const v=b.get(p.symbol);if(!v)return p;const w=p.amount*p.entryPrice/p.leverage;let S=0;p.type==="long"?S=(v-p.entryPrice)/p.entryPrice*w*p.leverage:S=(p.entryPrice-v)/p.entryPrice*w*p.leverage;const E=S/w*100;return{...p,pnl:S,pnlPercent:E}}))});return()=>x()},[]);const c=N.useCallback(x=>{const y=n+x;r(y),a(b=>b.map(m=>m.symbol==="USDT"?{...m,balance:m.balance+x}:m))},[n]),d=N.useCallback((x,y,b,m)=>{a(p=>{const v=[...p],w=v.findIndex(E=>E.symbol===x),S=v.findIndex(E=>E.symbol===y);if(w!==-1&&S!==-1){v[w]={...v[w],balance:Math.max(0,v[w].balance-b)};const E=b*m;v[S]={...v[S],balance:v[S].balance+E},x==="USDT"?r(C=>C-b):y==="USDT"&&r(C=>C+E)}return v})},[]),f=N.useCallback(x=>{if(x.amount*x.entryPrice/x.leverage>n)throw new Error("Insufficient balance to open position");const b=Math.random().toString(36).substring(7),m={...x,id:b,status:"open",openTime:new Date,initialBalance:n,pnl:0,pnlPercent:0};return i(p=>[...p,m]),m},[n]),g=N.useCallback(x=>{i(y=>{const b=y.find(S=>S.id===x);if(!b||b.status==="closed")return y;const m=o.get(b.symbol);if(!m)return y;const p=b.amount*b.entryPrice/b.leverage;let v=0;b.type==="long"?v=(m-b.entryPrice)/b.entryPrice*p*b.leverage:v=(b.entryPrice-m)/b.entryPrice*p*b.leverage;const w=v/p*100;return c(v),y.map(S=>S.id===x?{...S,status:"closed",closeTime:new Date,pnl:v,pnlPercent:w}:S)})},[o,c]);return u.jsx(Nf.Provider,{value:{positions:s,portfolioBalance:n,tokenBalances:l,openPosition:f,closePosition:g,updateUsdtBalance:c,convertTokens:d},children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(t,e)=>{const s=N.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:a="",children:o,...h},c)=>N.createElement("svg",{ref:c,...Y0,width:n,height:n,stroke:i,strokeWidth:l?Number(r)*24/Number(n):r,className:["lucide",`lucide-${J0(t)}`,a].join(" "),...h},[...e.map(([d,f])=>N.createElement(d,f)),...Array.isArray(o)?o:[o]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=K("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=K("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=K("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=K("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=K("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=K("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=K("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=K("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=K("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=K("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=K("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=K("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=K("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),jf=({isOpen:t,onClose:e,initialMode:s="login"})=>{const{login:i,register:n,loading:r}=Ir(),[l,a]=N.useState(s);N.useState("email");const[o,h]=N.useState(""),[c,d]=N.useState(""),[f,g]=N.useState(""),[x,y]=N.useState("");N.useState("US");const[b,m]=N.useState(""),[p,v]=N.useState(!1),[w,S]=N.useState(!1),[E,C]=N.useState(""),[_,F]=N.useState(!1),[z,A]=N.useState(""),[D,$]=N.useState(""),[W,ue]=N.useState(!1);N.useEffect(()=>{a(s)},[s]);const he=()=>{h(""),d(""),g(""),y(""),m(""),C(""),F(!1),A(""),$(""),ue(!1)},pe=()=>{he(),e()},T=async B=>{B.preventDefault(),A("");try{await i(o,c),pe()}catch(X){A(X.message||"Login failed")}},R=async B=>{if(B.preventDefault(),A(""),c!==f){A("Passwords do not match");return}if(!_){A("Please agree to the Terms of Service");return}try{await n(o,c),ue(!0),$("Registration successful!"),setTimeout(()=>{pe()},2e3)}catch(X){A(X.message||"Registration failed")}},O=async()=>{if(!o){A("Please enter your email address");return}$("Password reset instructions sent to your email")};return t?W?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#0F172A] rounded-lg w-full max-w-md p-8 relative",children:[u.jsx("button",{onClick:pe,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:u.jsx(Qs,{size:24})}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-[#22C55E] rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Oa,{size:32,className:"text-white"})}),u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Registration Successful!"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Welcome to TX Exchange! You can now start trading."}),u.jsx("button",{onClick:()=>{a("login"),ue(!1)},className:"bg-[#22C55E] hover:bg-[#16A34A] text-white px-6 py-2 rounded-lg font-medium transition-all duration-200",children:"Continue"})]})]})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#0F172A] rounded-lg w-full max-w-md p-6 relative",children:[u.jsx("button",{onClick:pe,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:u.jsx(Qs,{size:24})}),u.jsxs("div",{className:"flex items-center mb-6",children:[l==="register"&&u.jsx("button",{onClick:()=>a("login"),className:"text-gray-400 hover:text-white mr-4",children:u.jsx(wr,{size:24})}),u.jsx("h2",{className:"text-xl font-semibold",children:l==="login"?"TX Exchange Account Login":"Create TX Exchange Account"})]}),u.jsx("div",{className:"text-sm text-gray-400 mb-6",children:l==="login"?"Welcome back! Sign in with your email":"Register with your email"}),u.jsxs("form",{onSubmit:l==="login"?T:R,children:[z&&u.jsx("div",{className:"bg-red-500 bg-opacity-10 text-red-500 px-4 py-2 rounded-lg mb-4",children:z}),D&&u.jsx("div",{className:"bg-green-500 bg-opacity-10 text-green-500 px-4 py-2 rounded-lg mb-4",children:D}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"email",value:o,onChange:B=>h(B.target.value),placeholder:"Please enter your email address",className:"w-full bg-[#1E293B] text-white pl-10 pr-4 py-2 rounded-lg",required:!0}),u.jsx(uv,{className:"absolute left-3 top-2.5 text-gray-400",size:18})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:p?"text":"password",value:c,onChange:B=>d(B.target.value),placeholder:"Please enter your password",className:"w-full bg-[#1E293B] text-white pl-10 pr-10 py-2 rounded-lg",required:!0}),u.jsx(ah,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),u.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute right-3 top-2.5 text-gray-400",children:p?u.jsx(rv,{size:18}):u.jsx(lv,{size:18})})]})]}),l==="register"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:p?"text":"password",value:f,onChange:B=>g(B.target.value),placeholder:"Please enter your password again",className:"w-full bg-[#1E293B] text-white pl-10 pr-10 py-2 rounded-lg",required:!0}),u.jsx(ah,{className:"absolute left-3 top-2.5 text-gray-400",size:18})]})]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{type:"text",value:E,onChange:B=>C(B.target.value),placeholder:"Invite code (optional)",className:"w-full bg-[#1E293B] text-white px-3 py-2 rounded-lg"})}),u.jsxs("div",{className:"mb-6 flex items-center",children:[u.jsx("input",{type:"checkbox",checked:_,onChange:B=>F(B.target.checked),className:"mr-2",required:!0}),u.jsxs("span",{className:"text-sm text-gray-400",children:["I have read and agree to"," ",u.jsx("a",{href:"#",className:"text-[#22C55E]",children:"TX Exchange Terms of Service"})]})]})]}),l==="login"&&u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:B=>S(B.target.checked),className:"mr-2"}),u.jsx("span",{className:"text-sm text-gray-400",children:"Remember my password"})]}),u.jsx("button",{type:"button",onClick:O,className:"text-sm text-[#22C55E] hover:underline",children:"Forgot password?"})]}),u.jsx("button",{type:"submit",disabled:r,className:"w-full bg-[#22C55E] hover:bg-[#16A34A] disabled:bg-gray-600 text-white py-3 rounded-lg font-medium transition-all duration-200",children:r?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(Fa,{size:20,className:"animate-spin mr-2"}),"Processing..."]}):l==="login"?"Login":"Register"}),l==="login"?u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{type:"button",onClick:()=>a("register"),className:"text-[#22C55E] hover:underline",children:"Register"})}):u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{type:"button",onClick:()=>a("login"),className:"text-[#22C55E] hover:underline",children:"Login"})})]})]})}):null},Q=(t,e=2)=>{const s=t<.01?6:e;return t.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:s})},Do=t=>{const e=t.toFixed(2).replace(/\.?0+$/,"");return(t>=0?"+":"")+e+"%"},Ne={USDT:"https://assets.coingecko.com/coins/images/325/large/Tether.png",BTC:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png",ETH:"https://assets.coingecko.com/coins/images/279/large/ethereum.png",SOL:"https://assets.coingecko.com/coins/images/4128/large/solana.png",BNB:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png",XRP:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",ADA:"https://assets.coingecko.com/coins/images/975/large/cardano.png",DOGE:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png",MATIC:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png",DOT:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png",LINK:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png",AVAX:"https://assets.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png",SHIB:"https://assets.coingecko.com/coins/images/11939/large/shiba.png",LTC:"https://assets.coingecko.com/coins/images/2/large/litecoin.png",UNI:"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png",ATOM:"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png",NEAR:"https://assets.coingecko.com/coins/images/10365/large/near.jpg",ALGO:"https://assets.coingecko.com/coins/images/4380/large/download.png",ICP:"https://assets.coingecko.com/coins/images/14495/large/Internet_Computer_logo.png",FTM:"https://assets.coingecko.com/coins/images/4001/large/Fantom_round.png",TRX:"https://assets.coingecko.com/coins/images/1094/large/tron-logo.png"},Ro=({onSelect:t})=>{const[e,s]=N.useState([]),[i,n]=N.useState(""),[r,l]=N.useState("marketCap"),[a,o]=N.useState("desc"),[h,c]=N.useState(new Map),{selectedToken:d,setSelectedToken:f}=ei();N.useEffect(()=>{const v=Gt.onPriceUpdate(w=>{s(S=>{const E=new Map(h);return S.forEach(C=>{E.set(C.symbol,C.price)}),c(E),w})});return()=>v()},[]);const g=v=>{r===v?o(a==="asc"?"desc":"asc"):(l(v),o("desc"))},x=(v,w)=>{const S=h.get(v);return S?w>S?"text-green-500":w<S?"text-red-500":"":""},y=v=>{f(v),t&&t(v)},m=[...e].sort((v,w)=>{const S=a==="asc"?1:-1;switch(r){case"symbol":return S*v.symbol.localeCompare(w.symbol);case"price":return S*(v.price-w.price);case"priceChange":return S*(v.priceChange-w.priceChange);case"marketCap":const E=v.price*v.volume,C=w.price*w.volume;return S*(E-C);default:return 0}}).filter(v=>v.symbol.toLowerCase().includes(i.toLowerCase())),p=v=>v.replace("USDT","");return u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"p-3 border-b border-gray-700",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:v=>n(v.target.value),className:"w-full bg-gray-700 text-white px-3 py-2 pl-9 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm"}),u.jsx(Ur,{className:"absolute left-2.5 top-2.5 text-gray-400",size:16})]})}),u.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-200px)] scrollbar-thin",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-750 sticky top-0",children:u.jsxs("tr",{className:"text-gray-400 text-xs",children:[u.jsx("th",{className:"px-3 py-2 text-left cursor-pointer hover:text-white",onClick:()=>g("symbol"),children:"Pair"}),u.jsx("th",{className:"px-3 py-2 text-right cursor-pointer hover:text-white",onClick:()=>g("price"),children:"Price"}),u.jsx("th",{className:"px-3 py-2 text-right cursor-pointer hover:text-white",onClick:()=>g("priceChange"),children:"24h"})]})}),u.jsx("tbody",{children:m.map(v=>{const w=p(v.symbol),S=Ne[w];return u.jsxs("tr",{className:`border-b border-gray-700 hover:bg-gray-750 cursor-pointer transition-colors ${d===v.symbol?"bg-gray-700":""}`,onClick:()=>y(v.symbol),children:[u.jsxs("td",{className:"px-3 py-3 flex items-center",children:[S?u.jsx("img",{src:S,alt:w,className:"w-6 h-6 rounded-full mr-2"}):u.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-xs mr-2",children:w.substring(0,1)}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:w}),u.jsx("div",{className:"text-xs text-gray-400",children:"USDT"})]})]}),u.jsx("td",{className:`px-3 py-3 text-right ${x(v.symbol,v.price)}`,children:Q(v.price)}),u.jsx("td",{className:`px-3 py-3 text-right ${v.priceChange>0?"text-green-500":v.priceChange<0?"text-red-500":"text-gray-400"}`,children:v.priceChange!==void 0?Do(v.priceChange):"0.00%"})]},v.symbol)})})]})})]})},kf=({isOpen:t,onClose:e,prices:s,tokenBalances:i})=>{var M,I;const[n,r]=N.useState("USDT"),[l,a]=N.useState("BTCUSDT"),[o,h]=N.useState(""),[c,d]=N.useState(!1),[f,g]=N.useState(!1),[x,y]=N.useState(!1),[b,m]=N.useState(!1),[p,v]=N.useState(5),{portfolioBalance:w,convertTokens:S}=rn(),E=N.useRef(null),C=N.useRef(null);N.useEffect(()=>{const L=Z=>{E.current&&!E.current.contains(Z.target)&&d(!1),C.current&&!C.current.contains(Z.target)&&g(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const _=()=>{r("USDT"),a("BTCUSDT"),h(""),d(!1),g(!1),y(!1),m(!1),v(5),e()},F=L=>L.replace("USDT",""),z=n==="USDT"?{symbol:"USDT",price:1,priceChange:0,volume:0}:s.find(L=>L.symbol===n),A=l==="USDT"?{symbol:"USDT",price:1,priceChange:0,volume:0}:s.find(L=>L.symbol===l),D=n==="USDT"?"USDT":F(n),$=l==="USDT"?"USDT":F(l),W=Ne[D],ue=Ne[$],he=((M=i.find(L=>L.symbol===D))==null?void 0:M.balance)||0,pe=((I=i.find(L=>L.symbol===$))==null?void 0:I.balance)||0,T=()=>!z||!A||!o?"0":D==="USDT"?(parseFloat(o)/A.price).toFixed(8):$==="USDT"?(parseFloat(o)*z.price).toFixed(2):(parseFloat(o)*z.price/A.price).toFixed(8),R=()=>!z||!A?1:D==="USDT"?1/A.price:$==="USDT"?z.price:z.price/A.price,O=()=>he,B=()=>{h(O().toString())},X=L=>{L===l&&a(n),r(L),d(!1),h("")},jt=L=>{L===n&&r(l),a(L),g(!1),h("")};N.useEffect(()=>{let L;if(b&&p>0)L=setInterval(()=>{v(Z=>Z-1)},1e3);else if(b&&p===0){const Z=parseFloat(o),lt=R();S(D,$,Z,lt),m(!1),y(!0),setTimeout(()=>{_()},2e3)}return()=>clearInterval(L)},[b,p]);const Ye=()=>{m(!0)};return t?x?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#1E293B] rounded-lg w-full max-w-md p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-[#22C55E] rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Oa,{size:32,className:"text-white"})}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Conversion Successful!"}),u.jsxs("p",{className:"text-gray-400",children:["Converted ",o," ",D," to ",T()," ",$]})]})}):b?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#1E293B] rounded-lg w-full max-w-md p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-[#2D3748] rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Fa,{size:32,className:"text-[#22C55E] animate-spin"})}),u.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Converting ",D," to ",$]}),u.jsxs("p",{className:"text-gray-400",children:["Please wait ",p," seconds while we process your conversion at the current market rate."]}),u.jsx("div",{className:"mt-4 h-2 bg-[#2D3748] rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-[#22C55E] transition-all duration-1000",style:{width:`${(5-p)/5*100}%`}})})]})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#1E293B] rounded-lg w-full max-w-md p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Convert"}),u.jsx("button",{onClick:_,className:"text-gray-400 hover:text-white",children:u.jsx(Qs,{size:24})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("label",{className:"text-sm text-gray-400",children:"From"}),u.jsxs("div",{className:"text-sm text-gray-400",children:["Balance: ",D==="USDT"?Q(he):he.toFixed(8)," ",D]})]}),u.jsxs("div",{className:"relative",ref:E,children:[u.jsx("div",{className:"bg-[#2D3748] p-3 rounded-lg flex items-center justify-between cursor-pointer",onClick:()=>d(!0),children:u.jsxs("div",{className:"flex items-center",children:[W?u.jsx("img",{src:W,alt:D,className:"w-8 h-8 rounded-full mr-3"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-[#22C55E] flex items-center justify-center text-white mr-3",children:D.substring(0,1)}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:D}),u.jsx("div",{className:"text-sm text-gray-400",children:z?Q(z.price):"-"})]})]})}),c&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#2D3748] rounded-lg shadow-lg z-10",children:u.jsx(Ro,{onSelect:X})})]}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx("input",{type:"number",value:o,onChange:L=>h(L.target.value),placeholder:"0.00",className:"w-full bg-[#2D3748] p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#22C55E]"}),u.jsx("button",{onClick:B,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-[#22C55E] hover:text-[#16A34A]",children:"MAX"})]}),u.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[" ",o&&z?Q(parseFloat(o)*z.price):"$0.00"]})]}),u.jsx("button",{className:"mx-auto block p-2 rounded-full bg-[#2D3748] hover:bg-[#374151] mb-4",onClick:()=>{const L=n;r(l),a(L),h("")},children:u.jsx($a,{className:"text-[#22C55E]"})}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("label",{className:"text-sm text-gray-400",children:"To"}),u.jsxs("div",{className:"text-sm text-gray-400",children:["Balance: ",$==="USDT"?Q(pe):pe.toFixed(8)," ",$]})]}),u.jsxs("div",{className:"relative",ref:C,children:[u.jsx("div",{className:"bg-[#2D3748] p-3 rounded-lg flex items-center justify-between cursor-pointer",onClick:()=>g(!0),children:u.jsxs("div",{className:"flex items-center",children:[ue?u.jsx("img",{src:ue,alt:$,className:"w-8 h-8 rounded-full mr-3"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-[#22C55E] flex items-center justify-center text-white mr-3",children:$.substring(0,1)}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:$}),u.jsx("div",{className:"text-sm text-gray-400",children:A?Q(A.price):"-"})]})]})}),f&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#2D3748] rounded-lg shadow-lg z-10",children:u.jsx(Ro,{onSelect:jt})})]}),u.jsxs("div",{className:"bg-[#2D3748] mt-2 p-3 rounded-lg",children:[u.jsx("div",{className:"text-lg",children:T()}),u.jsxs("div",{className:"text-sm text-gray-400",children:[" ",o&&A?Q(parseFloat(T())*A.price):"$0.00"]})]})]}),u.jsx("button",{className:"w-full bg-[#22C55E] hover:bg-[#16A34A] text-white py-3 rounded-lg font-medium transition-all duration-200",onClick:Ye,disabled:!o||parseFloat(o)<=0||parseFloat(o)>O(),children:!o||parseFloat(o)<=0?"Enter an amount":parseFloat(o)>O()?"Insufficient balance":"Convert Now"})]})}):null};var vv=Object.defineProperty,Sr=Object.getOwnPropertySymbols,_f=Object.prototype.hasOwnProperty,Mf=Object.prototype.propertyIsEnumerable,uh=(t,e,s)=>e in t?vv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Xi=(t,e)=>{for(var s in e||(e={}))_f.call(e,s)&&uh(t,s,e[s]);if(Sr)for(var s of Sr(e))Mf.call(e,s)&&uh(t,s,e[s]);return t},Aa=(t,e)=>{var s={};for(var i in t)_f.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&Sr)for(var i of Sr(t))e.indexOf(i)<0&&Mf.call(t,i)&&(s[i]=t[i]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var hs;(t=>{const e=class{constructor(o,h,c,d){if(this.version=o,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let f=[];for(let x=0;x<this.size;x++)f.push(!1);for(let x=0;x<this.size;x++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(c);if(this.drawCodewords(g),d==-1){let x=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const b=this.getPenaltyScore();b<x&&(d=y,x=b),this.applyMask(y)}}r(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(o,h){const c=t.QrSegment.makeSegments(o);return e.encodeSegments(c,h)}static encodeBinary(o,h){const c=t.QrSegment.makeBytes(o);return e.encodeSegments([c],h)}static encodeSegments(o,h,c=1,d=40,f=-1,g=!0){if(!(e.MIN_VERSION<=c&&c<=d&&d<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let x,y;for(x=c;;x++){const v=e.getNumDataCodewords(x,h)*8,w=a.getTotalBits(o,x);if(w<=v){y=w;break}if(x>=d)throw new RangeError("Data too long")}for(const v of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])g&&y<=e.getNumDataCodewords(x,v)*8&&(h=v);let b=[];for(const v of o){i(v.mode.modeBits,4,b),i(v.numChars,v.mode.numCharCountBits(x),b);for(const w of v.getData())b.push(w)}r(b.length==y);const m=e.getNumDataCodewords(x,h)*8;r(b.length<=m),i(0,Math.min(4,m-b.length),b),i(0,(8-b.length%8)%8,b),r(b.length%8==0);for(let v=236;b.length<m;v^=253)i(v,8,b);let p=[];for(;p.length*8<b.length;)p.push(0);return b.forEach((v,w)=>p[w>>>3]|=v<<7-(w&7)),new e(x,h,p,f)}getModule(o,h){return 0<=o&&o<this.size&&0<=h&&h<this.size&&this.modules[h][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),h=o.length;for(let c=0;c<h;c++)for(let d=0;d<h;d++)c==0&&d==0||c==0&&d==h-1||c==h-1&&d==0||this.drawAlignmentPattern(o[c],o[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const h=this.errorCorrectionLevel.formatBits<<3|o;let c=h;for(let f=0;f<10;f++)c=c<<1^(c>>>9)*1335;const d=(h<<10|c)^21522;r(d>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,n(d,f));this.setFunctionModule(8,7,n(d,6)),this.setFunctionModule(8,8,n(d,7)),this.setFunctionModule(7,8,n(d,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,n(d,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,n(d,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,n(d,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let c=0;c<12;c++)o=o<<1^(o>>>11)*7973;const h=this.version<<12|o;r(h>>>18==0);for(let c=0;c<18;c++){const d=n(h,c),f=this.size-11+c%3,g=Math.floor(c/3);this.setFunctionModule(f,g,d),this.setFunctionModule(g,f,d)}}drawFinderPattern(o,h){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){const f=Math.max(Math.abs(d),Math.abs(c)),g=o+d,x=h+c;0<=g&&g<this.size&&0<=x&&x<this.size&&this.setFunctionModule(g,x,f!=2&&f!=4)}}drawAlignmentPattern(o,h){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(o+d,h+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(o,h,c){this.modules[h][o]=c,this.isFunction[h][o]=!0}addEccAndInterleave(o){const h=this.version,c=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(h,c))throw new RangeError("Invalid argument");const d=e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][h],f=e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][h],g=Math.floor(e.getNumRawDataModules(h)/8),x=d-g%d,y=Math.floor(g/d);let b=[];const m=e.reedSolomonComputeDivisor(f);for(let v=0,w=0;v<d;v++){let S=o.slice(w,w+y-f+(v<x?0:1));w+=S.length;const E=e.reedSolomonComputeRemainder(S,m);v<x&&S.push(0),b.push(S.concat(E))}let p=[];for(let v=0;v<b[0].length;v++)b.forEach((w,S)=>{(v!=y-f||S>=x)&&p.push(w[v])});return r(p.length==g),p}drawCodewords(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let f=0;f<2;f++){const g=c-f,y=(c+1&2)==0?this.size-1-d:d;!this.isFunction[y][g]&&h<o.length*8&&(this.modules[y][g]=n(o[h>>>3],7-(h&7)),h++)}}r(h==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let c=0;c<this.size;c++){let d;switch(o){case 0:d=(c+h)%2==0;break;case 1:d=h%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+h)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(h/2))%2==0;break;case 5:d=c*h%2+c*h%3==0;break;case 6:d=(c*h%2+c*h%3)%2==0;break;case 7:d=((c+h)%2+c*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][c]&&d&&(this.modules[h][c]=!this.modules[h][c])}}getPenaltyScore(){let o=0;for(let f=0;f<this.size;f++){let g=!1,x=0,y=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[f][b]==g?(x++,x==5?o+=e.PENALTY_N1:x>5&&o++):(this.finderPenaltyAddHistory(x,y),g||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),g=this.modules[f][b],x=1);o+=this.finderPenaltyTerminateAndCount(g,x,y)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let g=!1,x=0,y=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][f]==g?(x++,x==5?o+=e.PENALTY_N1:x>5&&o++):(this.finderPenaltyAddHistory(x,y),g||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),g=this.modules[b][f],x=1);o+=this.finderPenaltyTerminateAndCount(g,x,y)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let g=0;g<this.size-1;g++){const x=this.modules[f][g];x==this.modules[f][g+1]&&x==this.modules[f+1][g]&&x==this.modules[f+1][g+1]&&(o+=e.PENALTY_N2)}let h=0;for(const f of this.modules)h=f.reduce((g,x)=>g+(x?1:0),h);const c=this.size*this.size,d=Math.ceil(Math.abs(h*20-c*10)/c)-1;return r(0<=d&&d<=9),o+=d*e.PENALTY_N4,r(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let c=[6];for(let d=this.size-7;c.length<o;d-=h)c.splice(1,0,d);return c}}static getNumRawDataModules(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*o+128)*o+64;if(o>=2){const c=Math.floor(o/7)+2;h-=(25*c-10)*c-55,o>=7&&(h-=36)}return r(208<=h&&h<=29648),h}static getNumDataCodewords(o,h){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[h.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let h=[];for(let d=0;d<o-1;d++)h.push(0);h.push(1);let c=1;for(let d=0;d<o;d++){for(let f=0;f<h.length;f++)h[f]=e.reedSolomonMultiply(h[f],c),f+1<h.length&&(h[f]^=h[f+1]);c=e.reedSolomonMultiply(c,2)}return h}static reedSolomonComputeRemainder(o,h){let c=h.map(d=>0);for(const d of o){const f=d^c.shift();c.push(0),h.forEach((g,x)=>c[x]^=e.reedSolomonMultiply(g,f))}return c}static reedSolomonMultiply(o,h){if(o>>>8||h>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(h>>>d&1)*o;return r(c>>>8==0),c}finderPenaltyCountPatterns(o){const h=o[1];r(h<=this.size*3);const c=h>0&&o[2]==h&&o[3]==h*3&&o[4]==h&&o[5]==h;return(c&&o[0]>=h*4&&o[6]>=h?1:0)+(c&&o[6]>=h*4&&o[0]>=h?1:0)}finderPenaltyTerminateAndCount(o,h,c){return o&&(this.finderPenaltyAddHistory(h,c),h=0),h+=this.size,this.finderPenaltyAddHistory(h,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(o,h){h[0]==0&&(o+=this.size),h.pop(),h.unshift(o)}};let s=e;s.MIN_VERSION=1,s.MAX_VERSION=40,s.PENALTY_N1=3,s.PENALTY_N2=3,s.PENALTY_N3=40,s.PENALTY_N4=10,s.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],s.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=s;function i(o,h,c){if(h<0||h>31||o>>>h)throw new RangeError("Value out of range");for(let d=h-1;d>=0;d--)c.push(o>>>d&1)}function n(o,h){return(o>>>h&1)!=0}function r(o){if(!o)throw new Error("Assertion error")}const l=class{constructor(o,h,c){if(this.mode=o,this.numChars=h,this.bitData=c,h<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(o){let h=[];for(const c of o)i(c,8,h);return new l(l.Mode.BYTE,o.length,h)}static makeNumeric(o){if(!l.isNumeric(o))throw new RangeError("String contains non-numeric characters");let h=[];for(let c=0;c<o.length;){const d=Math.min(o.length-c,3);i(parseInt(o.substr(c,d),10),d*3+1,h),c+=d}return new l(l.Mode.NUMERIC,o.length,h)}static makeAlphanumeric(o){if(!l.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],c;for(c=0;c+2<=o.length;c+=2){let d=l.ALPHANUMERIC_CHARSET.indexOf(o.charAt(c))*45;d+=l.ALPHANUMERIC_CHARSET.indexOf(o.charAt(c+1)),i(d,11,h)}return c<o.length&&i(l.ALPHANUMERIC_CHARSET.indexOf(o.charAt(c)),6,h),new l(l.Mode.ALPHANUMERIC,o.length,h)}static makeSegments(o){return o==""?[]:l.isNumeric(o)?[l.makeNumeric(o)]:l.isAlphanumeric(o)?[l.makeAlphanumeric(o)]:[l.makeBytes(l.toUtf8ByteArray(o))]}static makeEci(o){let h=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)i(o,8,h);else if(o<16384)i(2,2,h),i(o,14,h);else if(o<1e6)i(6,3,h),i(o,21,h);else throw new RangeError("ECI assignment value out of range");return new l(l.Mode.ECI,0,h)}static isNumeric(o){return l.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return l.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,h){let c=0;for(const d of o){const f=d.mode.numCharCountBits(h);if(d.numChars>=1<<f)return 1/0;c+=4+f+d.bitData.length}return c}static toUtf8ByteArray(o){o=encodeURI(o);let h=[];for(let c=0;c<o.length;c++)o.charAt(c)!="%"?h.push(o.charCodeAt(c)):(h.push(parseInt(o.substr(c+1,2),16)),c+=2);return h}};let a=l;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(hs||(hs={}));(t=>{(e=>{const s=class{constructor(n,r){this.ordinal=n,this.formatBits=r}};let i=s;i.LOW=new s(0,1),i.MEDIUM=new s(1,0),i.QUARTILE=new s(2,3),i.HIGH=new s(3,2),e.Ecc=i})(t.QrCode||(t.QrCode={}))})(hs||(hs={}));(t=>{(e=>{const s=class{constructor(n,r){this.modeBits=n,this.numBitsCharCount=r}numCharCountBits(n){return this.numBitsCharCount[Math.floor((n+7)/17)]}};let i=s;i.NUMERIC=new s(1,[10,12,14]),i.ALPHANUMERIC=new s(2,[9,11,13]),i.BYTE=new s(4,[8,16,16]),i.KANJI=new s(8,[8,10,12]),i.ECI=new s(7,[0,0,0]),e.Mode=i})(t.QrSegment||(t.QrSegment={}))})(hs||(hs={}));var zs=hs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Tf={L:zs.QrCode.Ecc.LOW,M:zs.QrCode.Ecc.MEDIUM,Q:zs.QrCode.Ecc.QUARTILE,H:zs.QrCode.Ecc.HIGH},zf=128,Pf="L",Lf="#FFFFFF",Df="#000000",Rf=!1,Ba=4,gv=.1;function $f(t,e=0){const s=[];return t.forEach(function(i,n){let r=null;i.forEach(function(l,a){if(!l&&r!==null){s.push(`M${r+e} ${n+e}h${a-r}v1H${r+e}z`),r=null;return}if(a===i.length-1){if(!l)return;r===null?s.push(`M${a+e},${n+e} h1v1H${a+e}z`):s.push(`M${r+e},${n+e} h${a+1-r}v1H${r+e}z`);return}l&&r===null&&(r=a)})}),s.join("")}function Of(t,e){return t.slice().map((s,i)=>i<e.y||i>=e.y+e.h?s:s.map((n,r)=>r<e.x||r>=e.x+e.w?n:!1))}function Ff(t,e,s,i){if(i==null)return null;const n=s?Ba:0,r=t.length+n*2,l=Math.floor(e*gv),a=r/e,o=(i.width||l)*a,h=(i.height||l)*a,c=i.x==null?t.length/2-o/2:i.x*a,d=i.y==null?t.length/2-h/2:i.y*a;let f=null;if(i.excavate){let g=Math.floor(c),x=Math.floor(d),y=Math.ceil(o+c-g),b=Math.ceil(h+d-x);f={x:g,y:x,w:y,h:b}}return{x:c,y:d,h,w:o,excavation:f}}var xv=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function yv(t){const e=t,{value:s,size:i=zf,level:n=Pf,bgColor:r=Lf,fgColor:l=Df,includeMargin:a=Rf,style:o,imageSettings:h}=e,c=Aa(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=h==null?void 0:h.src,f=re.useRef(null),g=re.useRef(null),[x,y]=re.useState(!1);re.useEffect(()=>{if(f.current!=null){const p=f.current,v=p.getContext("2d");if(!v)return;let w=zs.QrCode.encodeText(s,Tf[n]).getModules();const S=a?Ba:0,E=w.length+S*2,C=Ff(w,i,a,h),_=g.current,F=C!=null&&_!==null&&_.complete&&_.naturalHeight!==0&&_.naturalWidth!==0;F&&C.excavation!=null&&(w=Of(w,C.excavation));const z=window.devicePixelRatio||1;p.height=p.width=i*z;const A=i/E*z;v.scale(A,A),v.fillStyle=r,v.fillRect(0,0,E,E),v.fillStyle=l,xv?v.fill(new Path2D($f(w,S))):w.forEach(function(D,$){D.forEach(function(W,ue){W&&v.fillRect(ue+S,$+S,1,1)})}),F&&v.drawImage(_,C.x+S,C.y+S,C.w,C.h)}}),re.useEffect(()=>{y(!1)},[d]);const b=Xi({height:i,width:i},o);let m=null;return d!=null&&(m=re.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{y(!0)},ref:g})),re.createElement(re.Fragment,null,re.createElement("canvas",Xi({style:b,height:i,width:i,ref:f},c)),m)}function wv(t){const e=t,{value:s,size:i=zf,level:n=Pf,bgColor:r=Lf,fgColor:l=Df,includeMargin:a=Rf,imageSettings:o}=e,h=Aa(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let c=zs.QrCode.encodeText(s,Tf[n]).getModules();const d=a?Ba:0,f=c.length+d*2,g=Ff(c,i,a,o);let x=null;o!=null&&g!=null&&(g.excavation!=null&&(c=Of(c,g.excavation)),x=re.createElement("image",{xlinkHref:o.src,height:g.h,width:g.w,x:g.x+d,y:g.y+d,preserveAspectRatio:"none"}));const y=$f(c,d);return re.createElement("svg",Xi({height:i,width:i,viewBox:`0 0 ${f} ${f}`},h),re.createElement("path",{fill:r,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),re.createElement("path",{fill:l,d:y,shapeRendering:"crispEdges"}),x)}var Af=t=>{const e=t,{renderAs:s}=e,i=Aa(e,["renderAs"]);return s==="svg"?re.createElement(wv,Xi({},i)):re.createElement(yv,Xi({},i))};const bv=({activeTab:t,onTabChange:e})=>{const{theme:s,toggleTheme:i}=wf(),{user:n,logout:r}=Ir(),{tokenBalances:l}=rn(),[a,o]=N.useState(!1),[h,c]=N.useState("login"),[d,f]=N.useState(!1),[g,x]=N.useState(!1),[y,b]=N.useState([]),[m,p]=N.useState(!1),[v,w]=N.useState(!1),[S,E]=N.useState("English"),C=[{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"fr",name:"Franais"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"ko",name:""},{code:"zh",name:""}];re.useEffect(()=>{const A=Gt.onPriceUpdate(D=>{b(D)});return()=>A()},[]);const _=()=>{r()},F=()=>{f(!1),e("futures")},z=()=>{f(!1),x(!0)};return u.jsxs("header",{className:"bg-[#0F172A] text-white py-4 px-6 flex items-center justify-between border-b border-gray-800 relative",children:[u.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[u.jsxs("button",{onClick:()=>e("home"),className:"flex items-center space-x-1 md:space-x-2 hover:bg-[#1E293B] p-1 md:p-2 rounded-lg transition-colors",children:[u.jsx(pv,{className:"w-6 h-6 md:w-8 md:h-8 text-[#22C55E]"}),u.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"TX"})]}),u.jsxs("div",{className:"relative hidden md:block",children:[u.jsxs("button",{onClick:()=>f(!d),className:"flex items-center space-x-2 bg-[#1E293B] hover:bg-[#2D3748] px-4 py-2 rounded-lg transition-colors",children:[u.jsx("span",{className:"text-sm font-medium",children:"Features"}),u.jsx(br,{size:16,className:`transition-transform ${d?"rotate-180":""}`})]}),d&&u.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-[#1E293B] rounded-lg shadow-lg border border-gray-700 z-50",children:u.jsxs("div",{className:"py-2",children:[u.jsxs("button",{onClick:F,className:"w-full flex items-center space-x-3 px-4 py-3 hover:bg-[#2D3748] transition-colors text-left",children:[u.jsx(fv,{size:18,className:"text-[#22C55E]"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Perpetual"}),u.jsx("div",{className:"text-xs text-gray-400",children:"Trade with leverage"})]})]}),u.jsxs("button",{onClick:z,className:"w-full flex items-center space-x-3 px-4 py-3 hover:bg-[#2D3748] transition-colors text-left",children:[u.jsx($a,{size:18,className:"text-[#3B82F6]"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Convert"}),u.jsx("div",{className:"text-xs text-gray-400",children:"Exchange tokens"})]})]})]})})]}),u.jsxs("nav",{className:"flex items-center space-x-1 overflow-x-auto",children:[u.jsxs("button",{onClick:()=>e("markets"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${t==="markets"?"bg-[#22C55E] text-white":"hover:bg-[#1E293B] text-gray-300"}`,children:[u.jsx(ev,{size:14,className:"md:w-4 md:h-4"}),u.jsx("span",{className:"text-xs md:text-sm font-medium hidden sm:inline",children:"Markets"})]}),u.jsxs("button",{onClick:()=>e("portfolio"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${t==="portfolio"?"bg-[#22C55E] text-white":"hover:bg-[#1E293B] text-gray-300"}`,children:[u.jsx(mv,{size:14,className:"md:w-4 md:h-4"}),u.jsx("span",{className:"text-xs md:text-sm font-medium hidden sm:inline",children:"Assets"})]}),u.jsxs("button",{onClick:()=>e("support"),className:`flex items-center space-x-2 px-2 md:px-4 py-2 rounded-lg transition-colors ${t==="support"?"bg-[#22C55E] text-white":"hover:bg-[#1E293B] text-gray-300"}`,children:[u.jsx(Ef,{size:14,className:"md:w-4 md:h-4"}),u.jsx("span",{className:"text-xs md:text-sm font-medium hidden lg:inline",children:"Support"})]}),u.jsxs("button",{onClick:()=>e("announcements"),className:`flex items-center space-x-2 px-2 md:px-4 py-2 rounded-lg transition-colors ${t==="announcements"?"bg-[#22C55E] text-white":"hover:bg-[#1E293B] text-gray-300"}`,children:[u.jsx(Cf,{size:14,className:"md:w-4 md:h-4"}),u.jsx("span",{className:"text-xs md:text-sm font-medium hidden lg:inline",children:"News"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[u.jsxs("div",{className:"relative hidden md:block",children:[u.jsxs("button",{onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[u.jsx(nv,{size:18}),u.jsx("span",{className:"text-sm",children:"Download"})]}),m&&u.jsx("div",{className:"absolute top-full right-0 mt-2 bg-[#1E293B] rounded-lg shadow-lg border border-gray-700 p-4 z-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mb-2",children:u.jsx(Af,{value:"https://cryptox.exchange/download",size:120,level:"H",className:"mx-auto"})}),u.jsx("p",{className:"text-xs text-gray-400",children:"Scan to download mobile app"})]})})]}),n&&n.email!=="demo@cryptox.com"?u.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[u.jsxs("span",{className:"text-xs md:text-sm text-gray-400 hidden sm:inline",children:["Welcome, ",n.email]}),u.jsxs("button",{onClick:_,className:"flex items-center space-x-1 md:space-x-2 bg-[#2D3748] hover:bg-[#374151] px-2 md:px-4 py-2 rounded-lg",children:[u.jsx(av,{size:14,className:"md:w-4 md:h-4"}),u.jsx("span",{className:"text-xs md:text-sm hidden sm:inline",children:"Logout"})]})]}):u.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[u.jsx("button",{className:"bg-[#2D3748] hover:bg-[#374151] text-white px-2 md:px-4 py-2 rounded-lg transition-all duration-200 text-xs md:text-sm",onClick:()=>{c("login"),o(!0)},children:"Login"}),u.jsx("button",{className:"bg-[#22C55E] hover:bg-[#16A34A] text-white px-2 md:px-4 py-2 rounded-lg transition-all duration-200 text-xs md:text-sm",onClick:()=>{c("register"),o(!0)},children:"Register"})]}),u.jsxs("div",{className:"relative hidden lg:block",children:[u.jsxs("button",{onClick:()=>w(!v),className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[u.jsx(ov,{size:18}),u.jsx("span",{className:"text-sm",children:S}),u.jsx(br,{size:14,className:`transition-transform ${v?"rotate-180":""}`})]}),v&&u.jsx("div",{className:"absolute top-full right-0 mt-2 w-40 bg-[#1E293B] rounded-lg shadow-lg border border-gray-700 z-50 max-h-60 overflow-y-auto",children:u.jsx("div",{className:"py-2",children:C.map(A=>u.jsx("button",{onClick:()=>{E(A.name),w(!1)},className:`w-full px-4 py-2 text-left hover:bg-[#2D3748] transition-colors text-sm ${S===A.name?"text-[#22C55E]":"text-gray-300"}`,children:A.name},A.code))})})]}),u.jsx("button",{onClick:i,className:"p-1 md:p-1.5 rounded-full hover:bg-gray-800 transition-colors",children:s==="dark"?u.jsx(dv,{size:16,className:"md:w-5 md:h-5"}):u.jsx(hv,{size:16,className:"md:w-5 md:h-5"})})]}),u.jsx(jf,{isOpen:a,onClose:()=>o(!1),initialMode:h}),u.jsx(kf,{isOpen:g,onClose:()=>x(!1),prices:y,tokenBalances:l}),d&&u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),v&&u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>w(!1)})]})},Sv=({onNavigateToFutures:t})=>{const[e,s]=re.useState([]),{setSelectedToken:i}=ei();re.useEffect(()=>{const a=Gt.onPriceUpdate(o=>{s(o)});return()=>a()},[]);const n=e.sort((a,o)=>o.price*o.volume-a.price*a.volume),r=a=>a.replace("USDT",""),l=a=>{i(a),t&&t()};return u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("div",{className:"relative w-full h-48 overflow-hidden",children:[u.jsx("img",{src:"https://images.pexels.com/photos/7788009/pexels-photo-7788009.jpeg",alt:"Trading Banner",className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-[#0F172A]"}),u.jsxs("div",{className:"absolute bottom-4 left-4 right-4 text-white",children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"EVEX"}),u.jsx("p",{className:"text-sm text-gray-300",children:"A CRYPTO FINANCIAL INFRASTRUCTURE BUILT FOR PROFESSIONAL INVESTORS"})]})]}),u.jsxs("div",{className:"px-2 md:px-4 py-2",children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:n.filter(a=>["BTCUSDT","ETHUSDT","SOLUSDT"].includes(a.symbol)).map(a=>{const o=r(a.symbol),h=Ne[o],c=a.priceChange>=0,f=(()=>{const x=[];let y=50;for(let b=0;b<20;b++)y+=(Math.random()-.5)*10,y=Math.max(10,Math.min(90,y)),x.push(y);return x})(),g=f.map((x,y)=>`${y===0?"M":"L"} ${y/(f.length-1)*60} ${60-x/100*40}`).join(" ");return u.jsxs("div",{className:`p-3 md:p-4 rounded-lg transition-colors relative overflow-hidden ${c?"bg-gradient-to-br from-[#22C55E] to-[#16A34A] bg-opacity-90":"bg-gradient-to-br from-[#EF4444] to-[#DC2626] bg-opacity-90"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-full opacity-20",children:u.jsx("svg",{width:"60",height:"60",className:"w-full h-full",children:u.jsx("path",{d:g,stroke:"currentColor",strokeWidth:"1.5",fill:"none",className:"text-white"})})}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[h?u.jsx("img",{src:h,alt:o,className:"w-6 h-6 md:w-8 md:h-8 rounded-full mr-2"}):u.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-white bg-opacity-20 flex items-center justify-center text-white text-xs md:text-sm font-bold mr-2",children:o.substring(0,1)}),u.jsx("div",{children:u.jsxs("div",{className:"text-white font-semibold text-xs md:text-sm",children:[o,"USDT"]})})]}),u.jsxs("div",{className:"text-white text-xs md:text-sm font-medium",children:[c?"+":"",a.priceChange.toFixed(2),"%"]})]}),u.jsx("div",{className:"text-white",children:u.jsx("div",{className:"text-sm md:text-lg font-bold",children:a.price<1?a.price.toFixed(6):a.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})})]})]},a.symbol)})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6",children:n.filter(a=>["TRXUSDT","XRPUSDT"].includes(a.symbol)).map(a=>{const o=r(a.symbol),h=Ne[o],c=a.priceChange>=0,f=(()=>{const x=[];let y=50;for(let b=0;b<20;b++)y+=(Math.random()-.5)*10,y=Math.max(10,Math.min(90,y)),x.push(y);return x})(),g=f.map((x,y)=>`${y===0?"M":"L"} ${y/(f.length-1)*60} ${60-x/100*40}`).join(" ");return u.jsxs("div",{className:`p-3 md:p-4 rounded-lg transition-colors relative overflow-hidden ${c?"bg-gradient-to-br from-[#22C55E] to-[#16A34A] bg-opacity-90":"bg-gradient-to-br from-[#EF4444] to-[#DC2626] bg-opacity-90"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-full opacity-20",children:u.jsx("svg",{width:"60",height:"60",className:"w-full h-full",children:u.jsx("path",{d:g,stroke:"currentColor",strokeWidth:"1.5",fill:"none",className:"text-white"})})}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[h?u.jsx("img",{src:h,alt:o,className:"w-6 h-6 md:w-8 md:h-8 rounded-full mr-2"}):u.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-white bg-opacity-20 flex items-center justify-center text-white text-xs md:text-sm font-bold mr-2",children:o.substring(0,1)}),u.jsx("div",{children:u.jsxs("div",{className:"text-white font-semibold text-xs md:text-sm",children:[o,"USDT"]})})]}),u.jsxs("div",{className:"text-white text-xs md:text-sm font-medium",children:[c?"+":"",a.priceChange.toFixed(2),"%"]})]}),u.jsx("div",{className:"text-white",children:u.jsx("div",{className:"text-sm md:text-lg font-bold",children:a.price<1?a.price.toFixed(6):a.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})})]})]},a.symbol)})}),u.jsx("div",{className:"hidden",children:n.slice(0,3).map(a=>{const o=r(a.symbol),h=Ne[o],c=a.priceChange>=0;return u.jsxs("div",{className:`p-3 rounded-lg transition-colors ${c?"bg-[#22C55E] bg-opacity-10 border border-[#22C55E] border-opacity-20":"bg-[#EF4444] bg-opacity-10 border border-[#EF4444] border-opacity-20"}`,children:[u.jsxs("div",{className:"flex items-center mb-1",children:[h?u.jsx("img",{src:h,alt:o,className:"w-6 h-6 rounded-full mr-2"}):u.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-xs mr-2",children:o.substring(0,1)}),u.jsx("div",{className:"text-sm font-medium",children:o})]}),u.jsx("div",{className:`text-xs ${c?"text-[#22C55E]":"text-[#EF4444]"}`,children:Do(a.priceChange)}),u.jsx("div",{className:"font-mono text-sm mt-1",children:Q(a.price)})]},a.symbol)})}),u.jsxs("div",{className:"bg-[#1E293B] rounded-lg overflow-hidden",children:[u.jsx("div",{className:"p-3 border-b border-gray-700",children:u.jsx("h2",{className:"font-medium",children:"Hot Markets"})}),u.jsx("div",{className:"divide-y divide-gray-700",children:n.map(a=>{const o=r(a.symbol),h=Ne[o];return u.jsxs("div",{className:"flex items-center justify-between p-3",children:[u.jsxs("div",{className:"flex items-center",children:[h?u.jsx("img",{src:h,alt:o,className:"w-8 h-8 rounded-full mr-3"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-lg mr-3",children:o.substring(0,1)}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:o}),u.jsx("div",{className:`text-sm ${a.priceChange>0?"text-[#22C55E]":"text-[#EF4444]"}`,children:Do(a.priceChange)})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-mono",children:Q(a.price)}),u.jsx("button",{onClick:()=>l(a.symbol),className:"mt-1 bg-[#22C55E] hover:bg-[#16A34A] text-white px-2 md:px-3 py-1 rounded text-xs md:text-sm",children:"Trade"})]})]},a.symbol)})})]})]})]})};function J(t){var e=t.width,s=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(s<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:s}}function ns(t,e){return t.width===e.width&&t.height===e.height}var Nv=function(){function t(e){var s=this;this._resolutionListener=function(){return s._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var s=this,i={next:e};return this._observers.push(i),{unsubscribe:function(){s._observers=s._observers.filter(function(n){return n!==i})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(s){return s.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function Cv(t){return new Nv(t)}var Ev=function(){function t(e,s,i){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=J({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=s??function(r){return r},this._allowResizeObserver=(n=i==null?void 0:i.allowResizeObserver)!==null&&n!==void 0?n:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,s;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(s=this._devicePixelRatioObservable)===null||s===void 0||s.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return J({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=J(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(s){return s!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(s){return s!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var s=this.bitmapSize;ns(s,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(s,e))},t.prototype._emitBitmapSizeChanged=function(e,s){var i=this;this._bitmapSizeChangedListeners.forEach(function(n){return n.call(i,e,s)})},t.prototype._suggestNewBitmapSize=function(e){var s=this._suggestedBitmapSize,i=J(this._transformBitmapSize(e,this._canvasElementClientSize)),n=ns(this.bitmapSize,i)?null:i;s===null&&n===null||s!==null&&n!==null&&ns(s,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(s,n))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,s){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(n){return n.call(i,e,s)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}kv().then(function(s){return s?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var s=hh(this._canvasElement);if(s===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Cv(s),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,s;if(this._canvasElement!==null){var i=hh(this._canvasElement);if(i!==null){var n=(s=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&s!==void 0?s:i.devicePixelRatio,r=this._canvasElement.getClientRects(),l=r[0]!==void 0?_v(r[0],n):J({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(l)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(s){var i=s.find(function(l){return l.target===e._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var n=i.devicePixelContentBoxSize[0],r=J({width:n.inlineSize,height:n.blockSize});e._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function jv(t,e){if(e.type==="device-pixel-content-box")return new Ev(t,e.transform,e.options);throw new Error("Unsupported binding target")}function hh(t){return t.ownerDocument.defaultView}function kv(){return new Promise(function(t){var e=new ResizeObserver(function(s){t(s.every(function(i){return"devicePixelContentBoxSize"in i})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function _v(t,e){return J({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var Mv=function(){function t(e,s,i){if(s.width===0||s.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=s,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function cs(t,e){var s=t.canvasElementClientSize;if(s.width===0||s.height===0)return null;var i=t.bitmapSize;if(i.width===0||i.height===0)return null;var n=t.canvasElement.getContext("2d",e);return n===null?null:new Mv(n,s,i)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Tv={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},zv={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Pv={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Lv={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Dv={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Rv={color:"#26a69a",base:0},Bf={color:"#2196f3"},If={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var ch,dh;function ds(t,e){const s={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(s)}function Uf(t,e,s,i){t.beginPath();const n=t.lineWidth%2?.5:0;t.moveTo(s,e+n),t.lineTo(i,e+n),t.stroke()}function Ht(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function _e(t){if(t===void 0)throw new Error("Value is undefined");return t}function j(t){if(t===null)throw new Error("Value is null");return t}function Ps(t){return j(_e(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(ch||(ch={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(dh||(dh={}));const fh={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Ve(t){return t<0?0:t>255?255:Math.round(t)||0}function Vf(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const $v=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,Ov=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,Fv=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Av=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Qi(t){(t=t.toLowerCase())in fh&&(t=fh[t]);{const e=Av.exec(t)||Fv.exec(t);if(e)return[Ve(parseInt(e[1],10)),Ve(parseInt(e[2],10)),Ve(parseInt(e[3],10)),Vf(e.length<5?1:parseFloat(e[4]))]}{const e=Ov.exec(t);if(e)return[Ve(parseInt(e[1],16)),Ve(parseInt(e[2],16)),Ve(parseInt(e[3],16)),1]}{const e=$v.exec(t);if(e)return[Ve(17*parseInt(e[1],16)),Ve(17*parseInt(e[2],16)),Ve(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function Wf(t){return .199*t[0]+.687*t[1]+.114*t[2]}function Vr(t){const e=Qi(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:Wf(e)>160?"black":"white"}}class oe{constructor(){this.h=[]}l(e,s,i){const n={o:e,_:s,u:i===!0};this.h.push(n)}v(e){const s=this.h.findIndex(i=>e===i.o);s>-1&&this.h.splice(s,1)}p(e){this.h=this.h.filter(s=>s._!==e)}m(e,s,i){const n=[...this.h];this.h=this.h.filter(r=>!r.u),n.forEach(r=>r.o(e,s,i))}M(){return this.h.length>0}S(){this.h=[]}}function nt(t,...e){for(const s of e)for(const i in s)s[i]!==void 0&&Object.prototype.hasOwnProperty.call(s,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof s[i]!="object"||t[i]===void 0||Array.isArray(s[i])?t[i]=s[i]:nt(t[i],s[i]));return t}function ct(t){return typeof t=="number"&&isFinite(t)}function Gi(t){return typeof t=="number"&&t%1==0}function ln(t){return typeof t=="string"}function kn(t){return typeof t=="boolean"}function xt(t){const e=t;if(!e||typeof e!="object")return e;let s,i,n;for(i in s=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(n=e[i],s[i]=n&&typeof n=="object"?xt(n):n);return s}function Bv(t){return t!==null}function Yi(t){return t===null?void 0:t}const Ia="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Gs(t,e,s){return e===void 0&&(e=Ia),`${s=s!==void 0?`${s} `:""}${t}px ${e}`}class Iv{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,s=this.j(),i=this.H();return e.P===s&&e.D===i||(e.P=s,e.D=i,e.R=Gs(s,i),e.L=2.5/12*s,e.B=e.L,e.A=s/12*e.T,e.I=s/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Ua{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,s,i){this.Y.forEach(n=>{n.X(e,s,i)})}}class rt{X(e,s,i){e.useBitmapCoordinateSpace(n=>this.K(n,s,i))}}class Uv extends rt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.G===null||this.G.tt===null)return;const n=this.G.tt,r=this.G,l=Math.max(1,Math.floor(s))%2/2,a=o=>{e.beginPath();for(let h=n.to-1;h>=n.from;--h){const c=r.it[h],d=Math.round(c.nt*s)+l,f=c.st*i,g=o*i+l;e.moveTo(d,f),e.arc(d,f,g,0,2*Math.PI)}e.fill()};r.et>0&&(e.fillStyle=r.rt,a(r.ht+r.et)),e.fillStyle=r.lt,a(r.ht)}}function Vv(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const Wv={from:0,to:1};class Hv{constructor(e,s){this.ut=new Ua,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=s,this.ut.Z(this.ct)}bt(e){const s=this.F.wt();s.length!==this.ct.length&&(this.dt=s.map(Vv),this.ct=this.dt.map(i=>{const n=new Uv;return n.J(i),n}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,s=this.F.wt(),i=this.vt.xt(),n=this.F.St();s.forEach((r,l)=>{var a;const o=this.dt[l],h=r.kt(i);if(e||h===null||!r.yt())return void(o.tt=null);const c=j(r.Ct());o.lt=h.Tt,o.ht=h.ht,o.et=h.Pt,o.it[0]._t=h._t,o.it[0].st=r.Dt().Rt(h._t,c.Vt),o.rt=(a=h.Ot)!==null&&a!==void 0?a:this.F.Bt(o.it[0].st/r.Dt().At()),o.it[0].ot=i,o.it[0].nt=n.It(i),o.tt=Wv})}}class Kv extends rt{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.zt===null)return;const r=this.zt.Lt.yt,l=this.zt.Et.yt;if(!r&&!l)return;const a=Math.round(this.zt.nt*i),o=Math.round(this.zt.st*n);e.lineCap="butt",r&&a>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*i),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,ds(e,this.zt.Lt.Nt),function(h,c,d,f){h.beginPath();const g=h.lineWidth%2?.5:0;h.moveTo(c+g,d),h.lineTo(c+g,f),h.stroke()}(e,a,0,s.height)),l&&o>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*n),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,ds(e,this.zt.Et.Nt),Uf(e,o,0,s.width))}}class Xv{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new Kv(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),s=j(this.jt.Ht()),i=s.$t().W().crosshair,n=this.Ft;if(i.mode===2)return n.Et.yt=!1,void(n.Lt.yt=!1);n.Et.yt=e&&this.jt.Ut(s),n.Lt.yt=e&&this.jt.qt(),n.Et.et=i.horzLine.width,n.Et.Nt=i.horzLine.style,n.Et.V=i.horzLine.color,n.Lt.et=i.vertLine.width,n.Lt.Nt=i.vertLine.style,n.Lt.V=i.vertLine.color,n.nt=this.jt.Yt(),n.st=this.jt.Zt()}}function Qv(t,e,s,i,n,r){t.fillRect(e+r,s,i-2*r,r),t.fillRect(e+r,s+n-r,i-2*r,r),t.fillRect(e,s,r,n),t.fillRect(e+i-r,s,r,n)}function Wr(t,e,s,i,n,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,s,i,n),t.restore()}function mh(t,e,s,i,n,r){t.beginPath(),t.roundRect?t.roundRect(e,s,i,n,r):(t.lineTo(e+i-r[1],s),r[1]!==0&&t.arcTo(e+i,s,e+i,s+r[1],r[1]),t.lineTo(e+i,s+n-r[2]),r[2]!==0&&t.arcTo(e+i,s+n,e+i-r[2],s+n,r[2]),t.lineTo(e+r[3],s+n),r[3]!==0&&t.arcTo(e,s+n,e,s+n-r[3],r[3]),t.lineTo(e,s+r[0]),r[0]!==0&&t.arcTo(e,s,e+r[0],s,r[0]))}function ph(t,e,s,i,n,r,l=0,a=[0,0,0,0],o=""){if(t.save(),!l||!o||o===r)return mh(t,e,s,i,n,a),t.fillStyle=r,t.fill(),void t.restore();const h=l/2;var c;mh(t,e+h,s+h,i-l,n-l,(c=-h,a.map(d=>d===0?d:d+c))),r!=="transparent"&&(t.fillStyle=r,t.fill()),o!=="transparent"&&(t.lineWidth=l,t.strokeStyle=o,t.closePath(),t.stroke()),t.restore()}function Hf(t,e,s,i,n,r,l){t.save(),t.globalCompositeOperation="copy";const a=t.createLinearGradient(0,0,0,n);a.addColorStop(0,r),a.addColorStop(1,l),t.fillStyle=a,t.fillRect(e,s,i,n),t.restore()}class vh{constructor(e,s){this.J(e,s)}J(e,s){this.zt=e,this.Xt=s}At(e,s){return this.zt.yt?e.P+e.L+e.B:0}X(e,s,i,n){if(!this.zt.yt||this.zt.Kt.length===0)return;const r=this.zt.V,l=this.Xt.t,a=e.useBitmapCoordinateSpace(o=>{const h=o.context;h.font=s.R;const c=this.Gt(o,s,i,n),d=c.Jt;return c.Qt?ph(h,d.ti,d.ii,d.ni,d.si,l,d.ei,[d.ht,0,0,d.ht],l):ph(h,d.ri,d.ii,d.ni,d.si,l,d.ei,[0,d.ht,d.ht,0],l),this.zt.hi&&(h.fillStyle=r,h.fillRect(d.ri,d.li,d.ai-d.ri,d.oi)),this.zt._i&&(h.fillStyle=s.O,h.fillRect(c.Qt?d.ui-d.ei:0,d.ii,d.ei,d.ci-d.ii)),c});e.useMediaCoordinateSpace(({context:o})=>{const h=a.di;o.font=s.R,o.textAlign=a.Qt?"right":"left",o.textBaseline="middle",o.fillStyle=r,o.fillText(this.zt.Kt,h.fi,(h.ii+h.ci)/2+h.pi)})}Gt(e,s,i,n){var r;const{context:l,bitmapSize:a,mediaSize:o,horizontalPixelRatio:h,verticalPixelRatio:c}=e,d=this.zt.hi||!this.zt.mi?s.T:0,f=this.zt.bi?s.C:0,g=s.L+this.Xt.wi,x=s.B+this.Xt.gi,y=s.A,b=s.I,m=this.zt.Kt,p=s.P,v=i.Mi(l,m),w=Math.ceil(i.xi(l,m)),S=p+g+x,E=s.C+y+b+w+d,C=Math.max(1,Math.floor(c));let _=Math.round(S*c);_%2!=C%2&&(_+=1);const F=f>0?Math.max(1,Math.floor(f*h)):0,z=Math.round(E*h),A=Math.round(d*h),D=(r=this.Xt.Si)!==null&&r!==void 0?r:this.Xt.ki,$=Math.round(D*c)-Math.floor(.5*c),W=Math.floor($+C/2-_/2),ue=W+_,he=n==="right",pe=he?o.width-f:f,T=he?a.width-F:F;let R,O,B;return he?(R=T-z,O=T-A,B=pe-d-y-f):(R=T+z,O=T+A,B=pe+d+y),{Qt:he,Jt:{ii:W,li:$,ci:ue,ni:z,si:_,ht:2*h,ei:F,ti:R,ri:T,ai:O,oi:C,ui:a.width},di:{ii:W/c,ci:ue/c,fi:B,pi:v}}}}class Hr{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||vh)(this.Ci,this.yi),this.Ri=new(e||vh)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,s=!1){return Math.max(this.Pi.At(e,s),this.Ri.At(e,s))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class Gv extends Hr{constructor(e,s,i){super(),this.jt=e,this.Li=s,this.Ei=i}zi(e,s,i){if(e.yt=!1,this.jt.W().mode===2)return;const n=this.jt.W().horzLine;if(!n.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||r===null)return;const l=Vr(n.labelBackgroundColor);i.t=l.t,e.V=l.i;const a=2/12*this.Li.P();i.wi=a,i.gi=a;const o=this.Ei(this.Li);i.ki=o.ki,e.Kt=this.Li.Fi(o._t,r),e.yt=!0}}const Yv=/[1-9]/g;class Kf{constructor(){this.zt=null}J(e){this.zt=e}X(e,s){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const i=e.useMediaCoordinateSpace(({context:f})=>(f.font=s.R,Math.round(s.Wi.xi(f,j(this.zt).Kt,Yv))));if(i<=0)return;const n=s.ji,r=i+2*n,l=r/2,a=this.zt.Hi;let o=this.zt.ki,h=Math.floor(o-l)+.5;h<0?(o+=Math.abs(0-h),h=Math.floor(o-l)+.5):h+r>a&&(o-=Math.abs(a-(h+r)),h=Math.floor(o-l)+.5);const c=h+r,d=Math.ceil(0+s.C+s.T+s.L+s.P+s.B);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:g,verticalPixelRatio:x})=>{const y=j(this.zt);f.fillStyle=y.t;const b=Math.round(h*g),m=Math.round(0*x),p=Math.round(c*g),v=Math.round(d*x),w=Math.round(2*g);if(f.beginPath(),f.moveTo(b,m),f.lineTo(b,v-w),f.arcTo(b,v,b+w,v,w),f.lineTo(p-w,v),f.arcTo(p,v,p,v-w,w),f.lineTo(p,m),f.fill(),y.hi){const S=Math.round(y.ki*g),E=m,C=Math.round((E+s.T)*x);f.fillStyle=y.V;const _=Math.max(1,Math.floor(g)),F=Math.floor(.5*g);f.fillRect(S-F,E,_,C-E)}}),e.useMediaCoordinateSpace(({context:f})=>{const g=j(this.zt),x=0+s.C+s.T+s.L+s.P/2;f.font=s.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=g.V;const y=s.Wi.Mi(f,"Apr0");f.translate(h+n,x+y),f.fillText(g.Kt,0,0)})}}class Jv{constructor(e,s,i){this.ft=!0,this.Wt=new Kf,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=s,this.Ei=i}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const s=this.vt.W().vertLine;if(!s.labelVisible)return;const i=this.$i.St();if(i.Ni())return;e.Hi=i.Hi();const n=this.Ei();if(n===null)return;e.ki=n.ki;const r=i.Ui(this.vt.xt());e.Kt=i.qi(j(r)),e.yt=!0;const l=Vr(s.labelBackgroundColor);e.t=l.t,e.V=l.i,e.hi=i.W().ticksVisible}}class Va{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var gh;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(gh||(gh={}));class qv extends Va{constructor(e,s){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=s,this.dn=new Hv(e,this),this.fn=((n,r)=>l=>{const a=r(),o=n();if(l===j(this.tn).vn())return{_t:o,ki:a};{const h=j(l.Ct());return{_t:l.pn(a,h),ki:a}}})(()=>this.nn,()=>this.an);const i=((n,r)=>()=>{const l=this.$i.St().mn(n()),a=r();return l&&Number.isFinite(a)?{ot:l,ki:a}:null})(()=>this.sn,()=>this.Yt());this.bn=new Jv(this,e,i),this.wn=new Xv(this)}W(){return this.cn}gn(e,s){this._n=e,this.un=s}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,s,i){this.hn||(this.hn=!0),this.en=!0,this.yn(e,s,i)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,s){this.en&&this.tn===e||this.rn.clear();const i=[];return this.tn===e&&i.push(this.Dn(this.rn,s,this.fn)),i}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,s,i){this.Bn(e,s,i)&&this.Vn()}Bn(e,s,i){const n=this.ln,r=this.an,l=this.nn,a=this.sn,o=this.tn,h=this.On(i);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=i;const c=h!==null?h.Ct():null;return h!==null&&c!==null?(this.nn=s,this.an=h.Rt(s,c)):(this.nn=NaN,this.an=NaN),n!==this.ln||r!==this.an||a!==this.sn||l!==this.nn||o!==this.tn}Tn(){const e=this.$i.wt().map(i=>i.In().An()).filter(Bv),s=e.length===0?null:Math.max(...e);this.sn=s!==null?s:NaN}Dn(e,s,i){let n=e.get(s);return n===void 0&&(n=new Gv(this,s,i),e.set(s,n)),n}}function Kr(t){return t==="left"||t==="right"}class ge{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,s){const i=function(n,r){return n===void 0?r:{Fn:Math.max(n.Fn,r.Fn),Wn:n.Wn||r.Wn}}(this.zn.get(e),s);this.zn.set(e,i)}jn(){return this.En}Hn(e){const s=this.zn.get(e);return s===void 0?{Fn:this.En}:{Fn:Math.max(this.En,s.Fn),Wn:s.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const s of e.Ln)this.ns(s);this.En=Math.max(this.En,e.En),e.zn.forEach((s,i)=>{this.Nn(i,s)})}static ss(){return new ge(2)}static es(){return new ge(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(s=>s.qn===5);e!==-1&&this.Ln.splice(e,1)}}const xh=".";function yt(t,e){if(!ct(t))return"n/a";if(!Gi(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class Xr{constructor(e,s){if(s||(s=1),ct(e)&&Gi(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=s,this.hs()}format(e){const s=e<0?"":"";return e=Math.abs(e),s+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const s=this.Li/this.rs;let i=Math.floor(e),n="";const r=this._s!==void 0?this._s:NaN;if(s>1){let l=+(Math.round(e*s)-i*s).toFixed(this._s);l>=s&&(l-=s,i+=1),n=xh+yt(+l.toFixed(this._s)*this.rs,r)}else i=Math.round(i*s)/s,r>0&&(n=xh+yt(0,r));return i.toFixed(0)+n}}class Xf extends Xr{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Zv{constructor(e){this.us=e}format(e){let s="";return e<0&&(s="-",e=-e),e<995?s+this.cs(e):e<999995?s+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),s+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),s+this.cs(e/1e9)+"B")}cs(e){let s;const i=Math.pow(10,this.us);return s=(e=Math.round(e*i)/i)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),s.replace(/(\.[1-9]*)0+$/,(n,r)=>r)}}function Qf(t,e,s,i,n,r,l){if(e.length===0||i.from>=e.length||i.to<=0)return;const{context:a,horizontalPixelRatio:o,verticalPixelRatio:h}=t,c=e[i.from];let d=r(t,c),f=c;if(i.to-i.from<2){const g=n/2;a.beginPath();const x={nt:c.nt-g,st:c.st},y={nt:c.nt+g,st:c.st};a.moveTo(x.nt*o,x.st*h),a.lineTo(y.nt*o,y.st*h),l(t,d,x,y)}else{const g=(y,b)=>{l(t,d,f,b),a.beginPath(),d=y,f=b};let x=f;a.beginPath(),a.moveTo(c.nt*o,c.st*h);for(let y=i.from+1;y<i.to;++y){x=e[y];const b=r(t,x);switch(s){case 0:a.lineTo(x.nt*o,x.st*h);break;case 1:a.lineTo(x.nt*o,e[y-1].st*h),b!==d&&(g(b,x),a.lineTo(x.nt*o,e[y-1].st*h)),a.lineTo(x.nt*o,x.st*h);break;case 2:{const[m,p]=eg(e,y-1,y);a.bezierCurveTo(m.nt*o,m.st*h,p.nt*o,p.st*h,x.nt*o,x.st*h);break}}s!==1&&b!==d&&(g(b,x),a.moveTo(x.nt*o,x.st*h))}(f!==x||f===x&&s===1)&&l(t,d,f,x)}}const yh=6;function bl(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function wh(t,e){return{nt:t.nt/e,st:t.st/e}}function eg(t,e,s){const i=Math.max(0,e-1),n=Math.min(t.length-1,s+1);var r,l;return[(r=t[e],l=wh(bl(t[s],t[i]),yh),{nt:r.nt+l.nt,st:r.st+l.st}),bl(t[s],wh(bl(t[n],t[e]),yh))]}function tg(t,e,s,i,n){const{context:r,horizontalPixelRatio:l,verticalPixelRatio:a}=e;r.lineTo(n.nt*l,t*a),r.lineTo(i.nt*l,t*a),r.closePath(),r.fillStyle=s,r.fill()}class Gf extends rt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var s;if(this.G===null)return;const{it:i,tt:n,ds:r,et:l,Nt:a,fs:o}=this.G,h=(s=this.G.vs)!==null&&s!==void 0?s:this.G.ps?0:e.mediaSize.height;if(n===null)return;const c=e.context;c.lineCap="butt",c.lineJoin="round",c.lineWidth=l,ds(c,a),c.lineWidth=1,Qf(e,i,o,n,r,this.bs.bind(this),tg.bind(null,h))}}function $o(t,e,s){return Math.min(Math.max(t,e),s)}function _n(t,e,s){return e-t<=s}function Yf(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Wa{ws(e,s){const i=this.gs,{Ms:n,xs:r,Ss:l,ks:a,ys:o,vs:h}=s;if(this.Cs===void 0||i===void 0||i.Ms!==n||i.xs!==r||i.Ss!==l||i.ks!==a||i.vs!==h||i.ys!==o){const c=e.context.createLinearGradient(0,0,0,o);if(c.addColorStop(0,n),h!=null){const d=$o(h*e.verticalPixelRatio/o,0,1);c.addColorStop(d,r),c.addColorStop(d,l)}c.addColorStop(1,a),this.Cs=c,this.gs=s}return this.Cs}}class sg extends Gf{constructor(){super(...arguments),this.Ts=new Wa}bs(e,s){return this.Ts.ws(e,{Ms:s.Ps,xs:"",Ss:"",ks:s.Rs,ys:e.bitmapSize.height})}}function ig(t,e){const s=t.context;s.strokeStyle=e,s.stroke()}class Jf extends rt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:s,tt:i,ds:n,fs:r,et:l,Nt:a,Ds:o}=this.G;if(i===null)return;const h=e.context;h.lineCap="butt",h.lineWidth=l*e.verticalPixelRatio,ds(h,a),h.lineJoin="round";const c=this.Vs.bind(this);r!==void 0&&Qf(e,s,r,i,n,c,ig),o&&function(d,f,g,x,y){const{horizontalPixelRatio:b,verticalPixelRatio:m,context:p}=d;let v=null;const w=Math.max(1,Math.floor(b))%2/2,S=g*m+w;for(let E=x.to-1;E>=x.from;--E){const C=f[E];if(C){const _=y(d,C);_!==v&&(p.beginPath(),v!==null&&p.fill(),p.fillStyle=_,v=_);const F=Math.round(C.nt*b)+w,z=C.st*m;p.moveTo(F,z),p.arc(F,z,S,0,2*Math.PI)}}p.fill()}(e,s,o,i,c)}}class qf extends Jf{Vs(e,s){return s.lt}}function Zf(t,e,s,i,n=0,r=e.length){let l=r-n;for(;0<l;){const a=l>>1,o=n+a;i(e[o],s)===t?(n=o+1,l-=a+1):l=a}return n}const on=Zf.bind(null,!0),em=Zf.bind(null,!1);function ng(t,e){return t.ot<e}function rg(t,e){return e<t.ot}function tm(t,e,s){const i=e.Os(),n=e.ui(),r=on(t,i,ng),l=em(t,n,rg);if(!s)return{from:r,to:l};let a=r,o=l;return r>0&&r<t.length&&t[r].ot>=i&&(a=r-1),l>0&&l<t.length&&t[l-1].ot<=n&&(o=l+1),{from:a,to:o}}class Ha{constructor(e,s,i){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=s,this.Fs=i}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),s=this.Ns.St();if(this.qs(),s.Ni()||e.Ni())return;const i=s.Xs();if(i===null||this.Es.In().Ks()===0)return;const n=this.Es.Ct();n!==null&&(this.Ls=tm(this.zs,i,this.Fs),this.Gs(e,s,n.Vt),this.Js())}}class Qr extends Ha{constructor(e,s){super(e,s,!0)}Gs(e,s,i){s.Qs(this.zs,Yi(this.Ls)),e.te(this.zs,i,Yi(this.Ls))}ie(e,s){return{ot:e,_t:s,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(s=>{const i=s.Vt[3];return this.se(s.ee,i,e)})}}class lg extends Qr{constructor(e,s){super(e,s),this.js=new Ua,this.re=new sg,this.he=new qf,this.js.Z([this.re,this.he])}se(e,s,i){return Object.assign(Object.assign({},this.ie(e,s)),i.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class og extends rt{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(s),this.ae>=2&&Math.max(1,Math.floor(s))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(s)):this.ae;let n=null;const r=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*s);for(let l=this.zt.tt.from;l<this.zt.tt.to;++l){const a=this.zt.In[l];n!==a.ce&&(e.fillStyle=a.ce,n=a.ce);const o=Math.floor(.5*this.oe),h=Math.round(a.nt*s),c=h-o,d=this.oe,f=c+d-1,g=Math.min(a.de,a.fe),x=Math.max(a.de,a.fe),y=Math.round(g*i)-o,b=Math.round(x*i)+o,m=Math.max(b-y,this.oe);e.fillRect(c,y,d,m);const p=Math.ceil(1.5*this.ae);if(r){if(this.zt.ve){const E=h-p;let C=Math.max(y,Math.round(a.pe*i)-o),_=C+d-1;_>y+m-1&&(_=y+m-1,C=_-d+1),e.fillRect(E,C,c-E,_-C+1)}const v=h+p;let w=Math.max(y,Math.round(a.me*i)-o),S=w+d-1;S>y+m-1&&(S=y+m-1,w=S-d+1),e.fillRect(f+1,w,v-f,S-w+1)}}}_e(e){const s=Math.floor(e);return Math.max(s,Math.floor(function(i,n){return Math.floor(.3*i*n)}(j(this.zt).le,e)))}}class sm extends Ha{constructor(e,s){super(e,s,!1)}Gs(e,s,i){s.Qs(this.zs,Yi(this.Ls)),e.be(this.zs,i,Yi(this.Ls))}we(e,s,i){return{ot:e,ge:s.Vt[0],Me:s.Vt[1],xe:s.Vt[2],Se:s.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(s=>this.se(s.ee,s,e))}}class ag extends sm{constructor(){super(...arguments),this.js=new og}se(e,s,i){return Object.assign(Object.assign({},this.we(e,s,i)),i.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class ug extends Gf{constructor(){super(...arguments),this.Ts=new Wa}bs(e,s){const i=this.G;return this.Ts.ws(e,{Ms:s.ke,xs:s.ye,Ss:s.Ce,ks:s.Te,ys:e.bitmapSize.height,vs:i.vs})}}class hg extends Jf{constructor(){super(...arguments),this.Pe=new Wa}Vs(e,s){const i=this.G;return this.Pe.ws(e,{Ms:s.Re,xs:s.Re,Ss:s.De,ks:s.De,ys:e.bitmapSize.height,vs:i.vs})}}class cg extends Qr{constructor(e,s){super(e,s),this.js=new Ua,this.Ve=new ug,this.Oe=new hg,this.js.Z([this.Ve,this.Oe])}se(e,s,i){return Object.assign(Object.assign({},this.ie(e,s)),i.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const s=this.Es.W(),i=this.Es.Dt().Rt(s.baseValue.price,e.Vt),n=this.Ns.St().le();this.Ve.J({it:this.zs,et:s.lineWidth,Nt:s.lineStyle,fs:s.lineType,vs:i,ps:!1,tt:this.Ls,ds:n}),this.Oe.J({it:this.zs,et:s.lineWidth,Nt:s.lineStyle,fs:s.lineVisible?s.lineType:void 0,Ds:s.pointMarkersVisible?s.pointMarkersRadius||s.lineWidth/2+2:void 0,vs:i,tt:this.Ls,ds:n})}}class dg extends rt{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:s}=e;this.ae=function(r,l){if(r>=2.5&&r<=4)return Math.floor(3*l);const a=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),o=Math.floor(r*a*l),h=Math.floor(r*l),c=Math.min(o,h);return Math.max(Math.floor(l),c)}(this.zt.le,s),this.ae>=2&&Math.floor(s)%2!=this.ae%2&&this.ae--;const i=this.zt.In;this.zt.Be&&this.Ae(e,i,this.zt.tt),this.zt._i&&this.Ie(e,i,this.zt.tt);const n=this.ze(s);(!this.zt._i||this.ae>2*n)&&this.Le(e,i,this.zt.tt)}Ae(e,s,i){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let a="",o=Math.min(Math.floor(r),Math.floor(this.zt.le*r));o=Math.max(Math.floor(r),Math.min(o,this.ae));const h=Math.floor(.5*o);let c=null;for(let d=i.from;d<i.to;d++){const f=s[d];f.Ee!==a&&(n.fillStyle=f.Ee,a=f.Ee);const g=Math.round(Math.min(f.pe,f.me)*l),x=Math.round(Math.max(f.pe,f.me)*l),y=Math.round(f.de*l),b=Math.round(f.fe*l);let m=Math.round(r*f.nt)-h;const p=m+o-1;c!==null&&(m=Math.max(c+1,m),m=Math.min(m,p));const v=p-m+1;n.fillRect(m,y,v,g-y),n.fillRect(m,x+1,v,b-x),c=p}}ze(e){let s=Math.floor(1*e);this.ae<=2*s&&(s=Math.floor(.5*(this.ae-1)));const i=Math.max(Math.floor(e),s);return this.ae<=2*i?Math.max(Math.floor(e),Math.floor(1*e)):i}Ie(e,s,i){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let a="";const o=this.ze(r);let h=null;for(let c=i.from;c<i.to;c++){const d=s[c];d.Ne!==a&&(n.fillStyle=d.Ne,a=d.Ne);let f=Math.round(d.nt*r)-Math.floor(.5*this.ae);const g=f+this.ae-1,x=Math.round(Math.min(d.pe,d.me)*l),y=Math.round(Math.max(d.pe,d.me)*l);if(h!==null&&(f=Math.max(h+1,f),f=Math.min(f,g)),this.zt.le*r>2*o)Qv(n,f,x,g-f+1,y-x+1,o);else{const b=g-f+1;n.fillRect(f,x,b,y-x+1)}h=g}}Le(e,s,i){if(this.zt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let a="";const o=this.ze(r);for(let h=i.from;h<i.to;h++){const c=s[h];let d=Math.round(Math.min(c.pe,c.me)*l),f=Math.round(Math.max(c.pe,c.me)*l),g=Math.round(c.nt*r)-Math.floor(.5*this.ae),x=g+this.ae-1;if(c.ce!==a){const y=c.ce;n.fillStyle=y,a=y}this.zt._i&&(g+=o,d+=o,x-=o,f-=o),d>f||n.fillRect(g,d,x-g+1,f-d+1)}}}class fg extends sm{constructor(){super(...arguments),this.js=new dg}se(e,s,i){return Object.assign(Object.assign({},this.we(e,s,i)),i.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class mg{constructor(e,s){this.Fe=e,this.Li=s}X(e,s,i){this.Fe.draw(e,this.Li,s,i)}}class Sl extends Ha{constructor(e,s,i){super(e,s,!1),this.wn=i,this.js=new mg(this.wn.renderer(),n=>{const r=e.Ct();return r===null?null:e.Dt().Rt(n,r.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(s=>Object.assign(Object.assign({ot:s.ee,nt:NaN},e.$s(s.ee)),{He:s.$e}))}Gs(e,s){s.Qs(this.zs,Yi(this.Ls))}Js(){this.wn.update({bars:this.zs.map(pg),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function pg(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class vg extends rt{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(s);const n=Math.max(1,Math.floor(i)),r=Math.round(this.zt.Ye*i)-Math.floor(n/2),l=r+n;for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const o=this.zt.it[a],h=this.Ue[a-this.zt.tt.from],c=Math.round(o.st*i);let d,f;e.fillStyle=o.ce,c<=r?(d=c,f=l):(d=r,f=c-Math.floor(n/2)+n),e.fillRect(h.Os,d,h.ui-h.Os+1,f-d)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const s=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),i=Math.round(this.zt.le*e)-s;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.zt.it[r],a=Math.round(l.nt*e);let o,h;if(i%2){const c=(i-1)/2;o=a-c,h=a+c}else{const c=i/2;o=a-c,h=a+c-1}this.Ue[r-this.zt.tt.from]={Os:o,ui:h,Ze:a,Xe:l.nt*e,ot:l.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from],a=this.Ue[r-this.zt.tt.from-1];l.ot===a.ot+1&&l.Os-a.ui!==s+1&&(a.Ze>a.Xe?a.ui=l.Os-s-1:l.Os=a.ui+s+1)}let n=Math.ceil(this.zt.le*e);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from];l.ui<l.Os&&(l.ui=l.Os);const a=l.ui-l.Os+1;n=Math.min(a,n)}if(s>0&&n<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from];l.ui-l.Os+1>n&&(l.Ze>l.Xe?l.ui-=1:l.Os+=1)}}}class gg extends Qr{constructor(){super(...arguments),this.js=new vg}se(e,s,i){return Object.assign(Object.assign({},this.ie(e,s)),i.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,j(this.Es.Ct()).Vt)};this.js.J(e)}}class xg extends Qr{constructor(){super(...arguments),this.js=new qf}se(e,s,i){return Object.assign(Object.assign({},this.ie(e,s)),i.$s(e))}Js(){const e=this.Es.W(),s={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(s)}}const yg=/[2-9]/g;class Ji{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,s,i){return this.sr(e,s,i).width}Mi(e,s,i){const n=this.sr(e,s,i);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}sr(e,s,i){const n=i||yg,r=String(s).replace(n,"0");if(this.tr.has(r))return _e(this.tr.get(r)).er;if(this.Ke===this.ir){const a=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(a),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const l=e.measureText(r);return e.restore(),l.width===0&&s.length||(this.tr.set(r,{er:l,rr:this.Ge}),this.Qe[this.Ge]=r,this.Ke++,this.Ge++),l}}class wg{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,s,i){this.hr=e,this.k=s,this.lr=i}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class im{constructor(e,s,i){this.ur=e,this.ar=new Ji(50),this.cr=s,this.F=i,this.j=-1,this.Wt=new wg(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const s=e.vr(this.cr)?e.pr():this.cr.Dt();if(s===null)return null;const i=e.mr(s);if(i==="overlay")return null;const n=this.F.br();return n.P!==this.j&&(this.j=n.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),n,i),this.Wt}}class bg extends rt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,s){var i;if(!(!((i=this.zt)===null||i===void 0)&&i.yt))return null;const{st:n,et:r,gr:l}=this.zt;return s>=n-r-7&&s<=n+r+7?{Mr:this.zt,gr:l}:null}K({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*n);r<0||r>s.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*i),ds(e,this.zt.Nt),Uf(e,r,0,s.width))}}class Ka{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new bg,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class Sg extends Ka{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),s=e.Cr().Cr;if(s!==2&&s!==3)return;const i=this.Es.W();if(!i.baseLineVisible||!this.Es.yt())return;const n=this.Es.Ct();n!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(n.Vt,n.Vt),this.Sr.V=i.baseLineColor,this.Sr.et=i.baseLineWidth,this.Sr.Nt=i.baseLineStyle)}}class Ng extends rt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:i}){const n=this.zt;if(n===null)return;const r=Math.max(1,Math.floor(s)),l=r%2/2,a=Math.round(n.Xe.x*s)+l,o=n.Xe.y*i;e.fillStyle=n.Tr,e.beginPath();const h=Math.max(2,1.5*n.Pr)*s;e.arc(a,o,h,0,2*Math.PI,!1),e.fill(),e.fillStyle=n.Rr,e.beginPath(),e.arc(a,o,n.ht*s,0,2*Math.PI,!1),e.fill(),e.lineWidth=r,e.strokeStyle=n.Dr,e.beginPath(),e.arc(a,o,n.ht*s+r/2,0,2*Math.PI,!1),e.stroke()}}const Cg=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function bh(t,e,s,i){return function(n,r){if(n==="transparent")return n;const l=Qi(n),a=l[3];return`rgba(${l[0]}, ${l[1]}, ${l[2]}, ${r*a})`}(t,s+(i-s)*e)}function Sh(t,e){const s=t%2600/2600;let i;for(const o of Cg)if(s>=o.Vr&&s<=o.Or){i=o;break}Ht(i!==void 0,"Last price animation internal logic error");const n=(s-i.Vr)/(i.Or-i.Vr);return{Rr:bh(e,n,i.Ir,i.zr),Dr:bh(e,n,i.Lr,i.Er),ht:(r=n,l=i.Br,a=i.Ar,l+(a-l)*r)};var r,l,a}class Eg{constructor(e){this.Wt=new Ng,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),s=this.Wr-e;if(s>0)return void(s<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),s=e.Xs(),i=this.jr.Ct();if(s===null||i===null)return;const n=this.jr.Zr(!0);if(n.Xr||!s.Kr(n.ee))return;const r={x:e.It(n.ee),y:this.jr.Dt().Rt(n._t,i.Vt)},l=n.V,a=this.jr.W().lineWidth,o=Sh(this.Gr(),l);this.Wt.J({Tr:l,Pr:a,Rr:o.Rr,Dr:o.Dr,ht:o.ht,Xe:r})}Yr(){const e=this.Wt.$e();if(e!==null){const s=Sh(this.Gr(),e.Tr);e.Rr=s.Rr,e.Dr=s.Dr,e.ht=s.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function ji(t,e){return Yf(Math.min(Math.max(t,12),30)*e)}function qi(t,e){switch(t){case"arrowDown":case"arrowUp":return ji(e,1);case"circle":return ji(e,.8);case"square":return ji(e,.7)}}function nm(t){return function(e){const s=Math.ceil(e);return s%2!=0?s-1:s}(ji(t,1))}function Nh(t){return Math.max(ji(t,.1),3)}function Ch(t,e,s){return e?t:s?Math.ceil(t/2):0}function rm(t,e,s,i,n){const r=qi("square",s),l=(r-1)/2,a=t-l,o=e-l;return i>=a&&i<=a+r&&n>=o&&n<=o+r}function Eh(t,e,s,i){const n=(qi("arrowUp",i)-1)/2*s.Jr,r=(Yf(i/2)-1)/2*s.Jr;e.beginPath(),t?(e.moveTo(s.nt-n,s.st),e.lineTo(s.nt,s.st-n),e.lineTo(s.nt+n,s.st),e.lineTo(s.nt+r,s.st),e.lineTo(s.nt+r,s.st+n),e.lineTo(s.nt-r,s.st+n),e.lineTo(s.nt-r,s.st)):(e.moveTo(s.nt-n,s.st),e.lineTo(s.nt,s.st+n),e.lineTo(s.nt+n,s.st),e.lineTo(s.nt+r,s.st),e.lineTo(s.nt+r,s.st-n),e.lineTo(s.nt-r,s.st-n),e.lineTo(s.nt-r,s.st)),e.fill()}function jg(t,e,s,i,n,r){return rm(e,s,i,n,r)}class kg extends rt{constructor(){super(...arguments),this.zt=null,this.ar=new Ji,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,s){this.j===e&&this.H===s||(this.j=e,this.H=s,this.Qr=Gs(e,s),this.ar.nr())}wr(e,s){if(this.zt===null||this.zt.tt===null)return null;for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){const n=this.zt.it[i];if(Mg(n,e,s))return{Mr:n.th,gr:n.gr}}return null}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:i},n,r){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const a=this.zt.it[l];a.Kt!==void 0&&(a.Kt.Hi=this.ar.xi(e,a.Kt.ih),a.Kt.At=this.j,a.Kt.nt=a.nt-a.Kt.Hi/2),_g(a,e,s,i)}}}}function _g(t,e,s,i){e.fillStyle=t.V,t.Kt!==void 0&&function(n,r,l,a,o,h){n.save(),n.scale(o,h),n.fillText(r,l,a),n.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,s,i),function(n,r,l){if(n.Ks!==0){switch(n.nh){case"arrowDown":return void Eh(!1,r,l,n.Ks);case"arrowUp":return void Eh(!0,r,l,n.Ks);case"circle":return void function(a,o,h){const c=(qi("circle",h)-1)/2;a.beginPath(),a.arc(o.nt,o.st,c*o.Jr,0,2*Math.PI,!1),a.fill()}(r,l,n.Ks);case"square":return void function(a,o,h){const c=qi("square",h),d=(c-1)*o.Jr/2,f=o.nt-d,g=o.st-d;a.fillRect(f,g,c*o.Jr,c*o.Jr)}(r,l,n.Ks)}n.nh}}(t,e,function(n,r,l){const a=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(n.nt*r)+a,st:n.st*l,Jr:r}}(t,s,i))}function Mg(t,e,s){return!(t.Kt===void 0||!function(i,n,r,l,a,o){const h=l/2;return a>=i&&a<=i+r&&o>=n-h&&o<=n+h}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,s))||function(i,n,r){if(i.Ks===0)return!1;switch(i.nh){case"arrowDown":case"arrowUp":return jg(0,i.nt,i.st,i.Ks,n,r);case"circle":return function(l,a,o,h,c){const d=2+qi("circle",o)/2,f=l-h,g=a-c;return Math.sqrt(f*f+g*g)<=d}(i.nt,i.st,i.Ks,n,r);case"square":return rm(i.nt,i.st,i.Ks,n,r)}}(t,e,s)}function Tg(t,e,s,i,n,r,l,a,o){const h=ct(s)?s:s.Se,c=ct(s)?s:s.Me,d=ct(s)?s:s.xe,f=ct(e.size)?Math.max(e.size,0):1,g=nm(a.le())*f,x=g/2;switch(t.Ks=g,e.position){case"inBar":return t.st=l.Rt(h,o),void(t.Kt!==void 0&&(t.Kt.st=t.st+x+r+.6*n));case"aboveBar":return t.st=l.Rt(c,o)-x-i.sh,t.Kt!==void 0&&(t.Kt.st=t.st-x-.6*n,i.sh+=1.2*n),void(i.sh+=g+r);case"belowBar":return t.st=l.Rt(d,o)+x+i.eh,t.Kt!==void 0&&(t.Kt.st=t.st+x+r+.6*n,i.eh+=1.2*n),void(i.eh+=g+r)}e.position}class zg{constructor(e,s){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new kg,this.jr=e,this.$i=s,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const s=this.$i.W().layout;return this.Wt._r(s.fontSize,s.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),s=Nh(e),i=1.5*nm(e)+2*s,n=this.fh();this.ah={above:Ch(i,n.aboveBar,n.inBar),below:Ch(i,n.belowBar,n.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,s)=>(e[s.position]||(e[s.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),s=this.$i.St(),i=this.jr.dh();this.rh&&(this.zt.it=i.map(c=>({ot:c.time,nt:0,st:0,Ks:0,nh:c.shape,V:c.color,th:c.th,gr:c.id,Kt:void 0})),this.rh=!1);const n=this.$i.W().layout;this.zt.tt=null;const r=s.Xs();if(r===null)return;const l=this.jr.Ct();if(l===null||this.zt.it.length===0)return;let a=NaN;const o=Nh(s.le()),h={sh:o,eh:o};this.zt.tt=tm(this.zt.it,r,!0);for(let c=this.zt.tt.from;c<this.zt.tt.to;c++){const d=i[c];d.time!==a&&(h.sh=o,h.eh=o,a=d.time);const f=this.zt.it[c];f.nt=s.It(d.time),d.text!==void 0&&d.text.length>0&&(f.Kt={ih:d.text,nt:0,st:0,Hi:0,At:0});const g=this.jr.ph(d.time);g!==null&&Tg(f,d,g,h,n.fontSize,o,e,s,l.Vt)}this.ft=!1}}class Pg extends Ka{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const s=this.Es.W();if(!s.priceLineVisible||!this.Es.yt())return;const i=this.Es.Zr(s.priceLineSource===0);i.Xr||(e.yt=!0,e.st=i.ki,e.V=this.Es.mh(i.V),e.et=s.priceLineWidth,e.Nt=s.priceLineStyle)}}class Lg extends Hr{constructor(e){super(),this.jt=e}zi(e,s,i){e.yt=!1,s.yt=!1;const n=this.jt;if(!n.yt())return;const r=n.W(),l=r.lastValueVisible,a=n.bh()!=="",o=r.seriesLastValueMode===0,h=n.Zr(!1);if(h.Xr)return;l&&(e.Kt=this.wh(h,l,o),e.yt=e.Kt.length!==0),(a||o)&&(s.Kt=this.gh(h,l,a,o),s.yt=s.Kt.length>0);const c=n.mh(h.V),d=Vr(c);i.t=d.t,i.ki=h.ki,s.Ot=n.$t().Bt(h.ki/n.Dt().At()),e.Ot=c,e.V=d.i,s.V=d.i}gh(e,s,i,n){let r="";const l=this.jt.bh();return i&&l.length!==0&&(r+=`${l} `),s&&n&&(r+=this.jt.Dt().Mh()?e.xh:e.Sh),r.trim()}wh(e,s,i){return s?i?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function jh(t,e,s,i){const n=Number.isFinite(e),r=Number.isFinite(s);return n&&r?t(e,s):n||r?n?e:s:i}class $e{constructor(e,s){this.kh=e,this.yh=s}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new $e(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new $e(jh(Math.min,this.Ph(),e.Ph(),-1/0),jh(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!ct(e)||this.yh-this.kh===0)return;const s=.5*(this.yh+this.kh);let i=this.yh-s,n=this.kh-s;i*=e,n*=e,this.yh=s+i,this.kh=s+n}Oh(e){ct(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new $e(e.minValue,e.maxValue)}}class Nr{constructor(e,s){this.Ih=e,this.zh=s||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new Nr($e.Ah(e.priceRange),e.margins)}}class Dg extends Ka{constructor(e,s){super(e),this.Nh=s}yr(){const e=this.Sr;e.yt=!1;const s=this.Nh.W();if(!this.Es.yt()||!s.lineVisible)return;const i=this.Nh.Fh();i!==null&&(e.yt=!0,e.st=i,e.V=s.color,e.et=s.lineWidth,e.Nt=s.lineStyle,e.gr=this.Nh.W().id)}}class Rg extends Hr{constructor(e,s){super(),this.jr=e,this.Nh=s}zi(e,s,i){e.yt=!1,s.yt=!1;const n=this.Nh.W(),r=n.axisLabelVisible,l=n.title!=="",a=this.jr;if(!r||!a.yt())return;const o=this.Nh.Fh();if(o===null)return;l&&(s.Kt=n.title,s.yt=!0),s.Ot=a.$t().Bt(o/a.Dt().At()),e.Kt=this.Wh(n.price),e.yt=!0;const h=Vr(n.axisLabelColor||n.color);i.t=h.t;const c=n.axisLabelTextColor||h.i;e.V=c,s.V=c,i.ki=o}Wh(e){const s=this.jr.Ct();return s===null?"":this.jr.Dt().Fi(e,s.Vt)}}class $g{constructor(e,s){this.jr=e,this.cn=s,this.jh=new Dg(e,this),this.ur=new Rg(e,this),this.Hh=new im(this.ur,e,e.$t())}$h(e){nt(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,s=e.Dt();if(e.$t().St().Ni()||s.Ni())return null;const i=e.Ct();return i===null?null:s.Rt(this.cn.price,i.Vt)}}class Og extends Va{constructor(e){super(),this.$i=e}$t(){return this.$i}}const Fg={Bar:(t,e,s,i)=>{var n;const r=e.upColor,l=e.downColor,a=j(t(s,i)),o=Ps(a.Vt[0])<=Ps(a.Vt[3]);return{ce:(n=a.V)!==null&&n!==void 0?n:o?r:l}},Candlestick:(t,e,s,i)=>{var n,r,l;const a=e.upColor,o=e.downColor,h=e.borderUpColor,c=e.borderDownColor,d=e.wickUpColor,f=e.wickDownColor,g=j(t(s,i)),x=Ps(g.Vt[0])<=Ps(g.Vt[3]);return{ce:(n=g.V)!==null&&n!==void 0?n:x?a:o,Ne:(r=g.Ot)!==null&&r!==void 0?r:x?h:c,Ee:(l=g.Xh)!==null&&l!==void 0?l:x?d:f}},Custom:(t,e,s,i)=>{var n;return{ce:(n=j(t(s,i)).V)!==null&&n!==void 0?n:e.color}},Area:(t,e,s,i)=>{var n,r,l,a;const o=j(t(s,i));return{ce:(n=o.lt)!==null&&n!==void 0?n:e.lineColor,lt:(r=o.lt)!==null&&r!==void 0?r:e.lineColor,Ps:(l=o.Ps)!==null&&l!==void 0?l:e.topColor,Rs:(a=o.Rs)!==null&&a!==void 0?a:e.bottomColor}},Baseline:(t,e,s,i)=>{var n,r,l,a,o,h;const c=j(t(s,i));return{ce:c.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(n=c.Re)!==null&&n!==void 0?n:e.topLineColor,De:(r=c.De)!==null&&r!==void 0?r:e.bottomLineColor,ke:(l=c.ke)!==null&&l!==void 0?l:e.topFillColor1,ye:(a=c.ye)!==null&&a!==void 0?a:e.topFillColor2,Ce:(o=c.Ce)!==null&&o!==void 0?o:e.bottomFillColor1,Te:(h=c.Te)!==null&&h!==void 0?h:e.bottomFillColor2}},Line:(t,e,s,i)=>{var n,r;const l=j(t(s,i));return{ce:(n=l.V)!==null&&n!==void 0?n:e.color,lt:(r=l.V)!==null&&r!==void 0?r:e.color}},Histogram:(t,e,s,i)=>{var n;return{ce:(n=j(t(s,i)).V)!==null&&n!==void 0?n:e.color}}};class Ag{constructor(e){this.Kh=(s,i)=>i!==void 0?i.Vt:this.jr.In().Gh(s),this.jr=e,this.Jh=Fg[e.Qh()]}$s(e,s){return this.Jh(this.Kh,this.jr.W(),e,s)}}var kh;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(kh||(kh={}));const _t=30;class Bg{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,s=0){const i=this.hl(e,s);return i===null?null:Object.assign(Object.assign({},this.al(i)),{ee:this.rl(i)})}ne(){return this.tl}ol(e,s,i){if(this.Ni())return null;let n=null;for(const r of i)n=Mn(n,this._l(e,s,r));return n}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,s){const i=this.ul(e);if(i===null&&s!==0)switch(s){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return i}cl(e){let s=this.fl(e);return s>0&&(s-=1),s!==this.tl.length&&this.rl(s)<e?s:null}dl(e){const s=this.vl(e);return s!==this.tl.length&&e<this.rl(s)?s:null}ul(e){const s=this.fl(e);return s===this.tl.length||e<this.tl[s].ee?null:s}fl(e){return on(this.tl,e,(s,i)=>s.ee<i)}vl(e){return em(this.tl,e,(s,i)=>s.ee>i)}pl(e,s,i){let n=null;for(let r=e;r<s;r++){const l=this.tl[r].Vt[i];Number.isNaN(l)||(n===null?n={ml:l,bl:l}:(l<n.ml&&(n.ml=l),l>n.bl&&(n.bl=l)))}return n}_l(e,s,i){if(this.Ni())return null;let n=null;const r=j(this.el()),l=j(this.An()),a=Math.max(e,r),o=Math.min(s,l),h=Math.ceil(a/_t)*_t,c=Math.max(h,Math.floor(o/_t)*_t);{const f=this.fl(a),g=this.vl(Math.min(o,h,s));n=Mn(n,this.pl(f,g,i))}let d=this.il.get(i);d===void 0&&(d=new Map,this.il.set(i,d));for(let f=Math.max(h+1,a);f<c;f+=_t){const g=Math.floor(f/_t);let x=d.get(g);if(x===void 0){const y=this.fl(g*_t),b=this.vl((g+1)*_t-1);x=this.pl(y,b,i),d.set(g,x)}n=Mn(n,x)}{const f=this.fl(c),g=this.vl(o);n=Mn(n,this.pl(f,g,i))}return n}}function Mn(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class Ig{constructor(e){this.wl=e}X(e,s,i){this.wl.draw(e)}gl(e,s,i){var n,r;(r=(n=this.wl).drawBackground)===null||r===void 0||r.call(n,e)}}class Nl{constructor(e){this.tr=null,this.wn=e}gt(){var e;const s=this.wn.renderer();if(s===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===s)return this.tr.xl;const i=new Ig(s);return this.tr={Ml:s,xl:i},i}Sl(){var e,s,i;return(i=(s=(e=this.wn).zOrder)===null||s===void 0?void 0:s.call(e))!==null&&i!==void 0?i:"normal"}}function lm(t){var e,s,i,n,r;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(i=(s=t.visible)===null||s===void 0?void 0:s.call(t))===null||i===void 0||i,hi:(r=(n=t.tickVisible)===null||n===void 0?void 0:n.call(t))===null||r===void 0||r}}class Ug{constructor(e,s){this.Wt=new Kf,this.kl=e,this.yl=s}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},lm(this.kl))),this.Wt}}class Vg extends Hr{constructor(e,s){super(),this.kl=e,this.Li=s}zi(e,s,i){const n=lm(this.kl);i.t=n.t,e.V=n.V;const r=2/12*this.Li.P();i.wi=r,i.gi=r,i.ki=n.ki,i.Si=n.Si,e.Kt=n.Kt,e.yt=n.yt,e.hi=n.hi}}class Wg{constructor(e,s){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=s}Ol(){return this.Vl}Vn(){var e,s;(s=(e=this.Vl).updateAllViews)===null||s===void 0||s.call(e)}Pn(){var e,s,i,n;const r=(i=(s=(e=this.Vl).paneViews)===null||s===void 0?void 0:s.call(e))!==null&&i!==void 0?i:[];if(((n=this.Cl)===null||n===void 0?void 0:n.Ml)===r)return this.Cl.xl;const l=r.map(a=>new Nl(a));return this.Cl={Ml:r,xl:l},l}Qi(){var e,s,i,n;const r=(i=(s=(e=this.Vl).timeAxisViews)===null||s===void 0?void 0:s.call(e))!==null&&i!==void 0?i:[];if(((n=this.Tl)===null||n===void 0?void 0:n.Ml)===r)return this.Tl.xl;const l=this.jr.$t().St(),a=r.map(o=>new Ug(o,l));return this.Tl={Ml:r,xl:a},a}Rn(){var e,s,i,n;const r=(i=(s=(e=this.Vl).priceAxisViews)===null||s===void 0?void 0:s.call(e))!==null&&i!==void 0?i:[];if(((n=this.Pl)===null||n===void 0?void 0:n.Ml)===r)return this.Pl.xl;const l=this.jr.Dt(),a=r.map(o=>new Vg(o,l));return this.Pl={Ml:r,xl:a},a}Bl(){var e,s,i,n;const r=(i=(s=(e=this.Vl).priceAxisPaneViews)===null||s===void 0?void 0:s.call(e))!==null&&i!==void 0?i:[];if(((n=this.Rl)===null||n===void 0?void 0:n.Ml)===r)return this.Rl.xl;const l=r.map(a=>new Nl(a));return this.Rl={Ml:r,xl:l},l}Al(){var e,s,i,n;const r=(i=(s=(e=this.Vl).timeAxisPaneViews)===null||s===void 0?void 0:s.call(e))!==null&&i!==void 0?i:[];if(((n=this.Dl)===null||n===void 0?void 0:n.Ml)===r)return this.Dl.xl;const l=r.map(a=>new Nl(a));return this.Dl={Ml:r,xl:l},l}Il(e,s){var i,n,r;return(r=(n=(i=this.Vl).autoscaleInfo)===null||n===void 0?void 0:n.call(i,e,s))!==null&&r!==void 0?r:null}wr(e,s){var i,n,r;return(r=(n=(i=this.Vl).hitTest)===null||n===void 0?void 0:n.call(i,e,s))!==null&&r!==void 0?r:null}}function Cl(t,e,s,i){t.forEach(n=>{e(n).forEach(r=>{r.Sl()===s&&i.push(r)})})}function El(t){return t.Pn()}function Hg(t){return t.Bl()}function Kg(t){return t.Al()}class Xa extends Og{constructor(e,s,i,n,r){super(e),this.zt=new Bg,this.jh=new Pg(this),this.zl=[],this.Ll=new Sg(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=s,this.$l=i;const l=new Lg(this);this.rn=[l],this.Hh=new im(l,this,e),i!=="Area"&&i!=="Line"&&i!=="Baseline"||(this.El=new Eg(this)),this.Ul(),this.ql(r)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const s={Xr:!0},i=this.Dt();if(this.$t().St().Ni()||i.Ni()||this.zt.Ni())return s;const n=this.$t().St().Xs(),r=this.Ct();if(n===null||r===null)return s;let l,a;if(e){const d=this.zt.sl();if(d===null)return s;l=d,a=d.ee}else{const d=this.zt.ll(n.ui(),-1);if(d===null||(l=this.zt.Gh(d.ee),l===null))return s;a=d.ee}const o=l.Vt[3],h=this.Us().$s(a,{Vt:l}),c=i.Rt(o,r.Vt);return{Xr:!1,_t:o,Kt:i.Fi(o,r.Vt),xh:i.Yl(o),Sh:i.Zl(o,r.Vt),V:h.ce,ki:c,ee:a}}Us(){return this.Nl!==null||(this.Nl=new Ag(this)),this.Nl}W(){return this.cn}$h(e){const s=e.priceScaleId;s!==void 0&&s!==this.cn.priceScaleId&&this.$t().Xl(this,s),nt(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,s){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(s&&s.ta?this.El.$r():e.length===0&&this.El.Hr());const i=this.$t().dr(this);this.$t().ia(i),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const s=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(s),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const s=new $g(this,e);return this.zl.push(s),this.$t().Gl(this),s}ra(e){const s=this.zl.indexOf(e);s!==-1&&this.zl.splice(s,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const s=e.Os();return this.zt.ll(s,1)}In(){return this.zt}ph(e){const s=this.zt.Gh(e);return s===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:s.Vt[0],Me:s.Vt[1],xe:s.Vt[2],Se:s.Vt[3]}:s.Vt[3]}aa(e){const s=[];Cl(this.Hl,El,"top",s);const i=this.El;return i!==null&&i.yt()&&(this.jl===null&&i.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),i.Ur(),s.unshift(i)),s}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const s=this.zl.map(i=>i.qh());return e.push(...s),Cl(this.Hl,El,"normal",e),e}ua(){return this.ca(El,"bottom")}da(e){return this.ca(Hg,e)}fa(e){return this.ca(Kg,e)}va(e,s){return this.Hl.map(i=>i.wr(e,s)).filter(i=>i!==null)}Ji(e){return[this.Hh,...this.zl.map(s=>s.Yh())]}Rn(e,s){if(s!==this.Yi&&!this._a())return[];const i=[...this.rn];for(const n of this.zl)i.push(n.Zh());return this.Hl.forEach(n=>{i.push(...n.Rn())}),i}Qi(){const e=[];return this.Hl.forEach(s=>{e.push(...s.Qi())}),e}Il(e,s){if(this.cn.autoscaleInfoProvider!==void 0){const i=this.cn.autoscaleInfoProvider(()=>{const n=this.pa(e,s);return n===null?null:n.Bh()});return Nr.Ah(i)}return this.pa(e,s)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const s of this.rn)s.bt();for(const s of this.zl)s.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(s=>s.Vn())}Dt(){return j(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const s=this.zt.Gh(e);return s===null?null:{_t:s.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new Wg(e,this))}ya(e){this.Hl=this.Hl.filter(s=>s.Ol()!==e)}Ca(){if(this.wn instanceof Sl)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof Sl)return e=>this.wn.je(e)}_a(){return!Kr(this.Dt().Pa())}pa(e,s){if(!Gi(e)||!Gi(s)||this.zt.Ni())return null;const i=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],n=this.zt.ol(e,s,i);let r=n!==null?new $e(n.ml,n.bl):null;if(this.Qh()==="Histogram"){const a=this.cn.base,o=new $e(a,a);r=r!==null?r.ts(o):o}let l=this.dn.uh();return this.Hl.forEach(a=>{const o=a.Il(e,s);if(o!=null&&o.priceRange){const g=new $e(o.priceRange.minValue,o.priceRange.maxValue);r=r!==null?r.ts(g):g}var h,c,d,f;o!=null&&o.margins&&(h=l,c=o.margins,l={above:Math.max((d=h==null?void 0:h.above)!==null&&d!==void 0?d:0,c.above),below:Math.max((f=h==null?void 0:h.below)!==null&&f!==void 0?f:0,c.below)})}),new Nr(r,l)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const s=this.cn.crosshairMarkerBackgroundColor;if(s.length!==0)return s}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new Zv(this.cn.priceFormat.precision);break;case"percent":this.wa=new Xf(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new Xr(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const s=j(this.zt.el());this.Wl=this.Fl.map((i,n)=>{const r=j(e.Va(i.time,!0)),l=r<s?1:-1;return{time:j(this.zt.ll(r,l)).ee,position:i.position,shape:i.shape,color:i.color,id:i.id,th:n,text:i.text,size:i.size,originalTime:i.originalTime}})}ql(e){switch(this.dn=new zg(this,this.$t()),this.$l){case"Bar":this.wn=new ag(this,this.$t());break;case"Candlestick":this.wn=new fg(this,this.$t());break;case"Line":this.wn=new xg(this,this.$t());break;case"Custom":this.wn=new Sl(this,this.$t(),_e(e));break;case"Area":this.wn=new lg(this,this.$t());break;case"Baseline":this.wn=new cg(this,this.$t());break;case"Histogram":this.wn=new gg(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,s){const i=[];return Cl(this.Hl,e,s,i),i}}class Xg{constructor(e){this.cn=e}Oa(e,s,i){let n=e;if(this.cn.mode===0)return n;const r=i.vn(),l=r.Ct();if(l===null)return n;const a=r.Rt(e,l),o=i.Ba().filter(c=>c instanceof Xa).reduce((c,d)=>{if(i.vr(d)||!d.yt())return c;const f=d.Dt(),g=d.In();if(f.Ni()||!g.Kr(s))return c;const x=g.Gh(s);if(x===null)return c;const y=Ps(d.Ct());return c.concat([f.Rt(x.Vt[3],y.Vt)])},[]);if(o.length===0)return n;o.sort((c,d)=>Math.abs(c-a)-Math.abs(d-a));const h=o[0];return n=r.pn(h,l),n}}class Qg extends rt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.zt===null)return;const r=Math.max(1,Math.floor(i));e.lineWidth=r,function(l,a){l.save(),l.lineWidth%2&&l.translate(.5,.5),a(),l.restore()}(e,()=>{const l=j(this.zt);if(l.Aa){e.strokeStyle=l.Ia,ds(e,l.za),e.beginPath();for(const a of l.La){const o=Math.round(a.Ea*i);e.moveTo(o,-r),e.lineTo(o,s.height+r)}e.stroke()}if(l.Na){e.strokeStyle=l.Fa,ds(e,l.Wa),e.beginPath();for(const a of l.ja){const o=Math.round(a.Ea*n);e.moveTo(-r,o),e.lineTo(s.width+r,o)}e.stroke()}})}}class Gg{constructor(e){this.Wt=new Qg,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,s={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(i=>({Ea:i.coord}))};this.Wt.J(s),this.ft=!1}return this.Wt}}class Yg{constructor(e){this.wn=new Gg(e)}qh(){return this.wn}}const jl={$a:4,Ua:1e-4};function Ls(t,e){const s=100*(t-e)/e;return e<0?-s:s}function Jg(t,e){const s=Ls(t.Ph(),e),i=Ls(t.Rh(),e);return new $e(s,i)}function ki(t,e){const s=100*(t-e)/e+100;return e<0?-s:s}function qg(t,e){const s=ki(t.Ph(),e),i=ki(t.Rh(),e);return new $e(s,i)}function Cr(t,e){const s=Math.abs(t);if(s<1e-15)return 0;const i=Math.log10(s+e.Ua)+e.$a;return t<0?-i:i}function _i(t,e){const s=Math.abs(t);if(s<1e-15)return 0;const i=Math.pow(10,s-e.$a)-e.Ua;return t<0?-i:i}function ci(t,e){if(t===null)return null;const s=Cr(t.Ph(),e),i=Cr(t.Rh(),e);return new $e(s,i)}function Tn(t,e){if(t===null)return null;const s=_i(t.Ph(),e),i=_i(t.Rh(),e);return new $e(s,i)}function kl(t){if(t===null)return jl;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return jl;const s=Math.ceil(Math.abs(Math.log10(e))),i=jl.$a+s;return{$a:i,Ua:1/Math.pow(10,i)}}class _l{constructor(e,s){if(this.qa=e,this.Ya=s,function(i){if(i<0)return!1;for(let n=i;n>1;n/=10)if(n%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let i=this.qa;i!==1;){if(i%2==0)this.Za.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),i/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,s,i){const n=this.qa===0?0:1/this.qa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-s)))),l=0,a=this.Ya[0];for(;;){const d=_n(r,n,1e-14)&&r>n+1e-14,f=_n(r,i*a,1e-14),g=_n(r,1,1e-14);if(!(d&&f&&g))break;r/=a,a=this.Ya[++l%this.Ya.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.Za.length>0&&(o=r,h=1,c=1e-14,Math.abs(o-h)<c))for(l=0,a=this.Za[0];_n(r,i*a,1e-14)&&r>n+1e-14;)r/=a,a=this.Za[++l%this.Za.length];var o,h,c;return r}}class _h{constructor(e,s,i,n){this.Ka=[],this.Li=e,this.qa=s,this.Ga=i,this.Ja=n}Xa(e,s){if(e<s)throw new Error("high < low");const i=this.Li.At(),n=(e-s)*this.Qa()/i,r=new _l(this.qa,[2,2.5,2]),l=new _l(this.qa,[2,2,2.5]),a=new _l(this.qa,[2.5,2,2]),o=[];return o.push(r.Xa(e,s,n),l.Xa(e,s,n),a.Xa(e,s,n)),function(h){if(h.length<1)throw Error("array is empty");let c=h[0];for(let d=1;d<h.length;++d)h[d]<c&&(c=h[d]);return c}(o)}io(){const e=this.Li,s=e.Ct();if(s===null)return void(this.Ka=[]);const i=e.At(),n=this.Ga(i-1,s),r=this.Ga(0,s),l=this.Li.W().entireTextOnly?this.no()/2:0,a=l,o=i-1-l,h=Math.max(n,r),c=Math.min(n,r);if(h===c)return void(this.Ka=[]);let d=this.Xa(h,c),f=h%d;f+=f<0?d:0;const g=h>=c?1:-1;let x=null,y=0;for(let b=h-f;b>c;b-=d){const m=this.Ja(b,s,!0);x!==null&&Math.abs(m-x)<this.Qa()||m<a||m>o||(y<this.Ka.length?(this.Ka[y].Ea=m,this.Ka[y].so=e.eo(b)):this.Ka.push({Ea:m,so:e.eo(b)}),y++,x=m,e.ro()&&(d=this.Xa(b*g,c)))}this.Ka.length=y}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function om(t){return t.slice().sort((e,s)=>j(e.Xi())-j(s.Xi()))}var Mh;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(Mh||(Mh={}));const Th=new Xf,zh=new Xr(100,1);class Zg{constructor(e,s,i,n){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new oe,this.vo=new oe,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=zh,this.xo=kl(null),this.So=e,this.cn=s,this.ko=i,this.yo=n,this.Co=new _h(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(nt(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const s=_e(e.scaleMargins.top),i=_e(e.scaleMargins.bottom);if(s<0||s>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${s}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(s+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${s+i}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const s=this.Cr();let i=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),s.Cr===1&&e.Cr!==s.Cr&&(function(r,l){if(r===null)return!1;const a=_i(r.Ph(),l),o=_i(r.Rh(),l);return isFinite(a)&&isFinite(o)}(this.Ih,this.xo)?(i=Tn(this.Ih,this.xo),i!==null&&this.Ao(i)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==s.Cr&&(i=ci(this.Ih,this.xo),i!==null&&this.Ao(i));const n=s.Cr!==this.cn.mode;n&&(s.Cr===2||this.Mh())&&this.Ra(),n&&(s.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&s.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(s,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,s){const i=this.Ih;(s||i===null&&e!==null||i!==null&&!i.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,s){return this.Mh()?e=Ls(e,s):this.Oo()&&(e=ki(e,s)),this.Po(e,s)}te(e,s,i){this.Wo();const n=this.Fo(),r=j(this.Lh()),l=r.Ph(),a=r.Rh(),o=this.Eo()-1,h=this.Bo(),c=o/(a-l),d=i===void 0?0:i.from,f=i===void 0?e.length:i.to,g=this.Ho();for(let x=d;x<f;x++){const y=e[x],b=y._t;if(isNaN(b))continue;let m=b;g!==null&&(m=g(y._t,s));const p=n+c*(m-l),v=h?p:this.ho-1-p;y.st=v}}be(e,s,i){this.Wo();const n=this.Fo(),r=j(this.Lh()),l=r.Ph(),a=r.Rh(),o=this.Eo()-1,h=this.Bo(),c=o/(a-l),d=i===void 0?0:i.from,f=i===void 0?e.length:i.to,g=this.Ho();for(let x=d;x<f;x++){const y=e[x];let b=y.ge,m=y.Me,p=y.xe,v=y.Se;g!==null&&(b=g(y.ge,s),m=g(y.Me,s),p=g(y.xe,s),v=g(y.Se,s));let w=n+c*(b-l),S=h?w:this.ho-1-w;y.pe=S,w=n+c*(m-l),S=h?w:this.ho-1-w,y.de=S,w=n+c*(p-l),S=h?w:this.ho-1-w,y.fe=S,w=n+c*(v-l),S=h?w:this.ho-1-w,y.me=S}}pn(e,s){const i=this.To(e,s);return this.$o(i,s)}$o(e,s){let i=e;return this.Mh()?i=function(n,r){return r<0&&(n=-n),n/100*r+r}(i,s):this.Oo()&&(i=function(n,r){return n-=100,r<0&&(n=-n),n/100*r+r}(i,s)),i}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let s=0;s<this.po.length;s++){const i=this.po[s];i.Xi()===null&&i.Ki(s+1),e.push(i)}return e=om(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const s=this.po.indexOf(e);if(s===-1)throw new Error("source is not attached to scale");this.po.splice(s,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const s of this.po){const i=s.Ct();i!==null&&(e===null||i.la<e.la)&&(e=i)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const s=this.Co.Ha();return this.bo={Ha:s,Xo:e},this.fo.m(),s}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=j(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let s=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const i=j(this.ao).Th();s=Math.max(s,.1),i.Vh(s),this.Ao(i)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=j(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const s=j(this.Lh()).Dh()/(this.Eo()-1);let i=e-this.Mo;this.Bo()&&(i*=-1);const n=i*s,r=j(this.ao).Th();r.Oh(n),this.Ao(r,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,s){switch(this.cn.mode){case 2:return this.s_(Ls(e,s));case 3:return this.ba().format(ki(e,s));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,j(this.e_()).ba())}Zl(e,s){return e=Ls(e,s),this.s_(e,Th)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let s=100;e!==null&&(s=Math.round(1/e.ma())),this.wa=zh,this.Mh()?(this.wa=Th,s=100):this.Oo()?(this.wa=new Xr(100,1),s=100):e!==null&&(this.wa=e.ba()),this.Co=new _h(this,s,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,s){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?Cr(e,this.xo):e;const i=j(this.Lh()),n=this.Fo()+(this.Eo()-1)*(e-i.Ph())/i.Dh();return this.jo(n)}To(e,s){if(this.Wo(),this.Ni())return 0;const i=this.jo(e),n=j(this.Lh()),r=n.Ph()+n.Dh()*((i-this.Fo())/(this.Eo()-1));return this.ro()?_i(r,this.xo):r}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let s=null;const i=this.r_();let n=0,r=0;for(const o of i){if(!o.yt())continue;const h=o.Ct();if(h===null)continue;const c=o.Il(e.Os(),e.ui());let d=c&&c.Lh();if(d!==null){switch(this.cn.mode){case 1:d=ci(d,this.xo);break;case 2:d=Jg(d,h.Vt);break;case 3:d=qg(d,h.Vt)}if(s=s===null?d:s.ts(j(d)),c!==null){const f=c.Eh();f!==null&&(n=Math.max(n,f.above),r=Math.max(r,f.below))}}}if(n===this.co&&r===this.do||(this.co=n,this.do=r,this.bo=null,this.Do()),s!==null){if(s.Ph()===s.Rh()){const o=this.e_(),h=5*(o===null||this.Mh()||this.Oo()?1:o.ma());this.ro()&&(s=Tn(s,this.xo)),s=new $e(s.Ph()-h,s.Rh()+h),this.ro()&&(s=ci(s,this.xo))}if(this.ro()){const o=Tn(s,this.xo),h=kl(o);if(l=h,a=this.xo,l.$a!==a.$a||l.Ua!==a.Ua){const c=this.ao!==null?Tn(this.ao,this.xo):null;this.xo=h,s=ci(o,h),c!==null&&(this.ao=ci(c,h))}}this.Ao(s)}else this.Ih===null&&(this.Ao(new $e(-.5,.5)),this.xo=kl(null));var l,a;this.oo._o=!0}Ho(){return this.Mh()?Ls:this.Oo()?ki:this.ro()?e=>Cr(e,this.xo):null}a_(e,s,i){return s===void 0?(i===void 0&&(i=this.ba()),i.format(e)):s(e)}Wh(e,s){return this.a_(e,this.yo.priceFormatter,s)}s_(e,s){return this.a_(e,this.yo.percentageFormatter,s)}}class ex{constructor(e,s){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new oe,this.yl=e,this.$i=s,this.d_=new Yg(this);const i=s.W();this.f_=this.v_("left",i.leftPriceScale),this.p_=this.v_("right",i.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(i)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const s=Array.from(this.o_.values());for(const i of s){const n=j(i[0].Dt());n.$h(e.overlayPriceScales),e.localization&&n.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?_e(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(s=>{if(this.vr(s)){const i=s.Dt();i!==null&&i.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const s=e.Dt();return s===null||this.f_!==s&&this.p_!==s}qo(e,s,i){const n=i!==void 0?i:this.C_().y_+1;this.T_(e,s,n)}Zo(e){const s=this.po.indexOf(e);Ht(s!==-1,"removeDataSource: invalid data source"),this.po.splice(s,1);const i=j(e.Dt()).Pa();if(this.o_.has(i)){const r=_e(this.o_.get(i)),l=r.indexOf(e);l!==-1&&(r.splice(l,1),r.length===0&&this.o_.delete(i))}const n=e.Dt();n&&n.Ba().indexOf(e)>=0&&n.Zo(e),n!==null&&(n.Yo(),this.P_(n)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,s){e.Go(s)}O_(e,s){e.Jo(s),this.k_()}B_(e){e.Qo()}A_(e,s){e.t_(s)}I_(e,s){e.i_(s),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const s=this.yl.Xs();e.Ro({Wn:!0}),s!==null&&e.h_(s),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=om(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const s=e.r_();if(s&&s.length>0&&!this.yl.Ni()){const i=this.yl.Xs();i!==null&&e.h_(i)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let s=0,i=0;for(let n=0;n<e.length;n++){const r=e[n].Xi();r!==null&&(r<s&&(s=r),r>i&&(i=r))}return{H_:s,y_:i}}T_(e,s,i){let n=this.w_(s);if(n===null&&(n=this.v_(s,this.$i.W().overlayPriceScales)),this.po.push(e),!Kr(s)){const r=this.o_.get(s)||[];r.push(e),this.o_.set(s,r)}n.qo(e),e.Gi(n),e.Ki(i),this.P_(n),this.mo=null}m_(e,s,i){s.Cr!==i.Cr&&this.L_(e)}v_(e,s){const i=Object.assign({visible:!0,autoScale:!0},xt(s)),n=new Zg(e,i,this.$i.W().layout,this.$i.W().localization);return n.Lo(this.At()),n}}class tx{constructor(e,s,i=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=s,this.ir=i}Y_(e){const s=e.time,i=this.q_.cacheKey(s),n=this.tr.get(i);if(n!==void 0)return n.Z_;if(this.Ke===this.ir){const l=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(_e(l)),this.Je++,this.Ke--}const r=this.U_(e);return this.tr.set(i,{Z_:r,rr:this.Ge}),this.Qe.set(this.Ge,i),this.Ke++,this.Ge++,r}}class Mi{constructor(e,s){Ht(e<=s,"right should be >= left"),this.X_=e,this.K_=s}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function Ph(t,e){return t===null||e===null?t===e:t.Ch(e)}class sx{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,s){this.nu(s),this.tr=null;for(let i=s;i<e.length;++i){const n=e[i];let r=this.J_.get(n.timeWeight);r===void 0&&(r=[],this.J_.set(n.timeWeight,r)),r.push({index:i,time:n.time,weight:n.timeWeight,originalTime:n.originalTime})}}su(e,s){const i=Math.ceil(s/e);return this.tr!==null&&this.tr.eu===i||(this.tr={Ha:this.ru(i),eu:i}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const s=[];this.J_.forEach((i,n)=>{e<=i[0].index?s.push(n):i.splice(on(i,e,r=>r.index<e),1/0)});for(const i of s)this.J_.delete(i)}ru(e){let s=[];for(const i of Array.from(this.J_.keys()).sort((n,r)=>r-n)){if(!this.J_.get(i))continue;const n=s;s=[];const r=n.length;let l=0;const a=_e(this.J_.get(i)),o=a.length;let h=1/0,c=-1/0;for(let d=0;d<o;d++){const f=a[d],g=f.index;for(;l<r;){const x=n[l],y=x.index;if(!(y<g)){h=y;break}l++,s.push(x),c=y,h=1/0}if(h-g>=e&&g-c>=e)s.push(f),c=g;else if(this.Q_)return n}for(;l<r;l++)s.push(n[l])}return s}}class Bs{constructor(e){this.hu=e}lu(){return this.hu===null?null:new Mi(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new Bs(null)}}function ix(t,e){return t.weight>e.weight?t:e}class nx{constructor(e,s,i,n){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new sx,this.du=new Map,this.fu=Bs.ou(),this.vu=!0,this.pu=new oe,this.mu=new oe,this.bu=new oe,this.wu=null,this.gu=null,this.Mu=[],this.cn=s,this.yo=i,this.xu=s.rightOffset,this.Su=s.barSpacing,this.$i=e,this.q_=n,this.ku(),this.cu.tu(s.uniformDistribution)}W(){return this.cn}yu(e){nt(this.yo,e),this.Cu(),this.ku()}$h(e,s){var i;nt(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((i=e.barSpacing)!==null&&i!==void 0?i:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var s,i;return(i=(s=this.uu[e])===null||s===void 0?void 0:s.time)!==null&&i!==void 0?i:null}Ui(e){var s;return(s=this.uu[e])!==null&&s!==void 0?s:null}Va(e,s){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return s?this.uu.length-1:null;const i=on(this.uu,this.q_.key(e),(n,r)=>this.q_.key(n.time)<r);return this.q_.key(e)<this.q_.key(this.uu[i].time)?s?i:null:i}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const s={from:e.Os(),to:e.ui()};return this.Ou(s)}Ou(e){const s=Math.round(e.from),i=Math.round(e.to),n=j(this.Bu()),r=j(this.Au());return{from:j(this.Ui(Math.max(n,s))),to:j(this.Ui(Math.min(r,i)))}}Iu(e){return{from:j(this.Va(e.from,!0)),to:j(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const s=this.Du(),i=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&i!==0){const n=this.Su*e/i;this.Su=n}if(this.cn.fixLeftEdge&&s!==null&&s.Os()<=0){const n=i-e;this.xu-=Math.round(n/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!Gi(e))return 0;const s=this.Eu()+this.xu-e;return this.__-(s+.5)*this.Su-1}Qs(e,s){const i=this.Eu(),n=s===void 0?0:s.from,r=s===void 0?e.length:s.to;for(let l=n;l<r;l++){const a=e[l].ot,o=i+this.xu-a,h=this.__-(o+.5)*this.Su-1;e[l].nt=h}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,s=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(s/e),n=j(this.Xs()),r=Math.max(n.Os(),n.Os()-i),l=Math.max(n.ui(),n.ui()-i),a=this.cu.su(e,s),o=this.Bu()+i,h=this.Au()-i,c=this.$u(),d=this.cn.fixLeftEdge||c,f=this.cn.fixRightEdge||c;let g=0;for(const x of a){if(!(r<=x.index&&x.index<=l))continue;let y;g<this.Mu.length?(y=this.Mu[g],y.coord=this.It(x.index),y.label=this.Uu(x),y.weight=x.weight):(y={needAlignCoordinate:!1,coord:this.It(x.index),label:this.Uu(x),weight:x.weight},this.Mu.push(y)),this.Su>s/2&&!c?y.needAlignCoordinate=!1:y.needAlignCoordinate=d&&x.index<=o||f&&x.index>=h,g++}return this.Mu.length=g,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,s){const i=this.Fu(e),n=this.le(),r=n+s*(n/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(i-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const s=$o(this.__-e,0,this.__),i=$o(this.__-j(this.wo),0,this.__);s!==0&&i!==0&&this.Gn(this.wu.le*s/i)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const s=(this.Mo-e)/this.le();this.xu=j(this.wu).Hu+s,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,s=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(s)||s<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.xu,n=performance.now();this.$i.Zn({Qu:r=>(r-n)/s>=1,tc:r=>{const l=(r-n)/s;return l>=1?e:i+(e-i)*l}})}bt(e,s){this.vu=!0,this.uu=e,this.cu.iu(e,s),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const s=e.G_();this.ju(this.__/s),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),s=this.Au();e!==null&&s!==null&&this.rc(new Mi(e,s+this.cn.rightOffset))}lc(e){const s=new Mi(e.from,e.to);this.rc(s)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:s}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||s.axisDoubleClickReset.time||s.axisPressedMouseMove.time||s.mouseWheel||s.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const s=this.ac(e),i=this.Eu()+this.xu-s;return Math.round(1e6*i)/1e6}ju(e){const s=this.Su;this.Su=e,this.zu(),s!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(Bs.ou());const e=this.Eu(),s=this.__/this.Su,i=this.xu+e,n=new Mi(i-s+1,i);this._c(new Bs(n))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const s=.5*this.__;this.Su>s&&(this.Su=s,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const s=this.dc();this.xu>s&&(this.xu=s,this.vu=!0)}cc(){const e=this.Bu(),s=this._u;return e===null||s===null?null:e-s-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let s=this.du.get(e.weight);return s===void 0&&(s=new tx(i=>this.fc(i),this.q_),this.du.set(e.weight,s)),s.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const s=this.fu;this.fu=e,Ph(s.lu(),this.fu.lu())||this.pu.m(),Ph(s.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const s=this.Xs();if(s===null)return;const i=s.Os()-e;if(i<0){const n=this.xu-i-1;this.Jn(n)}this.zu()}Pu(){this.Lu(),this.zu()}}class rx{X(e,s,i){e.useMediaCoordinateSpace(n=>this.K(n,s,i))}gl(e,s,i){e.useMediaCoordinateSpace(n=>this.vc(n,s,i))}vc(e,s,i){}}class lx extends rx{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:s,mediaSize:i}=e;let n=0;for(const l of this.zt.bc){if(l.Kt.length===0)continue;s.font=l.R;const a=this.wc(s,l.Kt);a>i.width?l.Zu=i.width/a:l.Zu=1,n+=l.gc*l.Zu}let r=0;switch(this.zt.Mc){case"top":r=0;break;case"center":r=Math.max((i.height-n)/2,0);break;case"bottom":r=Math.max(i.height-n,0)}s.fillStyle=this.zt.V;for(const l of this.zt.bc){s.save();let a=0;switch(this.zt.xc){case"left":s.textAlign="left",a=l.gc/2;break;case"center":s.textAlign="center",a=i.width/2;break;case"right":s.textAlign="right",a=i.width-1-l.gc/2}s.translate(a,r),s.textBaseline="top",s.font=l.R,s.scale(l.Zu,l.Zu),s.fillText(l.Kt,0,l.Sc),s.restore(),r+=l.gc*l.Zu}}wc(e,s){const i=this.kc(e.font);let n=i.get(s);return n===void 0&&(n=e.measureText(s).width,i.set(s,n)),n}kc(e){let s=this.mc.get(e);return s===void 0&&(s=new Map,this.mc.set(e,s)),s}}class ox{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new lx(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),s=this.Ft;s.yt=e.visible,s.yt&&(s.V=e.color,s.xc=e.horzAlign,s.Mc=e.vertAlign,s.bc=[{Kt:e.text,R:Gs(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class ax extends Va{constructor(e,s){super(),this.cn=s,this.wn=new ox(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var Lh,Dh,Rh,$h,Oh;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(Lh||(Lh={}));class ux{constructor(e,s,i){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new oe,this.Rc=new oe,this.Dc=null,this.Vc=e,this.cn=s,this.q_=i,this.Oc=new Iv(this),this.yl=new nx(this,s.timeScale,this.cn.localization,i),this.vt=new qv(this,s.crosshair),this.Bc=new Xg(s.crosshair),this.Ac=new ax(this,s.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(ge.es())}Uh(){this.Nc(ge.ss())}oa(){this.Nc(new ge(1))}Gl(e){const s=this.Fc(e);this.Nc(s)}Wc(){return this.Tc}jc(e){const s=this.Tc;this.Tc=e,s!==null&&this.Gl(s.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){nt(this.cn,e),this.yc.forEach(s=>s.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,s){if(e==="left")return void this.$h({leftPriceScale:s});if(e==="right")return void this.$h({rightPriceScale:s});const i=this.Uc(e);i!==null&&(i.Dt.$h(s),this.Pc.m())}Uc(e){for(const s of this.yc){const i=s.w_(e);if(i!==null)return{Ht:s,Dt:i}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,s){e.Lo(s),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(s=>s.S_(e)),this.Wu()}Ic(e){const s=new ex(this.yl,this);e!==void 0?this.yc.splice(e,0,s):this.yc.push(s);const i=e===void 0?this.yc.length-1:e,n=ge.es();return n.Nn(i,{Fn:0,Wn:!0}),this.Nc(n),s}V_(e,s,i){e.V_(s,i)}O_(e,s,i){e.O_(s,i),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,s){e.B_(s),this.Nc(this.Gc(e,2))}A_(e,s,i){s.Vo()||e.A_(s,i)}I_(e,s,i){s.Vo()||(e.I_(s,i),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,s){s.Vo()||(e.z_(s),this.Nc(this.Gc(e,2)))}E_(e,s){e.E_(s),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,s){const i=this.St();if(i.Ni()||s===0)return;const n=i.Hi();e=Math.max(1,Math.min(e,n)),i.Zu(e,s),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,s,i,n,r){this.vt.gn(e,s);let l=NaN,a=this.yl.Nu(e);const o=this.yl.Xs();o!==null&&(a=Math.min(Math.max(o.Os(),a),o.ui()));const h=n.vn(),c=h.Ct();c!==null&&(l=h.pn(s,c)),l=this.Bc.Oa(l,a,n),this.vt.kn(a,l,n),this.oa(),r||this.Rc.m(this.vt.xt(),{x:e,y:s},i)}ad(e,s,i){const n=i.vn(),r=n.Ct(),l=n.Rt(e,j(r)),a=this.yl.Va(s,!0),o=this.yl.It(j(a));this.ld(o,l,null,i,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const s=this.vt.xn(),i=this.vt.Sn();this.ld(s,i,null,e)}this.vt.Vn()}_d(e,s,i){const n=this.yl.mn(0);s!==void 0&&i!==void 0&&this.yl.bt(s,i);const r=this.yl.mn(0),l=this.yl.Eu(),a=this.yl.Xs();if(a!==null&&n!==null&&r!==null){const o=a.Kr(l),h=this.q_.key(n)>this.q_.key(r),c=e!==null&&e>l&&!h,d=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=o&&(i!==void 0||d)&&this.yl.W().shiftVisibleRangeOnNewBar;if(c&&!f){const g=e-l;this.yl.Jn(this.yl.Hu()-g)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const s=this.yc.find(i=>i.Uo().includes(e));return s===void 0?null:s}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,s,i){const n=this.yc[0],r=this.fd(s,e,n,i);return this.Cc.push(r),this.Cc.length===1?this.Kl():this.Uh(),r}vd(e){const s=this.dr(e),i=this.Cc.indexOf(e);Ht(i!==-1,"Series not found"),this.Cc.splice(i,1),j(s).Zo(e),e.S&&e.S()}Xl(e,s){const i=j(this.dr(e));i.Zo(e);const n=this.Uc(s);if(n===null){const r=e.Xi();i.qo(e,s,r)}else{const r=n.Ht===i?e.Xi():void 0;n.Ht.qo(e,s,r)}}hc(){const e=ge.ss();e.$n(),this.Nc(e)}pd(e){const s=ge.ss();s.Yn(e),this.Nc(s)}Kn(){const e=ge.ss();e.Kn(),this.Nc(e)}Gn(e){const s=ge.ss();s.Gn(e),this.Nc(s)}Jn(e){const s=ge.ss();s.Jn(e),this.Nc(s)}Zn(e){const s=ge.ss();s.Zn(e),this.Nc(s)}Un(){const e=ge.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const s=this.Ec,i=this.zc;if(s===i)return s;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==i||this.Dc.Rs!==s)this.Dc={Ps:i,Rs:s,wd:new Map};else{const r=this.Dc.wd.get(e);if(r!==void 0)return r}const n=function(r,l,a){const[o,h,c,d]=Qi(r),[f,g,x,y]=Qi(l),b=[Ve(o+a*(f-o)),Ve(h+a*(g-h)),Ve(c+a*(x-c)),Vf(d+a*(y-d))];return`rgba(${b[0]}, ${b[1]}, ${b[2]}, ${b[3]})`}(i,s,e/100);return this.Dc.wd.set(e,n),n}Gc(e,s){const i=new ge(s);if(e!==null){const n=this.yc.indexOf(e);i.Nn(n,{Fn:s})}return i}Fc(e,s){return s===void 0&&(s=2),this.Gc(this.dr(e),s)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(s=>s.j_().qh().bt())}fd(e,s,i,n){const r=new Xa(this,e,s,i,n),l=e.priceScaleId!==void 0?e.priceScaleId:this.md();return i.qo(r,l),Kr(l)||r.$h(e),r}Lc(e){const s=this.cn.layout;return s.background.type==="gradient"?e===0?s.background.topColor:s.background.bottomColor:s.background.color}}function Oo(t){return!ct(t)&&!ln(t)}function am(t){return ct(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(Dh||(Dh={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Rh||(Rh={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}($h||($h={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Oh||(Oh={}));const Fh=t=>t.getUTCFullYear();function hx(t,e,s){return e.replace(/yyyy/g,(i=>yt(Fh(i),4))(t)).replace(/yy/g,(i=>yt(Fh(i)%100,2))(t)).replace(/MMMM/g,((i,n)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(n,{month:"long"}))(t,s)).replace(/MMM/g,((i,n)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(n,{month:"short"}))(t,s)).replace(/MM/g,(i=>yt((n=>n.getUTCMonth()+1)(i),2))(t)).replace(/dd/g,(i=>yt((n=>n.getUTCDate())(i),2))(t))}class um{constructor(e="yyyy-MM-dd",s="default"){this.gd=e,this.Md=s}Y_(e){return hx(e,this.gd,this.Md)}}class cx{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",yt(e.getUTCHours(),2)).replace("%m",yt(e.getUTCMinutes(),2)).replace("%s",yt(e.getUTCSeconds(),2))}}const dx={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class fx{constructor(e={}){const s=Object.assign(Object.assign({},dx),e);this.Td=new um(s.Sd,s.Cd),this.Pd=new cx(s.kd),this.Rd=s.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function zn(t){return 60*t*60*1e3}function Ml(t){return 60*t*1e3}const Pn=[{Dd:(Ah=1,1e3*Ah),Vd:10},{Dd:Ml(1),Vd:20},{Dd:Ml(5),Vd:21},{Dd:Ml(30),Vd:22},{Dd:zn(1),Vd:30},{Dd:zn(3),Vd:31},{Dd:zn(6),Vd:32},{Dd:zn(12),Vd:33}];var Ah;function Bh(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let s=Pn.length-1;s>=0;--s)if(Math.floor(e.getTime()/Pn[s].Dd)!==Math.floor(t.getTime()/Pn[s].Dd))return Pn[s].Vd;return 0}function Tl(t){let e=t;if(ln(t)&&(e=Qa(t)),!Oo(e))throw new Error("time must be of type BusinessDay");const s=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(s.getTime()/1e3),Bd:e}}function Ih(t){if(!am(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function Qa(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Uh(t){ln(t.time)&&(t.time=Qa(t.time))}class Vh{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(s){s.forEach(Uh)}(e):Uh(e)}createConverterToInternalObj(e){return j(function(s){return s.length===0?null:Oo(s[0].time)||ln(s[0].time)?Tl:Ih}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const s=e;return s.Bd===void 0?new Date(1e3*s.Od).getTime():new Date(Date.UTC(s.Bd.year,s.Bd.month-1,s.Bd.day)).getTime()}convertHorzItemToInternal(e){return am(s=e)?Ih(s):Oo(s)?Tl(s):Tl(Qa(s));var s}updateFormatter(e){if(!this.cn)return;const s=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new fx({Sd:s,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new um(s,e.locale)}formatHorzItem(e){const s=e;return this.Ad.Y_(new Date(1e3*s.Od))}formatTickmark(e,s){const i=function(r,l,a){switch(r){case 0:case 10:return l?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return l?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),n=this.cn.timeScale;if(n.tickMarkFormatter!==void 0){const r=n.tickMarkFormatter(e.originalTime,i,s.locale);if(r!==null)return r}return function(r,l,a){const o={};switch(l){case 0:o.year="numeric";break;case 1:o.month="short";break;case 2:o.day="numeric";break;case 3:o.hour12=!1,o.hour="2-digit",o.minute="2-digit";break;case 4:o.hour12=!1,o.hour="2-digit",o.minute="2-digit",o.second="2-digit"}const h=r.Bd===void 0?new Date(1e3*r.Od):new Date(Date.UTC(r.Bd.year,r.Bd.month-1,r.Bd.day));return new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()).toLocaleString(a,o)}(e.time,i,s.locale)}maxTickMarkWeight(e){let s=e.reduce(ix,e[0]).weight;return s>30&&s<50&&(s=30),s}fillWeightsForPoints(e,s){(function(i,n=0){if(i.length===0)return;let r=n===0?null:i[n-1].time.Od,l=r!==null?new Date(1e3*r):null,a=0;for(let o=n;o<i.length;++o){const h=i[o],c=new Date(1e3*h.time.Od);l!==null&&(h.timeWeight=Bh(c,l)),a+=h.time.Od-(r||h.time.Od),r=h.time.Od,l=c}if(n===0&&i.length>1){const o=Math.ceil(a/(i.length-1)),h=new Date(1e3*(i[0].time.Od-o));i[0].timeWeight=Bh(new Date(1e3*i[0].time.Od),h)}})(e,s)}static Id(e){return nt({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Ys=typeof window<"u";function Wh(){return!!Ys&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function zl(){return!!Ys&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Fo(t){return t+t%2}function Pl(t,e){return t.zd-e.zd}function Ll(t,e,s){const i=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(i)*Math.min(Math.abs(i),s)}class mx{constructor(e,s,i,n){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=s,this.qd=i,this.rs=n}Yd(e,s){if(this.Ld!==null){if(this.Ld.ot===s)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:s,zd:e}}Vr(e,s){if(this.Ld===null||this.Ed===null||s-this.Ld.ot>50)return;let i=0;const n=Ll(this.Ld,this.Ed,this.Ud),r=Pl(this.Ld,this.Ed),l=[n],a=[r];if(i+=r,this.Nd!==null){const h=Ll(this.Ed,this.Nd,this.Ud);if(Math.sign(h)===Math.sign(n)){const c=Pl(this.Ed,this.Nd);if(l.push(h),a.push(c),i+=c,this.Fd!==null){const d=Ll(this.Nd,this.Fd,this.Ud);if(Math.sign(d)===Math.sign(n)){const f=Pl(this.Nd,this.Fd);l.push(d),a.push(f),i+=f}}}}let o=0;for(let h=0;h<l.length;++h)o+=a[h]/i*l[h];Math.abs(o)<this.$d||(this.Wd={zd:e,ot:s},this.Hd=o,this.jd=function(h,c){const d=Math.log(c);return Math.log(1*d/-h)/d}(Math.abs(o),this.qd))}tc(e){const s=j(this.Wd),i=e-s.ot;return s.zd+this.Hd*(Math.pow(this.qd,i)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const s=e-j(this.Wd).ot;return Math.min(s,this.jd)}}class px{constructor(e,s){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=s,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return Wf(Qi(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function fs(t,e){const s=j(t.ownerDocument).createElement("canvas");t.appendChild(s);const i=jv(s,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(n,r)=>({width:Math.max(n.width,r.width),height:Math.max(n.height,r.height)})});return i.resizeCanvasElement(e),i}function ms(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function Ao(t,e,s,i){t.gl&&t.gl(e,s,i)}function Gn(t,e,s,i){t.X(e,s,i)}function Bo(t,e,s,i){const n=t(s,i);for(const r of n){const l=r.gt();l!==null&&e(l)}}function vx(t){Ys&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Ga{constructor(e,s,i){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!zl(),this.Af=n=>{this.If(n)},this.zf=n=>{if(this.Lf(n)){const r=this.Ef(n);if(++this._f,this.uf&&this._f>1){const{Nf:l}=this.Ff(at(n),this.cf);l<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}}else{const r=this.Ef(n);if(++this.hf,this.lf&&this.hf>1){const{Nf:l}=this.Ff(at(n),this.af);l<5&&!this.bf&&this.Uf(r,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=s,this.cn=i,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const s=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",s)},this.Zf.addEventListener("mousemove",s),this.Lf(e))return;const i=this.Ef(e);this.Uf(i,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const s=this.Ef(e);this.Uf(s,this.Hf.tv),this.Bf=!0}iv(e){const s=Dl(e.changedTouches,j(this.Of));if(s===null||(this.Vf=Ln(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const i=this.Ff(at(s),j(this.pf)),{nv:n,sv:r,Nf:l}=i;if(this.mf||!(l<5)){if(!this.mf){const a=.5*n,o=r>=a&&!this.cn.ev(),h=a>r&&!this.cn.rv();o||h||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const a=this.Ef(e,s);this.Wf(a,this.Hf.hv),xs(e)}}}lv(e){if(e.button!==0)return;const s=this.Ff(at(e),j(this.vf)),{Nf:i}=s;if(i>=5&&(this.bf=!0,this.Yf()),this.bf){const n=this.Ef(e);this.Uf(n,this.Hf.av)}}Ff(e,s){const i=Math.abs(s.nt-e.nt),n=Math.abs(s.st-e.st);return{nv:i,sv:n,Nf:i+n}}ov(e){let s=Dl(e.changedTouches,j(this.Of));if(s===null&&e.touches.length===0&&(s=e.changedTouches[0]),s===null)return;this.Of=null,this.Vf=Ln(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const i=this.Ef(e,s);if(this.Wf(i,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:n}=this.Ff(at(s),this.cf);n<30&&!this.wf&&this.Wf(i,this.Hf.jf),this.$f()}else this.wf||(this.Wf(i,this.Hf.uv),this.Hf.uv&&xs(e));this._f===0&&xs(e),e.touches.length===0&&this.ff&&(this.ff=!1,xs(e))}If(e){if(e.button!==0)return;const s=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),Wh()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(s,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:i}=this.Ff(at(e),this.af);i<5&&!this.bf&&this.Uf(s,this.Hf.qf),this.Yf()}else this.bf||this.Uf(s,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const s=e.changedTouches[0];this.Of=s.identifier,this.Vf=Ln(e);const i=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=at(s),this.yf&&(this.yf(),this.yf=null);{const r=this.iv.bind(this),l=this.ov.bind(this);this.yf=()=>{i.removeEventListener("touchmove",r),i.removeEventListener("touchend",l)},i.addEventListener("touchmove",r,{passive:!1}),i.addEventListener("touchend",l,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const n=this.Ef(e,s);this.Wf(n,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=at(s))}mv(e){if(e.button!==0)return;const s=this.Zf.ownerDocument.documentElement;Wh()&&s.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=at(e),this.kf&&(this.kf(),this.kf=null);{const n=this.lv.bind(this),r=this.If.bind(this);this.kf=()=>{s.removeEventListener("mousemove",n),s.removeEventListener("mouseup",r)},s.addEventListener("mousemove",n),s.addEventListener("mouseup",r)}if(this.Df=!0,this.Lf(e))return;const i=this.Ef(e);this.Uf(i,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=at(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,s=i=>{this.Hf.wv&&(i.composed&&this.Zf.contains(i.composedPath()[0])||i.target&&this.Zf.contains(i.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",s)},this.gf=()=>{e.removeEventListener("mousedown",s)},e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!0})}zl()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),vx(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const s=Hh(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,s),xs(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const s=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-s.left+(e[1].clientX-s.left))/2,st:(e[0].clientY-s.top+(e[1].clientY-s.top))/2},this.Tf=Hh(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const s=this.Ef(e);this.Uf(s,this.Hf.Pv),this.Bf=!zl()}vv(e){const s=Dl(e.touches,j(this.Of));if(s===null)return;const i=this.Ef(e,s);this.Wf(i,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Ln(e)<this.Vf+500}Wf(e,s){s&&s.call(this.Hf,e)}Uf(e,s){s&&s.call(this.Hf,e)}Ef(e,s){const i=s||e,n=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-n.left,localY:i.clientY-n.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:i.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&xs(e)}}}}function Hh(t,e){const s=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(s*s+i*i)}function xs(t){t.cancelable&&t.preventDefault()}function at(t){return{nt:t.pageX,st:t.pageY}}function Ln(t){return t.timeStamp||performance.now()}function Dl(t,e){for(let s=0;s<t.length;++s)if(t[s].identifier===e)return t[s];return null}function Dn(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function gx(t,e,s){for(const i of t){const n=i.gt();if(n!==null&&n.wr){const r=n.wr(e,s);if(r!==null)return{Bv:i,Iv:r}}}return null}function Rl(t,e){return s=>{var i,n,r,l;return((n=(i=s.Dt())===null||i===void 0?void 0:i.Pa())!==null&&n!==void 0?n:"")!==e?[]:(l=(r=s.da)===null||r===void 0?void 0:r.call(s,t))!==null&&l!==void 0?l:[]}}function Kh(t,e,s,i){if(!t.length)return;let n=0;const r=s/2,l=t[0].At(i,!0);let a=e===1?r-(t[0].Vi()-l/2):t[0].Vi()-l/2-r;a=Math.max(0,a);for(let o=1;o<t.length;o++){const h=t[o],c=t[o-1],d=c.At(i,!1),f=h.Vi(),g=c.Vi();if(e===1?f>g-d:f<g+d){const x=g-d*e;h.Oi(x);const y=x-e*d/2;if((e===1?y<0:y>s)&&a>0){const b=e===1?-1-y:y-s,m=Math.min(b,a);for(let p=n;p<t.length;p++)t[p].Oi(t[p].Vi()+e*m);a-=m}}else n=o,a=e===1?g-d-f:f-(g+d)}}class Xh{constructor(e,s,i,n){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new Ji(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=s,this.ko=s.layout,this.Oc=i,this.qv=n==="left",this.Yv=Rl("normal",n),this.Zv=Rl("top",n),this.Xv=Rl("bottom",n),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=fs(this.Kv,J({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=fs(this.Kv,J({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const l=this.Jv.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0";const a={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new Ga(this.Jv.canvasElement,a,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ms(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ms(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const s=this.ap(),i=j(this.Gv.canvasElement.getContext("2d"));i.save();const n=this.Li.Ha();i.font=this._p(),n.length>0&&(e=Math.max(this.Fv.xi(i,n[0].so),this.Fv.xi(i,n[n.length-1].so)));const r=this.up();for(let h=r.length;h--;){const c=this.Fv.xi(i,r[h].Kt());c>e&&(e=c)}const l=this.Li.Ct();if(l!==null&&this.Ev!==null&&(a=this.cn.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const h=this.Li.pn(1,l),c=this.Li.pn(this.Ev.height-2,l);e=Math.max(e,this.Fv.xi(i,this.Li.Fi(Math.floor(Math.min(h,c))+.11111111111111,l)),this.Fv.xi(i,this.Li.Fi(Math.ceil(Math.max(h,c))-.11111111111111,l)))}var a;i.restore();const o=e||34;return Fo(Math.ceil(s.C+s.T+s.A+s.I+5+o))}cp(e){this.Ev!==null&&ns(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return j(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,j(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const i=cs(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(n=>{this.mp(n),this.Ie(n)}),this.tn.bp(i,this.Xv),this.wp(i),this.tn.bp(i,this.Yv),this.gp(i))}this.Jv.applySuggestedBitmapSize();const s=cs(this.Jv);s!==null&&(s.useBitmapCoordinateSpace(({context:i,bitmapSize:n})=>{i.clearRect(0,0,n.width,n.height)}),this.Mp(s),this.tn.bp(s,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,s,i){const n=this.xp();n.width>0&&n.height>0&&e.drawImage(this.Gv.canvasElement,s,i)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const s=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!0,s.V_(i,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const s=this.tn.$v().$t(),i=this.tn.fp(),n=this.Li;s.O_(i,n,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),s=this.tn.fp(),i=this.Li;this.Nv&&(this.Nv=!1,e.B_(s,i))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const s=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!1,s.B_(i,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],s=this.Li===null?void 0:this.Li;return(i=>{for(let n=0;n<i.length;++n){const r=i[n].Rn(this.tn.fp(),s);for(let l=0;l<r.length;l++)e.push(r[l])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:s}){const{width:i,height:n}=s,r=this.tn.fp().$t(),l=r.q(),a=r.bd();l===a?Wr(e,0,0,i,n,l):Hf(e,0,0,i,n,l,a)}Ie({context:e,bitmapSize:s,horizontalPixelRatio:i}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const n=Math.max(1,Math.floor(this.ap().C*i));let r;r=this.qv?s.width-n:0,e.fillRect(r,0,n,s.height)}wp(e){if(this.Ev===null||this.Li===null)return;const s=this.Li.Ha(),i=this.Li.W(),n=this.ap(),r=this.qv?this.Ev.width-n.T:0;i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:o})=>{l.fillStyle=i.borderColor;const h=Math.max(1,Math.floor(o)),c=Math.floor(.5*o),d=Math.round(n.T*a);l.beginPath();for(const f of s)l.rect(Math.floor(r*a),Math.round(f.Ea*o)-c,d,h);l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{var a;l.font=this._p(),l.fillStyle=(a=i.textColor)!==null&&a!==void 0?a:this.ko.textColor,l.textAlign=this.qv?"right":"left",l.textBaseline="middle";const o=this.qv?Math.round(r-n.A):Math.round(r+n.T+n.A),h=s.map(c=>this.Fv.Mi(l,c.so));for(let c=s.length;c--;){const d=s[c];l.fillText(d.so,o,d.Ea+h[c])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],s=this.Li.Uo().slice(),i=this.tn.fp(),n=this.ap();this.Li===i.pr()&&this.tn.fp().Uo().forEach(l=>{i.vr(l)&&s.push(l)});const r=this.Li;s.forEach(l=>{l.Rn(i,r).forEach(a=>{a.Oi(null),a.Bi()&&e.push(a)})}),e.forEach(l=>l.Oi(l.ki())),this.Li.W().alignLabels&&this.yp(e,n)}yp(e,s){if(this.Ev===null)return;const i=this.Ev.height/2,n=e.filter(l=>l.ki()<=i),r=e.filter(l=>l.ki()>i);n.sort((l,a)=>a.ki()-l.ki()),r.sort((l,a)=>l.ki()-a.ki());for(const l of e){const a=Math.floor(l.At(s)/2),o=l.ki();o>-a&&o<a&&l.Oi(a),o>this.Ev.height-a&&o<this.Ev.height+a&&l.Oi(this.Ev.height-a)}Kh(n,1,this.Ev.height,s),Kh(r,-1,this.Ev.height,s)}gp(e){if(this.Ev===null)return;const s=this.up(),i=this.ap(),n=this.qv?"right":"left";s.forEach(r=>{r.Ai()&&r.gt(j(this.Li)).X(e,i,this.Fv,n)})}Mp(e){if(this.Ev===null||this.Li===null)return;const s=this.tn.$v().$t(),i=[],n=this.tn.fp(),r=s.Zc().Rn(n,this.Li);r.length&&i.push(r);const l=this.ap(),a=this.qv?"right":"left";i.forEach(o=>{o.forEach(h=>{h.gt(j(this.Li)).X(e,l,this.Fv,a)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return Gs(this.ko.fontSize,this.ko.fontFamily)}}function xx(t,e){var s,i;return(i=(s=t.ua)===null||s===void 0?void 0:s.call(t,e))!==null&&i!==void 0?i:[]}function Rn(t,e){var s,i;return(i=(s=t.Pn)===null||s===void 0?void 0:s.call(t,e))!==null&&i!==void 0?i:[]}function yx(t,e){var s,i;return(i=(s=t.Ji)===null||s===void 0?void 0:s.call(t,e))!==null&&i!==void 0?i:[]}function wx(t,e){var s,i;return(i=(s=t.aa)===null||s===void 0?void 0:s.call(t,e))!==null&&i!==void 0?i:[]}class Ya{constructor(e,s){this.Ev=J({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new oe,this.Op=new oe,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=s,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(i),this.Gv=fs(i,J({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const n=this.Gv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Jv=fs(i,J({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const r=this.Jv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new Ga(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ms(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ms(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return j(this.Np)}qp(e){var s,i;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(Ya.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(s=this.Pp)!==null&&s!==void 0?s:new px(this.Wp,this.Qd),this.Pp.bt()):((i=this.Pp)===null||i===void 0||i.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(j(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(j(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const s=e.localX,i=e.localY;this.Gp(s,i,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var s;if(!this.Np)return;this.Kp();const i=e.localX,n=e.localY;this.Gp(i,n,e);const r=this.wr(i,n);this.Qd.Qp((s=r==null?void 0:r.Lv)!==null&&s!==void 0?s:null),this.$i().jc(r&&{Hc:r.Hc,Iv:r.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const s={x:e.localX,y:e.localY};this.rm(s,s,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,s){if(!this.Qd.W().handleScale.pinch)return;const i=5*(s-this.Bp);this.Bp=s,this.$i().Qc(e.nt,i)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const s=this.$i().Zc();this.Ip!==null&&s.yt()&&(this.Lp={x:s.Yt(),y:s.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const s=e.localX,i=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const n=j(this.Lp),r=n.x+(s-this.Ip.x),l=n.y+(i-this.Ip.y);this.Gp(r,l,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,s){const i=this.Np;return i===null?null:function(n,r,l){const a=n.Uo(),o=function(h,c,d){var f,g;let x,y;for(const p of h){const v=(g=(f=p.va)===null||f===void 0?void 0:f.call(p,c,d))!==null&&g!==void 0?g:[];for(const w of v)b=w.zOrder,(!(m=x==null?void 0:x.zOrder)||b==="top"&&m!=="top"||b==="normal"&&m==="bottom")&&(x=w,y=p)}var b,m;return x&&y?{zv:x,Hc:y}:null}(a,r,l);if((o==null?void 0:o.zv.zOrder)==="top")return Dn(o);for(const h of a){if(o&&o.Hc===h&&o.zv.zOrder!=="bottom"&&!o.zv.isBackground)return Dn(o);const c=gx(h.Pn(n),r,l);if(c!==null)return{Hc:h,Bv:c.Bv,Iv:c.Iv};if(o&&o.Hc===h&&o.zv.zOrder!=="bottom"&&o.zv.isBackground)return Dn(o)}return o!=null&&o.zv?Dn(o):null}(i,e,s)}_m(e,s){j(s==="left"?this.Cp:this.Tp).cp(J({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){ns(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=j(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const s of e.Ba())if(e.vr(s)){const i=s.Dt();i!==null&&e.P_(i),s.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,s,i){const n=this.xp();n.width>0&&n.height>0&&e.drawImage(this.Gv.canvasElement,s,i)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const i=cs(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(n=>{this.mp(n)}),this.Np&&(this.fm(i,xx),this.vm(i),this.pm(i),this.fm(i,Rn),this.fm(i,yx)))}this.Jv.applySuggestedBitmapSize();const s=cs(this.Jv);s!==null&&(s.useBitmapCoordinateSpace(({context:i,bitmapSize:n})=>{i.clearRect(0,0,n.width,n.height)}),this.bm(s),this.fm(s,wx))}wm(){return this.Cp}gm(){return this.Tp}bp(e,s){this.fm(e,s)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,s){const i=s.localX,n=s.localY;e.M()&&e.m(this.$i().St().Nu(i),{x:i,y:n},s)}mp({context:e,bitmapSize:s}){const{width:i,height:n}=s,r=this.$i(),l=r.q(),a=r.bd();l===a?Wr(e,0,0,i,n,a):Hf(e,0,0,i,n,l,a)}vm(e){const s=j(this.Np).j_().qh().gt();s!==null&&s.X(e,!1)}pm(e){const s=this.$i().Yc();this.Mm(e,Rn,Ao,s),this.Mm(e,Rn,Gn,s)}bm(e){this.Mm(e,Rn,Gn,this.$i().Zc())}fm(e,s){const i=j(this.Np).Uo();for(const n of i)this.Mm(e,s,Ao,n);for(const n of i)this.Mm(e,s,Gn,n)}Mm(e,s,i,n){const r=j(this.Np),l=r.$t().Wc(),a=l!==null&&l.Hc===n,o=l!==null&&a&&l.Iv!==void 0?l.Iv.Mr:void 0;Bo(s,h=>i(h,e,a,o),n,r)}Zp(){if(this.Np===null)return;const e=this.Qd,s=this.Np.R_().W().visible,i=this.Np.D_().W().visible;s||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),i||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const n=e.$t().ud();s&&this.Cp===null&&(this.Cp=new Xh(this,e.W(),n,"left"),this.jp.appendChild(this.Cp.lp())),i&&this.Tp===null&&(this.Tp=new Xh(this,e.W(),n,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,s,i){this.$i().ld(this.Sm(e),this.km(s),i,j(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,s,i){this.Ip=e,this.zp=!1,this.Gp(s.x,s.y,i);const n=this.$i().Zc();this.Lp={x:n.Yt(),y:n.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const s=this.$i(),i=this.fp();if(s.z_(i,i.vn()),this.Rp=null,this.Dp=!1,s.ed(),this.Ep!==null){const n=performance.now(),r=s.St();this.Ep.Vr(r.Hu(),n),this.Ep.Qu(n)||s.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)j(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const s=this.$i(),i=s.St();if(i.Ni())return;const n=this.Qd.W(),r=n.handleScroll,l=n.kineticScroll;if((!r.pressedMouseMove||e.Dv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!e.Dv))return;const a=this.Np.vn(),o=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:o,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&l.touch||!e.Dv&&l.mouse){const h=i.le();this.Ep=new mx(.2/h,7/h,.997,15/h),this.Ep.Yd(i.Hu(),this.Rp.Od)}else this.Ep=null;a.Ni()||s.A_(this.Np,a,e.localY),s.nd(e.localX),this.Dp=!0}this.Dp&&(a.Ni()||s.I_(this.Np,a,e.localY),s.sd(e.localX),this.Ep!==null&&this.Ep.Yd(i.Hu(),o))}}class Qh{constructor(e,s,i,n,r){this.ft=!0,this.Ev=J({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=i.ud,this.cn=s,this.Tm=n,this.Pm=r,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=fs(this.Kv,J({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ms(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){ns(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const s=cs(this.Gv);s!==null&&s.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)})}xp(){return this.Gv.bitmapSize}Sp(e,s,i){const n=this.xp();n.width>0&&n.height>0&&e.drawImage(this.Gv.canvasElement,s,i)}Ie({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:n}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Oc.W().C*i),l=Math.floor(this.Oc.W().C*n),a=this.qv?s.width-r:0;e.fillRect(a,0,r,l)}mp({context:e,bitmapSize:s}){Wr(e,0,0,s.width,s.height,this.Pm())}}function Ja(t){return e=>{var s,i;return(i=(s=e.fa)===null||s===void 0?void 0:s.call(e,t))!==null&&i!==void 0?i:[]}}const bx=Ja("normal"),Sx=Ja("top"),Nx=Ja("bottom");class Cx{constructor(e,s){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=J({width:0,height:0}),this.Om=new oe,this.Fv=new Ji(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=s,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=fs(this.Im,J({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=fs(this.Im,J({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const n=this.Jv.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new Ga(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ms(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ms(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const s=this.Qd.$t();!s.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&s.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const s=this.Qd.$t();!s.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&s.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,s,i){ns(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(J({width:s,height:e.height})),this.Dm!==null&&this.Dm.cp(J({width:i,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,s,i){const n=this.xp();n.width>0&&n.height>0&&e.drawImage(this.Gv.canvasElement,s,i)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const i=cs(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(n=>{this.mp(n),this.Ie(n),this.$m(i,Nx)}),this.wp(i),this.$m(i,bx)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const s=cs(this.Jv);s!==null&&(s.useBitmapCoordinateSpace(({context:i,bitmapSize:n})=>{i.clearRect(0,0,n.width,n.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],s),this.$m(s,Sx))}$m(e,s){const i=this.Qd.$t().wt();for(const n of i)Bo(s,r=>Ao(r,e,!1,void 0),n,void 0);for(const n of i)Bo(s,r=>Gn(r,e,!1,void 0),n,void 0)}mp({context:e,bitmapSize:s}){Wr(e,0,0,s.width,s.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:s,verticalPixelRatio:i}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const n=Math.max(1,Math.floor(this.jm().C*i));e.fillRect(0,0,s.width,n)}}wp(e){const s=this.Qd.$t().St(),i=s.Ha();if(!i||i.length===0)return;const n=this.q_.maxTickMarkWeight(i),r=this.jm(),l=s.W();l.borderVisible&&l.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:o,verticalPixelRatio:h})=>{a.strokeStyle=this.qm(),a.fillStyle=this.qm();const c=Math.max(1,Math.floor(o)),d=Math.floor(.5*o);a.beginPath();const f=Math.round(r.T*h);for(let g=i.length;g--;){const x=Math.round(i[g].coord*o);a.rect(x-d,0,c,f)}a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{const o=r.C+r.T+r.L+r.P/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.$(),a.font=this._p();for(const h of i)if(h.weight<n){const c=h.needAlignCoordinate?this.Ym(a,h.coord,h.label):h.coord;a.fillText(h.label,c,o)}this.Qd.W().timeScale.allowBoldLabels&&(a.font=this.Zm());for(const h of i)if(h.weight>=n){const c=h.needAlignCoordinate?this.Ym(a,h.coord,h.label):h.coord;a.fillText(h.label,c,o)}})}Ym(e,s,i){const n=this.Fv.xi(e,i),r=n/2,l=Math.floor(s-r)+.5;return l<0?s+=Math.abs(0-l):l+n>this.Ev.width&&(s-=Math.abs(this.Ev.width-(l+n))),s}Um(e,s){const i=this.jm();for(const n of e)for(const r of n.Qi())r.gt().X(s,i)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return Gs(this.j(),this.cn.fontFamily)}Zm(){return Gs(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new Ji,Hm:0});const e=this.k,s=this._p();if(e.R!==s){const i=this.j();e.P=i,e.R=s,e.L=3*i/12,e.B=3*i/12,e.ji=9*i/12,e.N=0,e.Hm=4*i/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),s=e.W();s.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),s.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const i={ud:this.Qd.$t().ud()},n=()=>s.leftPriceScale.borderVisible&&e.St().W().borderVisible,r=()=>e.bd();s.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new Qh("left",s,i,n,r),this.Bm.appendChild(this.Rm.lp())),s.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new Qh("right",s,i,n,r),this.Am.appendChild(this.Dm.lp()))}}const Ex=!!Ys&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Ys&&(!(($l=navigator==null?void 0:navigator.userAgentData)===null||$l===void 0)&&$l.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var $l;class jx{constructor(e,s,i){var n;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new oe,this.Op=new oe,this.Rc=new oe,this.ib=null,this.nb=null,this.Jd=e,this.cn=s,this.q_=i,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(n=this.Xd).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),Ol(this.cn)&&this.hb(!0),this.$i=new ux(this.Vc.bind(this),this.cn,i),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new Cx(this,this.q_),this.sb.appendChild(this.ab.lp());const r=s.autoSize&&this.ob();let l=this.cn.width,a=this.cn.height;if(r||l===0||a===0){const o=e.getBoundingClientRect();l=l||o.width,a=a||o.height}this._b(l,a),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],j(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,s,i=!1){if(this.ho===s&&this.__===e)return;const n=function(a){const o=Math.floor(a.width),h=Math.floor(a.height);return J({width:o-o%2,height:h-h%2})}(J({width:e,height:s}));this.ho=n.height,this.__=n.width;const r=this.ho+"px",l=this.__+"px";j(this.Xd).style.height=r,j(this.Xd).style.width=l,this.sb.style.height=r,this.sb.style.width=l,i?this.mb(ge.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=ge.es());for(let s=0;s<this.Xm.length;s++)this.Xm[s].vp(e.Hn(s).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const s=Ol(this.cn);this.$i.$h(e);const i=Ol(this.cn);i!==s&&this.hb(i),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),s=document.createElement("canvas");s.width=e.width,s.height=e.height;const i=j(s.getContext("2d"));return this.gb(i),s}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:j(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return _e(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let s=0,i=0;const n=this.Xm[0],r=(a,o)=>{let h=0;for(let c=0;c<this.Xm.length;c++){const d=this.Xm[c],f=j(a==="left"?d.wm():d.gm()),g=f.xp();e!==null&&f.Sp(e,o,h),h+=g.height}};this.xb()&&(r("left",0),s+=j(n.wm()).xp().width);for(let a=0;a<this.Xm.length;a++){const o=this.Xm[a],h=o.xp();e!==null&&o.Sp(e,s,i),i+=h.height}s+=n.xp().width,this.Sb()&&(r("right",s),s+=j(n.gm()).xp().width);const l=(a,o,h)=>{j(a==="left"?this.ab.Lm():this.ab.Em()).Sp(j(e),o,h)};if(this.cn.timeScale.visible){const a=this.ab.xp();if(e!==null){let o=0;this.xb()&&(l("left",o,i),o=j(n.wm()).xp().width),this.ab.Sp(e,o,i),o+=a.width,this.Sb()&&l("right",o,i)}i+=a.height}return J({width:s,height:i})}Pb(){let e=0,s=0,i=0;for(const x of this.Xm)this.xb()&&(s=Math.max(s,j(x.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(i=Math.max(i,j(x.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=x.M_();s=Fo(s),i=Fo(i);const n=this.__,r=this.ho,l=Math.max(n-s-i,0),a=this.cn.timeScale.visible;let o=a?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var h;o=(h=o)+h%2;const c=0+o,d=r<c?0:r-c,f=d/e;let g=0;for(let x=0;x<this.Xm.length;++x){const y=this.Xm[x];y.qp(this.$i.qc()[x]);let b=0,m=0;m=x===this.Xm.length-1?d-g:Math.round(y.M_()*f),b=Math.max(m,2),g+=b,y.cp(J({width:l,height:b})),this.xb()&&y._m(s,"left"),this.Sb()&&y._m(i,"right"),y.fp()&&this.$i.Kc(y.fp(),b)}this.ab.Fm(J({width:a?l:0,height:o}),a?s:0,a?i:0),this.$i.S_(l),this.Gm!==s&&(this.Gm=s),this.Jm!==i&&(this.Jm=i)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return Ex?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const s=this.Rb(e),i=s*e.deltaX/100,n=-s*e.deltaY/100;if(e.cancelable&&e.preventDefault(),n!==0&&this.cn.handleScale.mouseWheel){const r=Math.sign(n)*Math.min(1,Math.abs(n)),l=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(l,r)}i!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*i)}mb(e,s){var i;const n=e.jn();n===3&&this.Db(),n!==3&&n!==2||(this.Vb(e),this.Ob(e,s),this.ab.bt(),this.Xm.forEach(r=>{r.Xp()}),((i=this.Qm)===null||i===void 0?void 0:i.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,s),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,s){for(const i of e.Qn())this.ns(i,s)}Vb(e){const s=this.$i.qc();for(let i=0;i<s.length;i++)e.Hn(i).Wn&&s[i].N_()}ns(e,s){const i=this.$i.St();switch(e.qn){case 0:i.hc();break;case 1:i.lc(e.Vt);break;case 2:i.Gn(e.Vt);break;case 3:i.Jn(e.Vt);break;case 4:i.qu();break;case 5:e.Vt.Qu(s)||i.Jn(e.Vt.tc(s))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(s=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const i=this.Qm;this.Qm=null,this.mb(i,s);for(const n of i.Qn())if(n.qn===5&&!n.Vt.Qu(s)){this.$t().Zn(n.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),s=e.length,i=this.Xm.length;for(let n=s;n<i;n++){const r=_e(this.Xm.pop());this.sb.removeChild(r.lp()),r.lm().p(this),r.am().p(this),r.S()}for(let n=i;n<s;n++){const r=new Ya(this,e[n]);r.lm().l(this.Bb.bind(this),this),r.am().l(this.Ab.bind(this),this),this.Xm.push(r),this.sb.insertBefore(r.lp(),this.ab.lp())}for(let n=0;n<s;n++){const r=e[n],l=this.Xm[n];l.fp()!==r?l.qp(r):l.Up()}this.cb(),this.Pb()}Ib(e,s,i){var n;const r=new Map;e!==null&&this.$i.wt().forEach(c=>{const d=c.In().ll(e);d!==null&&r.set(c,d)});let l;if(e!==null){const c=(n=this.$i.St().Ui(e))===null||n===void 0?void 0:n.originalTime;c!==void 0&&(l=c)}const a=this.$t().Wc(),o=a!==null&&a.Hc instanceof Xa?a.Hc:void 0,h=a!==null&&a.Iv!==void 0?a.Iv.gr:void 0;return{zb:l,ee:e??void 0,Lb:s??void 0,Eb:o,Nb:r,Fb:h,Wb:i??void 0}}Bb(e,s,i){this.Vp.m(()=>this.Ib(e,s,i))}Ab(e,s,i){this.Op.m(()=>this.Ib(e,s,i))}lb(e,s,i){this.Rc.m(()=>this.Ib(e,s,i))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const s=e.find(i=>i.target===this.Jd);s&&this._b(s.contentRect.width,s.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function Ol(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function kx(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function hm(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]])}return s}function Gh(t,e,s,i){const n=s.value,r={ee:e,ot:t,Vt:[n,n,n,n],zb:i};return s.color!==void 0&&(r.V=s.color),r}function _x(t,e,s,i){const n=s.value,r={ee:e,ot:t,Vt:[n,n,n,n],zb:i};return s.lineColor!==void 0&&(r.lt=s.lineColor),s.topColor!==void 0&&(r.Ps=s.topColor),s.bottomColor!==void 0&&(r.Rs=s.bottomColor),r}function Mx(t,e,s,i){const n=s.value,r={ee:e,ot:t,Vt:[n,n,n,n],zb:i};return s.topLineColor!==void 0&&(r.Re=s.topLineColor),s.bottomLineColor!==void 0&&(r.De=s.bottomLineColor),s.topFillColor1!==void 0&&(r.ke=s.topFillColor1),s.topFillColor2!==void 0&&(r.ye=s.topFillColor2),s.bottomFillColor1!==void 0&&(r.Ce=s.bottomFillColor1),s.bottomFillColor2!==void 0&&(r.Te=s.bottomFillColor2),r}function Tx(t,e,s,i){const n={ee:e,ot:t,Vt:[s.open,s.high,s.low,s.close],zb:i};return s.color!==void 0&&(n.V=s.color),n}function zx(t,e,s,i){const n={ee:e,ot:t,Vt:[s.open,s.high,s.low,s.close],zb:i};return s.color!==void 0&&(n.V=s.color),s.borderColor!==void 0&&(n.Ot=s.borderColor),s.wickColor!==void 0&&(n.Xh=s.wickColor),n}function Px(t,e,s,i,n){const r=_e(n)(s),l=Math.max(...r),a=Math.min(...r),o=r[r.length-1],h=[o,l,a,o],c=s,{time:d,color:f}=c;return{ee:e,ot:t,Vt:h,zb:i,$e:hm(c,["time","color"]),V:f}}function $n(t){return t.Vt!==void 0}function Yh(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function Yt(t){return(e,s,i,n,r,l)=>function(a,o){return o?o(a):(h=a).open===void 0&&h.value===void 0;var h}(i,l)?Yh({ot:e,ee:s,zb:n},i):Yh(t(e,s,i,n,r),i)}function Jh(t){return{Candlestick:Yt(zx),Bar:Yt(Tx),Area:Yt(_x),Baseline:Yt(Mx),Histogram:Yt(Gh),Line:Yt(Gh),Custom:Yt(Px)}[t]}function qh(t){return{ee:0,Hb:new Map,la:t}}function Zh(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function ec(t){let e;return t.forEach(s=>{e===void 0&&(e=s.zb)}),_e(e)}class Lx{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,s){let i=this.qb.size!==0,n=!1;const r=this.Yb.get(e);if(r!==void 0)if(this.Yb.size===1)i=!1,n=!0,this.qb.clear();else for(const o of this.Xb)o.pointData.Hb.delete(e)&&(n=!0);let l=[];if(s.length!==0){const o=s.map(g=>g.time),h=this.q_.createConverterToInternalObj(s),c=Jh(e.Qh()),d=e.Ca(),f=e.Ta();l=s.map((g,x)=>{const y=h(g.time),b=this.q_.key(y);let m=this.qb.get(b);m===void 0&&(m=qh(y),this.qb.set(b,m),n=!0);const p=c(y,m.ee,g,o[x],d,f);return m.Hb.set(e,p),p})}i&&this.Gb(),this.Jb(e,l);let a=-1;if(n){const o=[];this.qb.forEach(h=>{o.push({timeWeight:0,time:h.la,pointData:h,originalTime:ec(h.Hb)})}),o.sort((h,c)=>this.q_.key(h.time)-this.q_.key(c.time)),a=this.Qb(o)}return this.tw(e,a,function(o,h,c){const d=Zh(o,c),f=Zh(h,c);if(d!==void 0&&f!==void 0)return{ta:d.Ub>=f.Ub&&d.$b>=f.$b}}(this.Yb.get(e),r,this.q_))}vd(e){return this.Kb(e,[])}iw(e,s){const i=s;(function(y){y.zb===void 0&&(y.zb=y.time)})(i),this.q_.preprocessData(s);const n=this.q_.createConverterToInternalObj([s])(s.time),r=this.Zb.get(e);if(r!==void 0&&this.q_.key(n)<this.q_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${n}`);let l=this.qb.get(this.q_.key(n));const a=l===void 0;l===void 0&&(l=qh(n),this.qb.set(this.q_.key(n),l));const o=Jh(e.Qh()),h=e.Ca(),c=e.Ta(),d=o(n,l.ee,s,i.zb,h,c);l.Hb.set(e,d),this.nw(e,d);const f={ta:$n(d)};if(!a)return this.tw(e,-1,f);const g={timeWeight:0,time:l.la,pointData:l,originalTime:ec(l.Hb)},x=on(this.Xb,this.q_.key(g.time),(y,b)=>this.q_.key(y.time)<b);this.Xb.splice(x,0,g);for(let y=x;y<this.Xb.length;++y)Fl(this.Xb[y].pointData,y);return this.q_.fillWeightsForPoints(this.Xb,x),this.tw(e,x,f)}nw(e,s){let i=this.Yb.get(e);i===void 0&&(i=[],this.Yb.set(e,i));const n=i.length!==0?i[i.length-1]:null;n===null||this.q_.key(s.ot)>this.q_.key(n.ot)?$n(s)&&i.push(s):$n(s)?i[i.length-1]=s:i.splice(-1,1),this.Zb.set(e,s.ot)}Jb(e,s){s.length!==0?(this.Yb.set(e,s.filter($n)),this.Zb.set(e,s[s.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let s=-1;for(let i=0;i<this.Xb.length&&i<e.length;++i){const n=this.Xb[i],r=e[i];if(this.q_.key(n.time)!==this.q_.key(r.time)){s=i;break}r.timeWeight=n.timeWeight,Fl(r.pointData,i)}if(s===-1&&this.Xb.length!==e.length&&(s=Math.min(this.Xb.length,e.length)),s===-1)return-1;for(let i=s;i<e.length;++i)Fl(e[i].pointData,i);return this.q_.fillWeightsForPoints(e,s),this.Xb=e,s}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(s=>{s.length!==0&&(e=Math.max(e,s[s.length-1].ee))}),e}tw(e,s,i){const n={ew:new Map,St:{Eu:this.sw()}};if(s!==-1)this.Yb.forEach((r,l)=>{n.ew.set(l,{$e:r,rw:l===e?i:void 0})}),this.Yb.has(e)||n.ew.set(e,{$e:[],rw:i}),n.St.hw=this.Xb,n.St.lw=s;else{const r=this.Yb.get(e);n.ew.set(e,{$e:r||[],rw:i})}return n}}function Fl(t,e){t.ee=e,t.Hb.forEach(s=>{s.ee=e})}function qa(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function tc(t){const e=qa(t);return t.V!==void 0&&(e.color=t.V),e}function Dx(t){const e=qa(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function Rx(t){const e=qa(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function cm(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function $x(t){const e=cm(t);return t.V!==void 0&&(e.color=t.V),e}function Ox(t){const e=cm(t),{V:s,Ot:i,Xh:n}=t;return s!==void 0&&(e.color=s),i!==void 0&&(e.borderColor=i),n!==void 0&&(e.wickColor=n),e}function Io(t){return{Area:Dx,Line:tc,Baseline:Rx,Histogram:tc,Bar:$x,Candlestick:Ox,Custom:Fx}[t]}function Fx(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const Ax={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Bx={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Ix={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Ia,attributionLogo:!0},Al={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Ux={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},Vx={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Ia,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function sc(){return{width:0,height:0,autoSize:!1,layout:Ix,crosshair:Ax,grid:Bx,overlayPriceScales:Object.assign({},Al),leftPriceScale:Object.assign(Object.assign({},Al),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Al),{visible:!0}),timeScale:Ux,watermark:Vx,localization:{locale:Ys?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Wx{constructor(e,s){this.aw=e,this.ow=s}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return Kr(this.ow)?this.aw.Mb(this.ow):0}Li(){return j(this.aw.$t().Uc(this.ow)).Dt}}function ic(t,e,s){const i=hm(t,["time","originalTime"]),n=Object.assign({time:e},i);return s!==void 0&&(n.originalTime=s),n}const Hx={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Kx{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class Xx{constructor(e,s,i,n,r){this.uw=new oe,this.Es=e,this.cw=s,this.dw=i,this.q_=r,this.fw=n}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const s=this.Es.Ct();return s===null?null:this.Es.Dt().Rt(e,s.Vt)}coordinateToPrice(e){const s=this.Es.Ct();return s===null?null:this.Es.Dt().pn(e,s.Vt)}barsInLogicalRange(e){if(e===null)return null;const s=new Bs(new Mi(e.from,e.to)).lu(),i=this.Es.In();if(i.Ni())return null;const n=i.ll(s.Os(),1),r=i.ll(s.ui(),-1),l=j(i.el()),a=j(i.An());if(n!==null&&r!==null&&n.ee>r.ee)return{barsBefore:e.from-l,barsAfter:a-e.to};const o={barsBefore:n===null||n.ee===l?e.from-l:n.ee-l,barsAfter:r===null||r.ee===a?a-e.to:a-r.ee};return n!==null&&r!==null&&(o.from=n.zb,o.to=r.zb),o}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,s){const i=this.Es.In().ll(e,s);return i===null?null:Io(this.seriesType())(i)}data(){const e=Io(this.seriesType());return this.Es.In().ne().map(s=>e(s))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const s=e.map(i=>ic(i,this.q_.convertHorzItemToInternal(i.time),i.time));this.Es.na(s)}markers(){return this.Es.sa().map(e=>ic(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return xt(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const s=nt(xt(Hx),e),i=this.Es.ea(s);return new Kx(i)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class Qx{constructor(e,s,i){this.ww=new oe,this.mu=new oe,this.Om=new oe,this.$i=e,this.yl=e.St(),this.ab=s,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=i}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,s){s?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const s={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},i=this.yl.Iu(s);this.$i.pd(i)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){Ht(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const s=this.$i.St();return s.Ni()?null:s.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const s=this.q_.convertHorzItemToInternal(e),i=this.yl.Va(s,!1);return i===null?null:this.yl.It(i)}coordinateToTime(e){const s=this.$i.St(),i=s.Nu(e),n=s.Ui(i);return n===null?null:n.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},xt(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function Gx(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(s){if(s>=1)return 0;let i=0;for(;i<8;i++){const n=Math.round(s);if(Math.abs(n-s)<1e-8)return i;s*=10}return i}(e.minMove))}function nc(t){return function(e){if(kn(e.handleScale)){const i=e.handleScale;e.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:n}=e.handleScale;kn(i)&&(e.handleScale.axisPressedMouseMove={time:i,price:i}),kn(n)&&(e.handleScale.axisDoubleClickReset={time:n,price:n})}const s=e.handleScroll;kn(s)&&(e.handleScroll={horzTouchDrag:s,vertTouchDrag:s,mouseWheel:s,pressedMouseMove:s})}(t),t}class Yx{constructor(e,s,i){this.Sw=new Map,this.kw=new Map,this.yw=new oe,this.Cw=new oe,this.Tw=new oe,this.Pw=new Lx(s);const n=i===void 0?xt(sc()):nt(xt(sc()),nc(i));this.q_=s,this.aw=new jx(e,n,s),this.aw.lm().l(l=>{this.yw.M()&&this.yw.m(this.Rw(l()))},this),this.aw.am().l(l=>{this.Cw.M()&&this.Cw.m(this.Rw(l()))},this),this.aw.Xc().l(l=>{this.Tw.M()&&this.Tw.m(this.Rw(l()))},this);const r=this.aw.$t();this.Dw=new Qx(r,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,s,i){this.autoSizeActive()||this.aw._b(e,s,i)}addCustomSeries(e,s){const i=Ps(e),n=Object.assign(Object.assign({},Bf),i.defaultOptions());return this.Vw("Custom",n,s,i)}addAreaSeries(e){return this.Vw("Area",Lv,e)}addBaselineSeries(e){return this.Vw("Baseline",Dv,e)}addBarSeries(e){return this.Vw("Bar",zv,e)}addCandlestickSeries(e={}){return function(s){s.borderColor!==void 0&&(s.borderUpColor=s.borderColor,s.borderDownColor=s.borderColor),s.wickColor!==void 0&&(s.wickUpColor=s.wickColor,s.wickDownColor=s.wickColor)}(e),this.Vw("Candlestick",Tv,e)}addHistogramSeries(e){return this.Vw("Histogram",Rv,e)}addLineSeries(e){return this.Vw("Line",Pv,e)}removeSeries(e){const s=_e(this.Sw.get(e)),i=this.Pw.vd(s);this.aw.$t().vd(s),this.Ow(i),this.Sw.delete(e),this.kw.delete(s)}pw(e,s){this.Ow(this.Pw.Kb(e,s))}bw(e,s){this.Ow(this.Pw.iw(e,s))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new Wx(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(nc(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,s,i){const n=this.Sw.get(i);if(n===void 0)return;const r=this.aw.$t().dr(n);r!==null&&this.aw.$t().ad(e,s,r)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,s,i={},n){Gx(i.priceFormat);const r=nt(xt(If),xt(s),i),l=this.aw.$t().dd(e,r,n),a=new Xx(l,this,this,this,this.q_);return this.Sw.set(a,l),this.kw.set(l,a),a}Ow(e){const s=this.aw.$t();s._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((i,n)=>n.J(i.$e,i.rw)),s.Wu()}Bw(e){return _e(this.kw.get(e))}Rw(e){const s=new Map;e.Nb.forEach((n,r)=>{const l=r.Qh(),a=Io(l)(n);if(l!=="Custom")Ht(kx(a));else{const o=r.Ta();Ht(!o||o(a)===!1)}s.set(this.Bw(r),a)});const i=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:i,hoveredObjectId:e.Fb,seriesData:s,sourceEvent:e.Wb}}}function Jx(t,e,s){let i;if(ln(t)){const r=document.getElementById(t);Ht(r!==null,`Cannot find element in DOM with id=${t}`),i=r}else i=t;const n=new Yx(i,e,s);return e.setOptions(n.options()),n}function qx(t,e){return Jx(t,new Vh,Vh.Id(e))}Object.assign(Object.assign({},If),Bf);const Zx=[{label:"1m",value:"1m",minutes:1},{label:"5m",value:"5m",minutes:5},{label:"15m",value:"15m",minutes:15},{label:"1h",value:"1h",minutes:60},{label:"4h",value:"4h",minutes:240},{label:"1d",value:"1d",minutes:1440},{label:"1w",value:"1w",minutes:10080}],dm=()=>{const{selectedToken:t}=ei(),e=N.useRef(null),s=N.useRef(null),i=N.useRef(null),[n,r]=N.useState("15m"),[l,a]=N.useState(0);return N.useEffect(()=>{if(!e.current)return;const o=qx(e.current,{width:e.current.clientWidth,height:window.innerWidth<768?300:500,layout:{background:{color:"#0b0f19"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#1f2733"},horzLines:{color:"#1f2733"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#485c7b"},timeScale:{borderColor:"#485c7b",timeVisible:!0,secondsVisible:!1}}),h=o.addCandlestickSeries({upColor:"#4bffb5",downColor:"#ff4976",borderUpColor:"#4bffb5",borderDownColor:"#ff4976",wickUpColor:"#4bffb5",wickDownColor:"#ff4976"});s.current=o,i.current=h;const c=()=>{if(e.current){const d=window.innerWidth<768?300:500;o.applyOptions({width:e.current.clientWidth,height:d})}};return window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c),o.remove()}},[]),N.useEffect(()=>{t&&n&&(async()=>{try{const c=await(await fetch(`https://api.binance.com/api/v3/klines?symbol=${t}&interval=${n}&limit=100`)).json();if(i.current&&Array.isArray(c)){i.current.setData([]);const d=c.map(f=>{const[g,x,y,b,m]=f;return{time:Math.floor(g/1e3),open:parseFloat(x),high:parseFloat(y),low:parseFloat(b),close:parseFloat(m)}});i.current.setData(d),s.current.timeScale().fitContent()}}catch(h){console.error("Failed to fetch historical data:",h)}})()},[t,n]),N.useEffect(()=>{const o=Gt.onPriceUpdate(h=>{const c=h.find(d=>d.symbol===t);if(c&&i.current){const d=Date.now();if(d-l<5e3)return;a(d);const f=Math.floor(d/1e3);i.current.update({time:f,open:c.price,high:c.price,low:c.price,close:c.price})}});return()=>o()},[t,l]),u.jsxs("div",{className:"bg-[#0b0f19] rounded-lg overflow-hidden",children:[u.jsx("div",{className:"p-2 border-b border-[#1f2733] flex items-center justify-end space-x-2",children:Zx.map(({label:o,value:h})=>u.jsx("button",{onClick:()=>r(h),className:`px-3 py-1 rounded text-sm transition-colors ${n===h?"bg-[#4bffb5] text-[#0b0f19] font-medium":"text-[#d1d4dc] hover:bg-[#1f2733]"}`,children:o},h))}),u.jsx("div",{ref:e,className:"w-full h-[500px]"})]})},e1=()=>{var h;const{selectedToken:t}=ei(),[e,s]=N.useState([]),[i,n]=N.useState([]);N.useState(2);const[r,l]=N.useState(!1),[a,o]=N.useState(0);return N.useEffect(()=>{const c=Gt.onOrderBookUpdate(d=>{if(d.symbol===t){const f=Date.now();f-a>=500&&(n(d.bids.slice(0,6)),s(d.asks.slice(0,6)),o(f))}});return()=>c()},[t,a]),N.useEffect(()=>{if(r){const c=setTimeout(()=>{l(!1)},5e3);return()=>clearTimeout(c)}},[r]),u.jsxs("div",{className:"h-full w-full flex flex-col bg-[#0F172A] text-xs font-mono",children:[u.jsxs("button",{className:"p-3 border-b border-gray-800 flex items-center justify-between hover:bg-gray-800 transition-colors w-full",onClick:()=>l(!r),children:[u.jsx("span",{className:"text-gray-400",children:"Order Book"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"text-xs text-gray-400 mr-2",children:t}),r?u.jsx(br,{size:16}):u.jsx(tv,{size:16})]})]}),u.jsxs("div",{className:`flex-1 overflow-hidden transition-all duration-300 ${r?"h-auto":"h-0"}`,children:[u.jsxs("div",{className:"grid grid-cols-2 py-2 text-gray-500 text-[11px] px-3",children:[u.jsx("div",{children:"Price (USDT)"}),u.jsx("div",{className:"text-right",children:"Total (BTC)"})]}),u.jsxs("div",{className:"flex-1",children:[e.slice().reverse().map((c,d)=>u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 bg-[#3D1C1C] z-0",style:{width:`${c.depth*100}%`}}),u.jsxs("div",{className:"grid grid-cols-2 py-1 px-3 relative z-10",children:[u.jsx("div",{className:"text-[#FF5370]",children:c.price.toFixed(1)}),u.jsx("div",{className:"text-right text-gray-300",children:c.total.toFixed(3)})]})]},`ask-${d}`)),u.jsxs("div",{className:"grid grid-cols-2 py-1.5 px-3 bg-gray-800 bg-opacity-40 text-[11px]",children:[u.jsxs("div",{className:"text-gray-400",children:["Mark ",(h=i[0])==null?void 0:h.price.toFixed(2)]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-[#4CAF50]",children:"Long 57%"}),u.jsx("span",{className:"text-gray-400 mx-1",children:"|"}),u.jsx("span",{className:"text-[#FF5370]",children:"43% Short"})]})]})]}),u.jsx("div",{className:"flex-1",children:i.map((c,d)=>u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 right-0 bg-[#1C3D26] z-0",style:{width:`${c.depth*100}%`}}),u.jsxs("div",{className:"grid grid-cols-2 py-1 px-3 relative z-10",children:[u.jsx("div",{className:"text-[#4CAF50]",children:c.price.toFixed(1)}),u.jsx("div",{className:"text-right text-gray-300",children:c.total.toFixed(3)})]})]},`bid-${d}`))})]})]})},t1=[{label:"60s",value:60,display:"60s"},{label:"120s",value:120,display:"120s"},{label:"5min",value:300,display:"5min"},{label:"10min",value:600,display:"10min"}],s1=[{label:"1%",value:.01},{label:"50%",value:.5},{label:"75%",value:.75},{label:"100%",value:1}],i1=()=>{const{selectedToken:t,setSelectedToken:e}=ei(),{portfolioBalance:s,updateUsdtBalance:i,tokenBalances:n}=rn();N.useState("call");const[r,l]=N.useState(60),[a,o]=N.useState(""),[h,c]=N.useState(0),[d,f]=N.useState(0),[g,x]=N.useState(!1),[y,b]=N.useState(""),[m,p]=N.useState([]),[v,w]=N.useState([]),[S,E]=N.useState([]);N.useState(null);const[C,_]=N.useState("pending"),[F,z]=N.useState(""),[A,D]=N.useState([]),W=(()=>{const M=new Date,I=[],L=new Date(M);L.setMinutes(Math.ceil(M.getMinutes()/5)*5,0,0);for(let Z=0;Z<12;Z++){const lt=new Date(L.getTime()+Z*5*60*1e3),ti=lt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});I.push({value:lt.toISOString(),label:ti,time:lt})}return I})();N.useEffect(()=>{const M=Gt.onPriceUpdate(I=>{p(I);const L=I.find(Z=>Z.symbol===t);if(L){c(L.price),f(L.priceChange);const Z=new Date;D(lt=>lt.filter(Ee=>{if(Ee.scheduledTime&&Z>=Ee.scheduledTime){const an={...Ee,status:"active",entryPrice:h,expiryTime:new Date(Z.getTime()+Ee.duration*1e3)};return w(un=>[...un,an]),!1}return!0})),w(lt=>lt.map(Ee=>{if(Ee.status==="active"&&Z>=Ee.expiryTime){const an=Ee.amount*1.8;i(an-Ee.amount);const un={...Ee,status:"won",payout:an};return E(fm=>[un,...fm]),un}return Ee}).filter(Ee=>Ee.status==="active"))}});return()=>M()},[t,i]),N.useEffect(()=>{const M=setInterval(()=>{w(I=>I.map(L=>{if(L.status==="active"){const Z=Math.max(0,L.expiryTime.getTime()-Date.now());return{...L,timeLeft:Z}}return L}))},1e3);return()=>clearInterval(M)},[]);const ue=M=>M.replace("USDT",""),he=ue(t),pe=Ne[he],T=M=>R()*M,R=()=>n.reduce((M,I)=>{const L=O(I.symbol);return M+I.balance*L},0),O=M=>{if(M==="USDT")return 1;const I=m.find(L=>L.symbol===`${M}USDT`);return(I==null?void 0:I.price)||0},B=M=>{const I=T(M);o(I.toFixed(2))},X=M=>{if(!a||parseFloat(a)<=0)return;if(!F){alert("Please select a time for the trade");return}const I=parseFloat(a),L=R();if(I>L){alert("Insufficient balance");return}const Z=new Date(F);if(Z<=new Date){alert("Scheduled time must be in the future");return}const ti={id:Math.random().toString(36).substring(7),symbol:t,type:M,amount:I,entryPrice:0,expiryTime:new Date,duration:r,status:"pending",scheduledTime:Z};D(Ee=>[...Ee,ti]),o(""),z("")},jt=M=>{const I=Math.floor(M/1e3),L=Math.floor(I/60),Z=I%60;return L>0?`${L}:${Z.toString().padStart(2,"0")}`:`${Z}s`},Ye=m.filter(M=>M.symbol==="USDT"?!1:M.symbol.toLowerCase().includes(y.toLowerCase())).sort((M,I)=>I.price*I.volume-M.price*M.volume);return u.jsxs("div",{className:"flex flex-col lg:flex-row h-full bg-[#0F172A]",children:[u.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[u.jsxs("div",{className:"flex items-center justify-between p-2 md:p-4 border-b border-gray-800",children:[u.jsxs("button",{onClick:()=>x(!0),className:"flex items-center space-x-2 hover:bg-[#1E293B] p-1 md:p-2 rounded-lg transition-colors",children:[u.jsxs("div",{className:"flex items-center",children:[pe?u.jsx("img",{src:pe,alt:he,className:"w-6 h-6 md:w-8 md:h-8 rounded-full mr-2"}):u.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-[#22C55E] flex items-center justify-center text-white mr-2 text-sm",children:he[0]}),u.jsxs("div",{children:[u.jsxs("div",{className:"font-semibold text-sm md:text-base",children:[he," / USDT"]}),u.jsxs("div",{className:`text-xs md:text-sm ${d>=0?"text-[#22C55E]":"text-[#EF4444]"}`,children:[d>=0?"+":"",d.toFixed(2),"%"]})]})]}),u.jsx(br,{size:16,className:"md:w-5 md:h-5 text-gray-400"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg md:text-2xl font-bold",children:Q(h)}),u.jsxs("div",{className:"text-xs md:text-sm text-gray-400",children:["$",Q(h)]})]})]}),u.jsx("div",{className:"flex-1 p-2 md:p-4 min-h-0",children:u.jsx(dm,{})}),u.jsxs("div",{className:"border-t border-gray-800 lg:max-h-64 lg:overflow-y-auto",children:[u.jsxs("div",{className:"flex border-b border-gray-800",children:[u.jsxs("button",{className:`flex-1 p-2 md:p-4 text-xs md:text-sm ${C==="pending"?"text-[#22C55E] border-b-2 border-[#22C55E]":"text-gray-400"}`,onClick:()=>_("pending"),children:["Pending (",A.length,")"]}),u.jsxs("button",{className:`flex-1 p-2 md:p-4 text-xs md:text-sm ${C==="active"?"text-[#22C55E] border-b-2 border-[#22C55E]":"text-gray-400"}`,onClick:()=>_("active"),children:["Active Trades (",v.length,")"]}),u.jsxs("button",{className:`flex-1 p-2 md:p-4 text-xs md:text-sm ${C==="history"?"text-[#22C55E] border-b-2 border-[#22C55E]":"text-gray-400"}`,onClick:()=>_("history"),children:["History (",S.length,")"]})]}),u.jsxs("div",{className:"p-2 md:p-4 max-h-32 md:max-h-48 overflow-y-auto",children:[C==="pending"&&A.map(M=>{var I;return u.jsxs("div",{className:"bg-[#1E293B] p-2 md:p-4 rounded-lg mb-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.type==="call"?"bg-[#22C55E] text-white":"bg-[#EF4444] text-white"}`,children:M.type.toUpperCase()}),u.jsx("span",{className:"ml-2 text-xs md:text-sm",children:ue(M.symbol)})]}),u.jsx("div",{className:"text-sm text-yellow-500 font-medium",children:"SCHEDULED"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs md:text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400",children:"Amount"}),u.jsx("div",{children:Q(M.amount)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400",children:"Duration"}),u.jsxs("div",{children:[M.duration,"s"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400",children:"Start Time"}),u.jsx("div",{className:"text-yellow-500",children:(I=M.scheduledTime)==null?void 0:I.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]},M.id)}),C==="active"&&v.map(M=>u.jsxs("div",{className:"bg-[#1E293B] p-2 md:p-4 rounded-lg mb-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.type==="call"?"bg-[#22C55E] text-white":"bg-[#EF4444] text-white"}`,children:M.type.toUpperCase()}),u.jsx("span",{className:"ml-2 text-xs md:text-sm",children:ue(M.symbol)})]}),u.jsx("div",{className:"text-sm text-gray-400",children:M.timeLeft?jt(M.timeLeft):"Expired"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs md:text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400",children:"Amount"}),u.jsx("div",{children:Q(M.amount)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400",children:"Entry"}),u.jsx("div",{children:Q(M.entryPrice)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400",children:"Current"}),u.jsx("div",{className:h>M.entryPrice?"text-[#22C55E]":"text-[#EF4444]",children:Q(h)})]})]})]},M.id)),C==="history"&&S.map(M=>u.jsxs("div",{className:"bg-[#1E293B] p-2 md:p-4 rounded-lg mb-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.type==="call"?"bg-[#22C55E] text-white":"bg-[#EF4444] text-white"}`,children:M.type.toUpperCase()}),u.jsx("span",{className:"ml-2 text-xs md:text-sm",children:ue(M.symbol)})]}),u.jsx("div",{className:`text-sm font-medium ${M.status==="won"?"text-[#22C55E]":"text-[#EF4444]"}`,children:M.status==="won"?"WON":"LOST"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs md:text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400",children:"Amount"}),u.jsx("div",{children:Q(M.amount)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400",children:"Entry"}),u.jsx("div",{children:Q(M.entryPrice)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400",children:"Payout"}),u.jsx("div",{className:M.status==="won"?"text-[#22C55E]":"text-[#EF4444]",children:Q(M.payout||0)})]})]})]},M.id))]})]})]}),u.jsxs("div",{className:"w-full lg:w-80 border-t lg:border-t-0 lg:border-l border-gray-800 bg-[#1E293B] flex flex-col",children:[u.jsxs("div",{className:"p-2 md:p-4 border-b border-gray-800",children:[u.jsx("h3",{className:"text-base md:text-lg font-semibold mb-4",children:"Trade"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"text-xs md:text-sm text-gray-400 mb-2 block",children:"Time"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:t1.map(M=>u.jsx("button",{onClick:()=>l(M.value),className:`p-2 rounded text-xs md:text-sm font-medium transition-colors ${r===M.value?"bg-[#22C55E] text-white":"bg-[#2D3748] text-gray-300 hover:bg-[#374151]"}`,children:M.display},M.value))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"text-xs md:text-sm text-gray-400 mb-2 block",children:"Schedule Time (Next Hour)"}),u.jsxs("select",{value:F,onChange:M=>z(M.target.value),className:"w-full bg-[#2D3748] text-white p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#22C55E] text-xs md:text-sm",children:[u.jsx("option",{value:"",children:"Select time to start trade"}),W.map(M=>u.jsx("option",{value:M.value,children:M.label},M.value))]}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Trade will start at the scheduled time and run for ",r,"s"]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"text-xs md:text-sm text-gray-400 mb-2 block",children:"Amount"}),u.jsx("input",{type:"number",value:a,onChange:M=>o(M.target.value),placeholder:"Please enter quantity",className:"w-full bg-[#2D3748] text-white p-2 md:p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#22C55E] mb-2 text-sm"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:s1.map(M=>u.jsx("button",{onClick:()=>B(M.value),className:"bg-[#2D3748] hover:bg-[#374151] text-gray-300 p-2 rounded text-xs md:text-sm transition-colors",children:M.label},M.value))})]}),u.jsxs("div",{className:"text-xs md:text-sm text-gray-400 mb-4",children:["Available: ",Q(R())]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4",children:[u.jsxs("button",{onClick:()=>X("call"),disabled:!a||parseFloat(a)<=0||!F,className:"bg-[#22C55E] hover:bg-[#16A34A] disabled:bg-gray-600 disabled:cursor-not-allowed text-white p-3 md:p-4 rounded-lg font-medium transition-all duration-200 flex flex-col items-center",children:[u.jsx("div",{className:"text-sm md:text-lg font-bold",children:"SCHEDULE CALL"}),u.jsx("div",{className:"text-xs md:text-sm opacity-80",children:"58.13%"})]}),u.jsxs("button",{onClick:()=>X("put"),disabled:!a||parseFloat(a)<=0||!F,className:"bg-[#EF4444] hover:bg-[#DC2626] disabled:bg-gray-600 disabled:cursor-not-allowed text-white p-3 md:p-4 rounded-lg font-medium transition-all duration-200 flex flex-col items-center",children:[u.jsx("div",{className:"text-sm md:text-lg font-bold",children:"SCHEDULE PUT"}),u.jsx("div",{className:"text-xs md:text-sm opacity-80",children:"54.87%"})]})]})]}),u.jsxs("div",{className:"p-2 md:p-4",children:[u.jsx("h4",{className:"text-xs md:text-sm font-medium text-gray-400 mb-2",children:"Assets"}),u.jsx("div",{className:"text-base md:text-lg font-semibold",children:Q(s)})]})]}),g&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#1E293B] rounded-lg w-full max-w-md max-h-[80vh] overflow-hidden",children:[u.jsxs("div",{className:"p-4 border-b border-gray-800",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Select Market"}),u.jsx("button",{onClick:()=>x(!1),children:u.jsx(Qs,{size:20})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:y,onChange:M=>b(M.target.value),placeholder:"Search markets",className:"w-full bg-[#2D3748] text-white pl-10 pr-4 py-2 rounded-lg"}),u.jsx(Ur,{size:20,className:"absolute left-3 top-2.5 text-gray-400"})]})]}),u.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:Ye.map(M=>{const I=ue(M.symbol),L=Ne[I];return u.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-[#2D3748] transition-colors",onClick:()=>{e(M.symbol),x(!1)},children:[u.jsxs("div",{className:"flex items-center",children:[L?u.jsx("img",{src:L,alt:I,className:"w-8 h-8 rounded-full mr-3"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-[#22C55E] flex items-center justify-center text-white mr-3",children:I[0]}),u.jsxs("div",{children:[u.jsxs("div",{className:"font-medium",children:[I,"/USDT"]}),u.jsx("div",{className:"text-sm text-gray-400",children:Q(M.price)})]})]}),u.jsxs("div",{className:`text-sm ${M.priceChange>=0?"text-[#22C55E]":"text-[#EF4444]"}`,children:[M.priceChange>=0?"+":"",M.priceChange.toFixed(2),"%"]})]},M.symbol)})})]})})]})},n1=[{name:"Ethereum (ERC20)",protocol:"ERC20",fee:"10-25 USDT",time:"10-30 mins",min:"25 USDT",address:"0xA1E3B4288366e32ffD4AECF6D512b5b18dBA5595"},{name:"Tron (TRC20)",protocol:"TRC20",fee:"1 USDT",time:"1-3 mins",min:"1 USDT",address:"TLBJwHWe2o3S5sW8MMdrRtZcuxSQNBqnC3"}],di=[{symbol:"USDT",name:"Tether USD"},{symbol:"BTC",name:"Bitcoin"},{symbol:"ETH",name:"Ethereum"},{symbol:"SOL",name:"Solana"},{symbol:"TRX",name:"TRON"},{symbol:"USDC",name:"USD Coin"},{symbol:"BNB",name:"BNB"},{symbol:"XRP",name:"XRP"},{symbol:"ADA",name:"Cardano"},{symbol:"DOGE",name:"Dogecoin"}],r1=({isOpen:t,onClose:e})=>{const[s,i]=N.useState("crypto"),[n,r]=N.useState(""),[l,a]=N.useState(null),[o,h]=N.useState(null),[c,d]=N.useState(!1);if(!t)return null;const f=di.filter(m=>m.symbol.toLowerCase().includes(n.toLowerCase())||m.name.toLowerCase().includes(n.toLowerCase())),g=m=>{navigator.clipboard.writeText(m),d(!0),setTimeout(()=>d(!1),2e3)},x=()=>u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"History"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:di.slice(0,6).map(m=>u.jsx("button",{className:"bg-[#2D3748] hover:bg-[#374151] rounded-lg py-2 text-center transition-colors",onClick:()=>a(m.symbol),children:m.symbol},m.symbol))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Hot"}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:di.slice(0,6).map(m=>u.jsx("button",{className:"bg-[#2D3748] hover:bg-[#374151] rounded-lg py-2 text-center transition-colors",onClick:()=>a(m.symbol),children:m.symbol},m.symbol))})]}),u.jsx("div",{className:"space-y-2",children:f.map(m=>{const p=Ne[m.symbol];return u.jsxs("button",{className:"w-full flex items-center p-3 hover:bg-[#2D3748] rounded-lg transition-colors",onClick:()=>a(m.symbol),children:[p?u.jsx("img",{src:p,alt:m.symbol,className:"w-8 h-8 rounded-full mr-3"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-[#22C55E] flex items-center justify-center text-white mr-3",children:m.symbol[0]}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-medium",children:m.symbol}),u.jsx("div",{className:"text-sm text-gray-400",children:m.name})]})]},m.symbol)})})]}),y=()=>{const m=di.find(w=>w.symbol===l);if(!m)return null;const p=m.symbol==="USDT"?n1:[],v=Ne[m.symbol];return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-white mr-3",children:u.jsx(wr,{size:24})}),u.jsxs("div",{className:"flex items-center",children:[v?u.jsx("img",{src:v,alt:m.symbol,className:"w-8 h-8 rounded-full mr-3"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-[#22C55E] flex items-center justify-center text-white mr-3",children:m.symbol[0]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:m.symbol}),u.jsx("div",{className:"text-sm text-gray-400",children:m.name})]})]})]}),u.jsxs("div",{className:"bg-[#2D3748] p-4 rounded-lg mb-4",children:[u.jsx("div",{className:"flex items-center text-yellow-500 mb-2",children:u.jsx("span",{className:"text-sm",children:" Make sure you select the deposit network that corresponds to the withdrawal platform. Failure to do so may result in the loss of your funds."})}),u.jsx("a",{href:"#",className:"text-[#22C55E] text-sm hover:underline",children:"Learn How to Select Deposit Network"})]}),p.length>0?u.jsx("div",{className:"space-y-3",children:p.map(w=>u.jsxs("button",{className:"w-full bg-[#2D3748] hover:bg-[#374151] rounded-lg p-4 text-left transition-colors",onClick:()=>h(w),children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:w.protocol}),u.jsx("span",{className:"text-gray-400 ml-2",children:w.name.split("(")[0].trim()})]}),u.jsx(Lo,{size:20,className:"text-gray-400"})]}),u.jsxs("div",{className:"text-sm text-gray-400",children:[u.jsxs("div",{children:["Arrival Time  ",w.time]}),u.jsxs("div",{children:["Min Deposit: ",w.min]})]})]},w.protocol))}):u.jsxs("div",{className:"text-center text-gray-400 mt-8",children:["Network selection not available for ",m.symbol]})]})},b=()=>{if(!o||!l)return null;di.find(p=>p.symbol===l);const m=Ne[l];return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-white mr-3",children:u.jsx(wr,{size:24})}),u.jsxs("h2",{className:"text-xl font-semibold",children:["Deposit ",l]})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx(Af,{value:o.address||"",size:200,level:"H",imageSettings:{src:m||"",height:40,width:40,excavate:!0}})}),u.jsxs("div",{className:"text-center text-gray-400 mb-6",children:["For ",l," deposit only"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-[#2D3748] rounded-lg",children:[u.jsxs("div",{className:"p-4 border-b border-gray-700",children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Network"}),u.jsxs("div",{className:"font-medium",children:[o.protocol," ",o.name.split("(")[1].replace(")","")]})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Address"}),u.jsxs("div",{className:"flex items-center justify-between bg-[#374151] p-3 rounded",children:[u.jsx("div",{className:"font-mono text-sm break-all",children:o.address}),u.jsx("button",{onClick:()=>g(o.address||""),className:"ml-2 text-[#22C55E] hover:text-[#16A34A]",children:u.jsx(iv,{size:20})})]}),c&&u.jsx("div",{className:"text-[#22C55E] text-sm mt-1",children:"Address copied!"})]})]}),u.jsxs("div",{className:"bg-[#2D3748] rounded-lg p-4 space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Deposit to"}),u.jsx("span",{children:"Trading Account"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Min Deposit"}),u.jsxs("span",{children:[o.min," ",l]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Expected Arrival"}),u.jsx("span",{children:o.time})]})]})]}),u.jsxs("div",{className:"flex space-x-4 mt-6",children:[u.jsx("button",{className:"flex-1 bg-[#2D3748] text-white py-3 rounded-lg font-medium hover:bg-[#374151] transition-all duration-200",children:"Save Image"}),u.jsx("button",{className:"flex-1 bg-[#22C55E] hover:bg-[#16A34A] text-white py-3 rounded-lg font-medium transition-all duration-200",children:"Share Address"})]})]})};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#1E293B] rounded-lg w-full max-w-md h-[80vh] flex flex-col",children:[!o&&u.jsxs("div",{className:"p-4 border-b border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Deposit"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:u.jsx(Qs,{size:24})})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{className:`flex-1 py-2 text-center rounded-lg transition-colors ${s==="crypto"?"bg-[#22C55E] text-white":"text-gray-400 hover:text-white"}`,onClick:()=>i("crypto"),children:"Crypto"}),u.jsx("button",{className:`flex-1 py-2 text-center rounded-lg transition-colors ${s==="fiat"?"bg-[#22C55E] text-white":"text-gray-400 hover:text-white"}`,onClick:()=>i("fiat"),children:"Fiat"})]})]}),u.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:s==="crypto"?o?b():l?y():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative mb-4",children:[u.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:m=>r(m.target.value),className:"w-full bg-[#2D3748] text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#22C55E]"}),u.jsx(Ur,{size:20,className:"absolute left-3 top-2.5 text-gray-400"})]}),x()]}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Coming Soon"}),u.jsx("p",{className:"text-gray-400",children:"Fiat deposits will be available shortly"})]})})})]})})},l1=[{name:"Ethereum (ERC20)",protocol:"ERC20",fee:"10-25 USDT",time:"10-30 mins",min:"25 USDT"},{name:"Tron (TRC20)",protocol:"TRC20",fee:"1 USDT",time:"1-3 mins",min:"1 USDT"}],o1=({isOpen:t,onClose:e})=>{const[s,i]=N.useState("crypto"),[n,r]=N.useState(""),[l,a]=N.useState(null),[o,h]=N.useState(null),[c,d]=N.useState(!1),[f,g]=N.useState(""),[x,y]=N.useState(""),[b,m]=N.useState(!1),[p,v]=N.useState(!1),[w,S]=N.useState(null),{tokenBalances:E}=rn();if(!t)return null;const C=()=>o?o.protocol==="ERC20"?15:1:0,_=()=>{if(!o||!f||!x)return;const D={token:l,network:o.protocol,amount:parseFloat(f),address:x,fee:C(),timestamp:new Date().toISOString()};S(D),m(!0),setTimeout(()=>{m(!1),v(!0),setTimeout(()=>{v(!1),e(),a(null),h(null),g(""),y("")},2e3)},2e3)},F=()=>{const D=E.find($=>$.symbol===l);D&&g(D.balance.toString())};if(p)return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#1E293B] rounded-lg w-full max-w-md p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-[#22C55E] rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Oa,{size:32,className:"text-white"})}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Withdrawal Initiated!"}),u.jsx("p",{className:"text-gray-400 mb-4",children:"Your withdrawal request has been submitted successfully."}),u.jsx("div",{className:"bg-[#2D3748] rounded-lg p-4 text-left",children:u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsx("div",{className:"text-gray-400",children:"Amount:"}),u.jsxs("div",{children:[w.amount," ",w.token]}),u.jsx("div",{className:"text-gray-400",children:"Network:"}),u.jsx("div",{children:w.network}),u.jsx("div",{className:"text-gray-400",children:"Fee:"}),u.jsxs("div",{children:[w.fee," ",w.token]}),u.jsx("div",{className:"text-gray-400",children:"Status:"}),u.jsx("div",{className:"text-[#22C55E]",children:"Processing"})]})})]})});if(b)return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#1E293B] rounded-lg w-full max-w-md p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-[#2D3748] rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Fa,{size:32,className:"text-[#22C55E] animate-spin"})}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Processing Withdrawal"}),u.jsx("p",{className:"text-gray-400",children:"Please wait while we process your withdrawal request."})]})});const z=()=>{const D=E.filter($=>$.balance>0&&$.symbol.toLowerCase().includes(n.toLowerCase()));return u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"History"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:D.slice(0,6).map($=>u.jsx("button",{className:"bg-[#2D3748] hover:bg-[#374151] rounded-lg py-2 text-center transition-colors",onClick:()=>a($.symbol),children:$.symbol},$.symbol))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Available for Withdrawal"}),u.jsx("div",{className:"space-y-2",children:D.map($=>{const W=Ne[$.symbol];return u.jsxs("button",{className:"w-full flex items-center justify-between p-3 hover:bg-[#2D3748] rounded-lg transition-colors",onClick:()=>a($.symbol),children:[u.jsxs("div",{className:"flex items-center",children:[W?u.jsx("img",{src:W,alt:$.symbol,className:"w-8 h-8 rounded-full mr-3"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-[#22C55E] flex items-center justify-center text-white mr-3",children:$.symbol[0]}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-medium",children:$.symbol}),u.jsx("div",{className:"text-sm text-gray-400",children:$.symbol})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{children:$.balance.toFixed(8)}),u.jsxs("div",{className:"text-sm text-gray-400",children:["$",($.balance*($.symbol==="USDT"?1:100)).toFixed(2)]})]})]},$.symbol)})})]})]})},A=()=>{const D=E.find(W=>W.symbol===l);if(!D)return null;const $=Ne[D.symbol];return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-white mr-3",children:u.jsx(wr,{size:24})}),u.jsxs("div",{className:"flex items-center",children:[$?u.jsx("img",{src:$,alt:D.symbol,className:"w-8 h-8 rounded-full mr-3"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-[#22C55E] flex items-center justify-center text-white mr-3",children:D.symbol[0]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:D.symbol}),u.jsx("div",{className:"text-sm text-gray-400",children:"Tether"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Wallet Address"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:x,onChange:W=>y(W.target.value),placeholder:"Press and hold to paste",className:"w-full bg-[#2D3748] text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-1 focus:ring-[#22C55E]"}),u.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex space-x-2",children:[u.jsx("button",{className:"text-[#22C55E] hover:text-[#16A34A] p-1",children:"Address Book"}),u.jsx("button",{className:"text-[#22C55E] hover:text-[#16A34A] p-1",children:u.jsx(sv,{size:18})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Network"}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{className:"w-full bg-[#2D3748] hover:bg-[#374151] rounded-lg p-3 text-left flex items-center justify-between",onClick:()=>d(!c),children:[o?u.jsxs(u.Fragment,{children:[u.jsxs("span",{children:[o.protocol," ",o.name.split("(")[1].replace(")","")]}),u.jsxs("span",{className:"text-sm text-gray-400",children:["Fee: ",o.fee]})]}):u.jsx("span",{className:"text-gray-400",children:"Select a network"}),u.jsx(Lo,{size:20,className:"text-gray-400"})]}),c&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#2D3748] rounded-lg shadow-lg z-10",children:l1.map(W=>u.jsxs("button",{className:"w-full p-3 hover:bg-[#374151] text-left",onClick:()=>{h(W),d(!1)},children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:W.protocol}),u.jsx("span",{className:"text-gray-400 ml-2",children:W.name.split("(")[0].trim()})]})}),u.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[u.jsxs("div",{children:["Arrival Time  ",W.time]}),u.jsxs("div",{children:["Min Withdrawal: ",W.min]})]})]},W.protocol))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Withdrawal Amount"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",value:f,onChange:W=>g(W.target.value),placeholder:`Min amount 0 ${D.symbol}`,className:"w-full bg-[#2D3748] text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-1 focus:ring-[#22C55E]"}),u.jsx("button",{onClick:F,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[#22C55E] hover:text-[#16A34A] text-sm",children:"Max"})]}),u.jsxs("div",{className:"mt-2 text-sm",children:[u.jsxs("div",{className:"flex items-center text-gray-400",children:[u.jsxs("span",{children:["Available ",D.balance.toFixed(8)," ",D.symbol]}),u.jsx("button",{className:"ml-2 text-[#22C55E]",children:u.jsx(Lo,{size:16})})]}),u.jsx("div",{className:"flex items-center mt-1",children:u.jsxs("div",{className:"flex items-center text-[#22C55E] bg-[#22C55E] bg-opacity-10 px-2 py-0.5 rounded",children:[u.jsx("span",{children:"Funding Account"}),u.jsx("span",{className:"ml-2",children:"0.00"}),u.jsx("span",{className:"ml-1",children:"Priority"})]})}),u.jsx("div",{className:"flex items-center mt-1",children:u.jsxs("div",{className:"flex items-center text-[#22C55E] bg-[#22C55E] bg-opacity-10 px-2 py-0.5 rounded",children:[u.jsx("span",{children:"Trading Account"}),u.jsx("span",{className:"ml-2",children:D.balance.toFixed(8)})]})})]})]}),u.jsxs("div",{className:"bg-[#2D3748] rounded-lg p-4",children:[u.jsx("h4",{className:"text-gray-400 mb-2",children:"Note:"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[u.jsx("li",{children:"Daily withdrawal amount: The remaining daily withdrawal amount is 999,999 USDT. The maximum withdrawal amount is 999,999 USDT."}),u.jsx("li",{children:"Do not withdraw to an ICO or crowd funding address."}),u.jsx("li",{children:"We will process your withdrawal within 30 minutes. The time it takes for the assets to transfer to your wallet depends on the selected network."}),u.jsx("li",{children:"To enhance the security of your assets, large withdrawals may be processed manually."}),u.jsx("li",{children:"Withdrawals will be deducted from your Funding Account first, then your Trading Account."})]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[u.jsx("span",{className:"text-gray-400",children:"Amount Received"}),u.jsx("span",{children:f?`${(parseFloat(f)-C()).toFixed(2)} ${D.symbol}`:`-- ${D.symbol}`})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm mb-4",children:[u.jsx("span",{className:"text-gray-400",children:"Fee"}),u.jsx("span",{children:o?`${C()} ${D.symbol}`:`0 ${D.symbol}`})]}),u.jsx("button",{onClick:_,disabled:!f||!x||!o,className:"w-full bg-[#22C55E] hover:bg-[#16A34A] disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium transition-all duration-200",children:"Withdraw"})]})]})};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#1E293B] rounded-lg w-full max-w-md h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Withdraw"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:u.jsx(Qs,{size:24})})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{className:`flex-1 py-2 text-center rounded-lg transition-colors ${s==="crypto"?"bg-[#22C55E] text-white":"text-gray-400 hover:text-white"}`,onClick:()=>i("crypto"),children:"Crypto"}),u.jsx("button",{className:`flex-1 py-2 text-center rounded-lg transition-colors ${s==="fiat"?"bg-[#22C55E] text-white":"text-gray-400 hover:text-white"}`,onClick:()=>i("fiat"),children:"Fiat"})]})]}),u.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:s==="crypto"?l?A():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative mb-4",children:[u.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:D=>r(D.target.value),className:"w-full bg-[#2D3748] text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#22C55E]"}),u.jsx(Ur,{size:20,className:"absolute left-3 top-2.5 text-gray-400"})]}),z()]}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Coming Soon"}),u.jsx("p",{className:"text-gray-400",children:"Fiat withdrawals will be available shortly"})]})})})]})})},a1=()=>{const[t,e]=N.useState(!1),[s,i]=N.useState(!1),[n,r]=N.useState(!1),[l,a]=N.useState([]),{tokenBalances:o,positions:h}=rn(),[c,d]=N.useState(0);N.useEffect(()=>{const m=new Date;m.setHours(0,0,0,0);const p=Gt.onPriceUpdate(v=>{a(v);const w=h.reduce((S,E)=>{const C=E.openTime>=m,_=E.closeTime&&E.closeTime>=m;return C||_?S+(E.pnl||0):S},0);d(w)});return()=>p()},[h]);const f=m=>{var v;return m==="USDT"?1:((v=l.find(w=>w.symbol===`${m}USDT`))==null?void 0:v.price)||0},g=()=>o.reduce((m,p)=>{const v=f(p.symbol);return m+p.balance*v},0),y=(()=>{const m=g();return{exchange:m*.6,perpetual:m*.3,trade:m*.1}})(),b=[{icon:Z0,label:"Withdraw",color:"text-[#EF4444]",bgColor:"bg-[#EF4444]",onClick:()=>r(!0)},{icon:q0,label:"Deposit",color:"text-[#22C55E]",bgColor:"bg-[#22C55E]",onClick:()=>i(!0)},{icon:cv,label:"Transfer",color:"text-[#F59E0B]",bgColor:"bg-[#F59E0B]",onClick:()=>{}},{icon:$a,label:"Convert",color:"text-[#3B82F6]",bgColor:"bg-[#3B82F6]",onClick:()=>e(!0)}];return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"p-2 md:p-4 space-y-4 md:space-y-6",children:[u.jsxs("div",{className:"bg-[#1E293B] rounded-lg p-4 md:p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs md:text-sm text-gray-400 mb-1",children:"Total Assets Value"}),u.jsx("div",{className:"text-xl md:text-3xl font-bold",children:Q(g())})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs md:text-sm text-gray-400 mb-1",children:"Today's PNL"}),u.jsxs("div",{className:`text-lg md:text-xl font-semibold ${c>=0?"text-[#22C55E]":"text-[#EF4444]"}`,children:[c>=0?"+":"",Q(c),u.jsxs("span",{className:"text-xs md:text-sm ml-1",children:["(",c>=0?"+":"",(c/g()*100).toFixed(2),"%)"]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4",children:b.map(({icon:m,label:p,color:v,bgColor:w,onClick:S})=>u.jsxs("button",{onClick:S,className:"bg-[#2D3748] hover:bg-[#374151] rounded-lg p-3 md:p-4 transition-colors flex flex-col items-center justify-center group",children:[u.jsx("div",{className:`w-8 h-8 md:w-12 md:h-12 ${w} bg-opacity-10 rounded-full flex items-center justify-center mb-2 md:mb-3 group-hover:bg-opacity-20 transition-colors`,children:u.jsx(m,{className:`w-4 h-4 md:w-6 md:h-6 ${v}`})}),u.jsx("span",{className:"text-xs md:text-sm font-medium",children:p})]},p))})]}),u.jsxs("div",{className:"bg-[#1E293B] rounded-lg p-3 md:p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Real Account"}),u.jsx("div",{className:"bg-[#22C55E] bg-opacity-10 text-[#22C55E] px-2 md:px-3 py-1 rounded-full text-xs md:text-sm",children:"Active"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4 mb-4",children:[u.jsxs("div",{className:"bg-[#2D3748] rounded-lg p-3 md:p-4 text-center",children:[u.jsx("div",{className:"text-xs md:text-sm text-gray-400 mb-1",children:"Exchange"}),u.jsx("div",{className:"text-base md:text-lg font-semibold",children:Q(y.exchange)}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(y.exchange/g()*100).toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-[#2D3748] rounded-lg p-3 md:p-4 text-center",children:[u.jsx("div",{className:"text-xs md:text-sm text-gray-400 mb-1",children:"Perpetual"}),u.jsx("div",{className:"text-base md:text-lg font-semibold",children:Q(y.perpetual)}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(y.perpetual/g()*100).toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-[#2D3748] rounded-lg p-3 md:p-4 text-center",children:[u.jsx("div",{className:"text-xs md:text-sm text-gray-400 mb-1",children:"Trade"}),u.jsx("div",{className:"text-base md:text-lg font-semibold",children:Q(y.trade)}),u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(y.trade/g()*100).toFixed(1),"%"]})]})]})]}),u.jsxs("div",{className:"bg-[#1E293B] rounded-lg overflow-hidden",children:[u.jsx("div",{className:"p-3 md:p-4 border-b border-gray-700",children:u.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Holdings"})}),u.jsx("div",{className:"divide-y divide-gray-700",children:o.filter(m=>m.balance>0).map(m=>{const p=Ne[m.symbol],v=f(m.symbol),w=m.balance*v,S=w/g()*100;return u.jsx("div",{className:"p-3 md:p-4 hover:bg-[#2D3748] transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[p?u.jsx("img",{src:p,alt:m.symbol,className:"w-8 h-8 md:w-10 md:h-10 rounded-full mr-3 md:mr-4"}):u.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-[#22C55E] flex items-center justify-center text-white mr-3 md:mr-4 text-sm",children:m.symbol.substring(0,1)}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-base md:text-lg",children:m.symbol}),u.jsx("div",{className:"text-xs md:text-sm text-gray-400",children:m.symbol==="USDT"?"Tether USD":m.symbol})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-semibold text-base md:text-lg",children:Q(w)}),u.jsxs("div",{className:"text-xs md:text-sm text-gray-400",children:[m.balance.toLocaleString()," ",m.symbol]}),u.jsxs("div",{className:"text-xs text-gray-500",children:[S.toFixed(2),"% of portfolio"]})]})]})},m.symbol)})})]})]}),u.jsx(kf,{isOpen:t,onClose:()=>e(!1),prices:l,tokenBalances:o}),u.jsx(r1,{isOpen:s,onClose:()=>i(!1)}),u.jsx(o1,{isOpen:n,onClose:()=>r(!1)})]})},u1=()=>{wf(),Ir();const[t,e]=re.useState("home"),{selectedToken:s,setSelectedToken:i}=ei(),[n,r]=re.useState(!1),[l,a]=re.useState(!1),h=(g=>g.replace("USDT",""))(s),c=Ne[h],d=g=>{e(g)},f=()=>{switch(t){case"home":return u.jsx(Sv,{onNavigateToFutures:()=>d("futures")});case"markets":return u.jsxs("div",{className:"px-2 py-2",children:[u.jsxs("div",{className:"bg-[#1E293B] rounded-lg p-4 relative mb-4",children:[u.jsx("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>r(!n),children:u.jsxs("div",{className:"flex items-center",children:[c?u.jsx("img",{src:c,alt:h,className:"w-8 h-8 rounded-full mr-3"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-[#22C55E] flex items-center justify-center text-white mr-3",children:h.substring(0,1)}),u.jsxs("div",{children:[u.jsxs("div",{className:"font-semibold",children:[h,"/USDT"]}),u.jsx("div",{className:"text-sm text-gray-400",children:"Spot Trading"})]})]})}),n&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#1E293B] rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:u.jsx(Ro,{onSelect:g=>{i(g),r(!1)}})})]}),u.jsx(dm,{}),u.jsx(e1,{})]});case"futures":return u.jsx("div",{className:"px-2 py-2",children:u.jsx(i1,{})});case"portfolio":return u.jsx("div",{className:"px-2 py-2",children:u.jsx(a1,{})});case"support":return u.jsx("div",{className:"px-4 py-6",children:u.jsx("div",{className:"bg-[#1E293B] rounded-lg p-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Ef,{size:48,className:"text-[#22C55E] mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Support Center"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Get help with your trading questions and technical issues"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-[#2D3748] p-4 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-2",children:"FAQ"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Find answers to common questions"})]}),u.jsxs("div",{className:"bg-[#2D3748] p-4 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-2",children:"Live Chat"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Chat with our support team"})]}),u.jsxs("div",{className:"bg-[#2D3748] p-4 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-2",children:"Trading Guide"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Learn how to trade effectively"})]}),u.jsxs("div",{className:"bg-[#2D3748] p-4 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-2",children:"Contact Us"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Reach out via email or phone"})]})]})]})})});case"announcements":return u.jsx("div",{className:"px-4 py-6",children:u.jsxs("div",{className:"bg-[#1E293B] rounded-lg p-6",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx(Cf,{size:24,className:"text-[#22C55E] mr-3"}),u.jsx("h2",{className:"text-2xl font-semibold",children:"Announcements"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-[#2D3748] p-4 rounded-lg border-l-4 border-[#22C55E]",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h3",{className:"font-medium",children:"New Trading Pairs Added"}),u.jsx("span",{className:"text-xs text-gray-400",children:"2 hours ago"})]}),u.jsx("p",{className:"text-sm text-gray-400",children:"We've added support for 5 new trading pairs including SOL/USDT and MATIC/USDT"})]}),u.jsxs("div",{className:"bg-[#2D3748] p-4 rounded-lg border-l-4 border-[#3B82F6]",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h3",{className:"font-medium",children:"System Maintenance Complete"}),u.jsx("span",{className:"text-xs text-gray-400",children:"1 day ago"})]}),u.jsx("p",{className:"text-sm text-gray-400",children:"Scheduled maintenance has been completed. All systems are now operational."})]}),u.jsxs("div",{className:"bg-[#2D3748] p-4 rounded-lg border-l-4 border-[#F59E0B]",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("h3",{className:"font-medium",children:"Trading Competition"}),u.jsx("span",{className:"text-xs text-gray-400",children:"3 days ago"})]}),u.jsx("p",{className:"text-sm text-gray-400",children:"Join our monthly trading competition with prizes up to $10,000 USDT!"})]})]})]})});default:return null}};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-[#0F172A] text-white overflow-x-hidden",children:[u.jsx(bv,{activeTab:t,onTabChange:e}),u.jsx("main",{className:"flex-1 overflow-auto min-h-0",children:f()}),u.jsx(jf,{isOpen:l,onClose:()=>a(!1),initialMode:"login"})]})};function h1(){return u.jsx(I0,{children:u.jsx(Q0,{children:u.jsx(U0,{children:u.jsx(G0,{children:u.jsx(u1,{})})})})})}xf(document.getElementById("root")).render(u.jsx(N.StrictMode,{children:u.jsx(h1,{})}));
